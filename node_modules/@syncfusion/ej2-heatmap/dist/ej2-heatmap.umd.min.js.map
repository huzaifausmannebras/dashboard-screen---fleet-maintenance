{"version":3,"file":"ej2-heatmap.umd.min.js","sources":["../src/heatmap/utils/helper.js","../src/heatmap/model/theme.js","../src/heatmap/model/base.js","../src/heatmap/utils/colorMapping.js","../src/heatmap/axis/axis.js","../src/heatmap/axis/axis-helpers.js","../src/heatmap/series/series.js","../src/heatmap/utils/tooltip.js","../src/heatmap/datasource/twodimensional.js","../src/heatmap/legend/legend.js","../src/heatmap/datasource/adaptor.js","../src/heatmap/utils/export.js","../src/heatmap/heatmap.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { remove, createElement, isNullOrUndefined, compile as templateComplier } from '@syncfusion/ej2-base';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { RgbColor } from '../utils/colorMapping';\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {string} value - specifies the value\n * @param  {number} containerSize - specifies the containerSize\n * @returns {number} returns the number\n * @hidden\n */\nexport function stringToNumber(value, containerSize) {\n    if (value !== null && value !== undefined) {\n        return value.indexOf('%') !== -1 ? (containerSize / 100) * parseInt(value, 10) : parseInt(value, 10);\n    }\n    return null;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {string} text - specifies the text\n * @param  {FontModel} font - specifies the font\n * @returns {Size} returns the number\n * @hidden\n */\nexport function measureText(text, font) {\n    var breakText = text || '';\n    var htmlObject = document.getElementById('heatmapmeasuretext');\n    if (htmlObject === null) {\n        htmlObject = createElement('text', { id: 'heatmapmeasuretext' });\n        document.body.appendChild(htmlObject);\n    }\n    if (typeof (text) === 'string' && (text.indexOf('<') > -1 || text.indexOf('>') > -1)) {\n        var textArray = text.split(' ');\n        for (var i = 0; i < textArray.length; i++) {\n            if (textArray[i].indexOf('<br/>') === -1) {\n                textArray[i] = textArray[i].replace(/[<>]/g, '&');\n            }\n        }\n        text = textArray.join(' ');\n    }\n    htmlObject.innerText = (breakText.indexOf('<br>') > -1 || breakText.indexOf('<br/>') > -1) ? breakText : text;\n    htmlObject.style.position = 'absolute';\n    htmlObject.style.visibility = 'hidden';\n    htmlObject.style.fontSize = (font.size).indexOf('px') !== -1 ? font.size : font.size + 'px';\n    htmlObject.style.fontWeight = font.fontWeight;\n    htmlObject.style.fontStyle = font.fontStyle;\n    htmlObject.style.fontFamily = font.fontFamily;\n    htmlObject.style.top = '-100';\n    htmlObject.style.left = '0';\n    htmlObject.style.whiteSpace = 'nowrap';\n    // For bootstrap line height issue\n    htmlObject.style.lineHeight = 'normal';\n    return new Size(htmlObject.clientWidth, htmlObject.clientHeight);\n}\n/** @private */\nvar TextElement = /** @class */ (function () {\n    function TextElement(fontModel, fontColor) {\n        this['font-size'] = fontModel.size;\n        this['font-style'] = fontModel.fontStyle.toLowerCase();\n        this['font-family'] = fontModel.fontFamily;\n        this['font-weight'] = fontModel.fontWeight.toLowerCase();\n        this.fill = fontColor ? fontColor : '';\n    }\n    return TextElement;\n}());\nexport { TextElement };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {number} width - specifies the text\n * @param  {number} leftPadding - specifies the font\n * @param  {number} rightPadding - specifies the font\n * @param  {FontModel} titleStyle - specifies the font\n * @returns {number} returns the number\n * @hidden\n */\nexport function titlePositionX(width, leftPadding, rightPadding, titleStyle) {\n    var positionX;\n    if (titleStyle.textAlignment === 'Near') {\n        positionX = leftPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionX = leftPadding + width / 2;\n    }\n    else {\n        positionX = width + leftPadding;\n    }\n    return positionX;\n}\n/**\n * Specifies the size information of an element.\n */\nvar Size = /** @class */ (function () {\n    // eslint-disable-next-line valid-jsdoc\n    /** @private */\n    function Size(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    return Size;\n}());\nexport { Size };\n/** @private */\nvar CustomizeOption = /** @class */ (function () {\n    function CustomizeOption(id) {\n        this.id = id;\n    }\n    return CustomizeOption;\n}());\nexport { CustomizeOption };\n/** @private */\nvar PathOption = /** @class */ (function (_super) {\n    __extends(PathOption, _super);\n    function PathOption(id, fill, width, color, opacity, dashArray, d) {\n        var _this = _super.call(this, id) || this;\n        _this.opacity = opacity;\n        _this.fill = fill;\n        _this.stroke = color ? color : '';\n        _this['stroke-width'] = parseFloat(width.toString());\n        _this['stroke-dasharray'] = dashArray;\n        _this.d = d;\n        return _this;\n    }\n    return PathOption;\n}(CustomizeOption));\nexport { PathOption };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string | Function } template - Specifies the template\n * @param { HeatMap } heatMap - Specifies the heatmap\n * @param { HTMLElement }  labelTemplate - Specifies the label template\n * @param { any } rectPosition - Specifies the rect datas\n * @param { any } xLabels - Specifies the xlabels\n * @param { any } yLabels - Specifies the ylabels\n * @param { number } index - Specifies the index\n * @returns {any} templateFunction -  returns the size\n * @private\n */\n/* eslint-disable max-len */\nexport function createLabelTemplate(template, heatMap, labelTemplate, rectPosition, xLabels, yLabels, index) {\n    var templateFunction = getTemplateFunction(template, heatMap);\n    var rectData = null;\n    var dataSource = heatMap.dataSource;\n    if (heatMap.dataSourceSettings.isJsonData && (heatMap.dataSourceSettings.adaptorType === 'Cell' || heatMap.dataSourceSettings.adaptorType === 'Table')) {\n        var yLabelData_1 = heatMap.yAxis.valueType === 'Numeric' ? heatMap.yAxis.labels : yLabels;\n        var xLabelData_1 = heatMap.xAxis.valueType === 'Numeric' ? heatMap.xAxis.labels : xLabels;\n        dataSource.forEach(function (item) {\n            var yDataMapping = heatMap.dataSourceSettings.adaptorType === 'Cell' ? Object.keys(item).some(function (key) { return item[key] === yLabelData_1[rectPosition.yIndex]; }) : (Object.prototype.hasOwnProperty.call(item, yLabelData_1[rectPosition.yIndex]));\n            if (Object.keys(item).some(function (key) { return item[key] === xLabelData_1[rectPosition.xIndex]; }) && yDataMapping) {\n                rectData = item;\n            }\n        });\n    }\n    else {\n        rectData = { value: rectPosition.value, xLabel: xLabels[rectPosition.xIndex], yLabel: yLabels[rectPosition.yIndex] };\n    }\n    if (!isNullOrUndefined(templateFunction)) {\n        var tempElement = templateFunction(rectData, heatMap, templateFunction, heatMap.element.id + '_Template' + index, false);\n        var templateElement = convertElement(tempElement, heatMap.element.id + '_LabelTemplate_' + index);\n        templateElement.style.cssText = 'opacity: 1; display: flex; align-items: center; justify-content: center; z-index: 2; position: absolute;' + 'top:' + rectPosition.y + 'px;' + 'left:' + rectPosition.x + 'px;' + 'height:' + rectPosition.height + 'px;' + 'width:' + rectPosition.width + 'px;';\n        for (var i = 0; i < templateElement.children.length; i++) {\n            templateElement.children[i].style.pointerEvents = 'none';\n        }\n        labelTemplate.appendChild(templateElement);\n    }\n    return labelTemplate;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string | Function } template - Specifies the template\n * @param { HeatMap } heatMap - Specifies the heatmap\n * @returns {any}  -  returns the size\n * @private\n */\nexport function getTemplateFunction(template, heatMap) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var templateFn = null;\n    try {\n        if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n            templateFn = templateComplier(document.querySelector(template).innerHTML.trim());\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        }\n        else if (heatMap.isVue || heatMap.isVue3) {\n            templateFn = templateComplier(template);\n        }\n        else if (typeof template === 'function') {\n            templateFn = templateComplier(template);\n        }\n    }\n    catch (e) {\n        templateFn = templateComplier(template);\n    }\n    return templateFn;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { HTMLCollection } element - Specifies the heatmap\n * @param { string } elementId - Specifies the template\n * @returns { HTMLElement }  -  returns the size\n * @private\n */\nexport function convertElement(element, elementId) {\n    var childElement = createElement('div', {\n        id: elementId\n    });\n    childElement.style.cssText = 'position: absolute;pointer-events: auto;';\n    var elementLength = element.length;\n    while (elementLength > 0) {\n        childElement.appendChild(element[0]);\n        elementLength--;\n    }\n    return childElement;\n}\n/**\n * Class to define currentRect private property.\n *\n * @private\n */\nvar CurrentRect = /** @class */ (function () {\n    function CurrentRect(x, y, width, height, value, id, xIndex, yIndex, xValue, yValue, visible, displayText, textId, allowCollection) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.value = value;\n        this.id = id;\n        this.xIndex = xIndex;\n        this.yIndex = yIndex;\n        this.xValue = xValue;\n        this.yValue = yValue;\n        this.visible = visible;\n        this.displayText = displayText;\n        this.textId = textId;\n        /** @private */\n        this.allowCollection = allowCollection;\n    }\n    return CurrentRect;\n}());\nexport { CurrentRect };\n/**\n * Specifies the details of the selected cells.\n */\nvar SelectedCellDetails = /** @class */ (function () {\n    // eslint-disable-next-line valid-jsdoc\n    /**\n     * @private\n     */\n    function SelectedCellDetails(value, xLabel, yLabel, xValue, yValue, cellElement, xPosition, yPosition, width, height, x, y) {\n        this.value = value;\n        this.xLabel = xLabel;\n        this.yLabel = yLabel;\n        this.xValue = xValue;\n        this.yValue = yValue;\n        this.cellElement = cellElement;\n        this.xPosition = xPosition;\n        this.yPosition = yPosition;\n        this.width = width;\n        this.height = height;\n        this.x = x;\n        this.y = y;\n    }\n    return SelectedCellDetails;\n}());\nexport { SelectedCellDetails };\n/**\n * Class to define property to draw rectangle.\n *\n * @private\n */\nvar RectOption = /** @class */ (function (_super) {\n    __extends(RectOption, _super);\n    function RectOption(id, fill, border, opacity, rect, borderColor, rx, ry, transform, dashArray) {\n        var _this = _super.call(this, id, fill, border.width, borderColor, opacity, dashArray) || this;\n        _this.y = rect.y;\n        _this.x = rect.x;\n        _this.height = rect.height > 0 ? rect.height : 0;\n        _this.width = rect.width > 0 ? rect.width : 0;\n        _this.rx = rx ? rx : 0;\n        _this.ry = ry ? ry : 0;\n        _this.transform = transform ? transform : '';\n        return _this;\n    }\n    return RectOption;\n}(PathOption));\nexport { RectOption };\n/**\n * Class to define property to draw circle.\n *\n * @private\n */\nvar CircleOption = /** @class */ (function (_super) {\n    __extends(CircleOption, _super);\n    function CircleOption(id, fill, border, opacity, borderColor, cx, cy, r) {\n        var _this = _super.call(this, id, fill, border.width, borderColor, opacity) || this;\n        _this.cx = cx ? cx : 0;\n        _this.cy = cy ? cy : 0;\n        _this.r = r ? r : 0;\n        return _this;\n    }\n    return CircleOption;\n}(PathOption));\nexport { CircleOption };\n/**\n * Helper Class to define property to draw rectangle.\n *\n * @private\n */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    return Rect;\n}());\nexport { Rect };\n/**\n * Class to define property to draw text.\n *\n * @private\n */\nvar TextOption = /** @class */ (function (_super) {\n    __extends(TextOption, _super);\n    function TextOption(id, basic, element, fontColor) {\n        var _this = _super.call(this, element, fontColor) || this;\n        _this.transform = '';\n        _this['dominant-baseline'] = 'auto';\n        _this.labelRotation = 0;\n        _this.baseline = 'auto';\n        _this.id = id;\n        _this.x = basic.x;\n        _this.y = basic.y;\n        _this['text-anchor'] = basic['text-anchor'];\n        _this.text = basic.text;\n        _this.transform = basic.transform;\n        _this.labelRotation = basic.labelRotation;\n        _this['dominant-baseline'] = basic['dominant-baseline'];\n        _this.baseline = basic.baseline;\n        _this.dy = basic.dy;\n        return _this;\n    }\n    return TextOption;\n}(TextElement));\nexport { TextOption };\n/**\n * Helper Class to define property to draw text.\n *\n * @private\n */\nvar TextBasic = /** @class */ (function () {\n    function TextBasic(x, y, anchor, text, labelRotation, transform, baseLine, dy) {\n        this.transform = '';\n        this['dominant-baseline'] = 'auto';\n        this.labelRotation = 0;\n        this.baseline = 'auto';\n        this.x = x ? x : 0;\n        this.y = y ? y : 0;\n        this['text-anchor'] = anchor ? anchor : 'start';\n        this.text = text ? text : '';\n        this.transform = transform ? transform : '';\n        this.labelRotation = labelRotation;\n        this['dominant-baseline'] = baseLine ? baseLine : 'auto';\n        this.baseline = baseLine ? baseLine : '';\n        this.dy = dy ? dy : '';\n    }\n    return TextBasic;\n}());\nexport { TextBasic };\n/**\n * Class to define property to draw line.\n *\n * @private\n */\nvar Line = /** @class */ (function () {\n    function Line(x1, y1, x2, y2) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n    }\n    return Line;\n}());\nexport { Line };\n/**\n * Class to define property to draw line.\n *\n * @private\n */\nvar LineOption = /** @class */ (function (_super) {\n    __extends(LineOption, _super);\n    function LineOption(id, line, stroke, strokewidth, opacity, dasharray) {\n        var _this = _super.call(this, id, null, strokewidth, stroke, opacity, dasharray, null) || this;\n        _this.x1 = line.x1;\n        _this.y1 = line.y1;\n        _this.x2 = line.x2;\n        _this.y2 = line.y2;\n        return _this;\n    }\n    return LineOption;\n}(PathOption));\nexport { LineOption };\n/**\n * Properties required to render path.\n *\n * @private\n */\nvar PathAttributes = /** @class */ (function (_super) {\n    __extends(PathAttributes, _super);\n    function PathAttributes(id, path, fill, border, borderWidth, opacity, borderColor) {\n        var _this = _super.call(this, id, fill, borderWidth, borderColor, opacity, null) || this;\n        _this.d = path.d;\n        _this.x = path.x;\n        _this.y = path.y;\n        return _this;\n    }\n    return PathAttributes;\n}(PathOption));\nexport { PathAttributes };\n/**\n * Helper Class to define property to path.\n *\n * @private\n */\nvar Path = /** @class */ (function () {\n    function Path(d, innerR, x, y, x1, y1, cx, cy, start, end, radius, counterClockWise) {\n        this.d = d;\n        this.innerR = innerR;\n        this.cx = cx;\n        this.cy = cy;\n        this.x = x;\n        this.y = y;\n        this.x1 = x1;\n        this.y1 = y1;\n        this.start = start;\n        this.end = end;\n        this.radius = radius;\n        this.counterClockWise = counterClockWise;\n    }\n    return Path;\n}());\nexport { Path };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {number} values - specifies the values\n * @returns {number} returns the number\n * @hidden\n */\nexport function sum(values) {\n    var sum = 0;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n        var value = values_1[_i];\n        sum += value;\n    }\n    return sum;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { Size } heatmapSize - Specifies the heatmapsize\n * @param { number } topPadding - Specifies the topPadding\n * @param { number }  bottomPadding - Specifies the bottomPadding\n * @param { FontModel } titleStyle - Specifies the titleStyle\n * @returns {number} returns the number\n * @private\n */\nexport function titlePositionY(heatmapSize, topPadding, bottomPadding, titleStyle) {\n    var positionY;\n    if (titleStyle.textAlignment === 'Near') {\n        positionY = heatmapSize.height - bottomPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionY = heatmapSize.height / 2;\n    }\n    else {\n        positionY = topPadding;\n    }\n    return positionY;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { FontModel } font - Specifies the heatmapsize\n * @param { string } text - Specifies the topPadding\n * @param { number }  angle - Specifies the bottomPadding\n * @returns {Size} returns the size\n * @private\n */\nexport function rotateTextSize(font, text, angle) {\n    var renderer = new SvgRenderer('heatmapMeasureRotateText');\n    var svgObject = renderer.createSvg({ id: 'heatmapMeasureRotateText_svg', width: 100, height: 100 });\n    var height;\n    var dy;\n    var label;\n    var tspanElement;\n    var options = {\n        'font-size': font.size,\n        'font-style': font.fontStyle.toLowerCase(),\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight.toLowerCase(),\n        'transform': 'rotate(' + angle + ', 0, 0)',\n        'text-anchor': 'middle'\n    };\n    var htmlObject = renderer.createText(options, text[0]);\n    if (typeof text !== 'string' && text.length > 1) {\n        for (var i = 1, len = text.length; i < len; i++) {\n            height = (measureText(text[i], font).height);\n            dy = (0) + ((i * height));\n            label = text[i];\n            tspanElement = renderer.createTSpan({\n                'x': 0, 'id': 'heatmapMeasureRotateText_' + i,\n                'y': dy\n            }, label);\n            htmlObject.appendChild(tspanElement);\n        }\n    }\n    svgObject.appendChild(htmlObject);\n    document.body.appendChild(svgObject);\n    var box = htmlObject.getBoundingClientRect();\n    remove(svgObject);\n    return new Size((box.right - box.left), (box.bottom - box.top));\n}\n/**\n * Class to draw SVG and Canvas Rectangle & Text.\n *\n * @private\n */\nvar DrawSvgCanvas = /** @class */ (function () {\n    function DrawSvgCanvas(heatmap) {\n        this.heatMap = heatmap;\n    }\n    //Svg & Canvas Rectangle Part\n    DrawSvgCanvas.prototype.drawRectangle = function (properties, parentElement, isFromSeries) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.d;\n            parentElement.appendChild(this.heatMap.renderer.drawRectangle(properties));\n        }\n        else {\n            this.drawCanvasRectangle(this.heatMap.canvasRenderer, properties, isFromSeries);\n        }\n    };\n    //Svg & Canvas Bubble Part\n    DrawSvgCanvas.prototype.drawCircle = function (properties, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.d;\n            parentElement.appendChild(this.heatMap.renderer.drawCircle(properties));\n        }\n        else {\n            this.drawCanvasCircle(this.heatMap.canvasRenderer, properties);\n        }\n    };\n    //Svg & Canvas Pie Part\n    DrawSvgCanvas.prototype.drawPath = function (properties, options, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.x;\n            delete properties.y;\n            parentElement.appendChild(this.heatMap.renderer.drawPath(properties));\n        }\n        else {\n            this.drawCanvasPath(this.heatMap.canvasRenderer, properties, options);\n        }\n    };\n    //Svg & Canvas Text Part\n    DrawSvgCanvas.prototype.createText = function (properties, parentElement, text) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.labelRotation;\n            delete properties.baseline;\n            delete properties.text;\n            parentElement.appendChild(this.heatMap.renderer.createText(properties, text));\n            properties.text = text;\n        }\n        else {\n            this.canvasDrawText(properties, text);\n        }\n    };\n    //Draw the wrapped text for both SVG & canvas\n    DrawSvgCanvas.prototype.createWrapText = function (options, font, parentElement) {\n        var renderOptions = {};\n        var htmlObject;\n        var tspanElement;\n        var height;\n        renderOptions = {\n            'id': options.id,\n            'x': options.x,\n            'y': options.y,\n            'fill': options.fill,\n            'font-size': font.size,\n            'font-style': font.fontStyle,\n            'font-family': font.fontFamily,\n            'font-weight': font.fontWeight.toLowerCase(),\n            'text-anchor': options['text-anchor'],\n            'transform': options.transform,\n            'dominant-baseline': options['dominant-baseline']\n        };\n        var text = options.text[0];\n        if (!this.heatMap.enableCanvasRendering) {\n            htmlObject = this.heatMap.renderer.createText(renderOptions, text);\n        }\n        else {\n            this.heatMap.canvasRenderer.createText(options, text);\n        }\n        if (typeof options.text !== 'string' && options.text.length > 1) {\n            for (var i = 1, len = options.text.length; i < len; i++) {\n                height = (measureText(options.text[i], font).height);\n                if (!this.heatMap.enableCanvasRendering) {\n                    tspanElement = this.heatMap.renderer.createTSpan({\n                        'x': options.x, 'id': options.id + i,\n                        'y': (options.y) + (i * height)\n                    }, options.text[i]);\n                    htmlObject.appendChild(tspanElement);\n                }\n                else {\n                    options.id = options.id + i;\n                    options.y += height;\n                    this.heatMap.canvasRenderer.createText(options, options.text[i]);\n                }\n            }\n        }\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(htmlObject);\n        }\n    };\n    DrawSvgCanvas.prototype.drawLine = function (properties, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.d;\n            parentElement.appendChild(this.heatMap.renderer.drawLine(properties));\n        }\n        else {\n            this.heatMap.canvasRenderer.drawLine(properties);\n        }\n    };\n    //Canvas Text Part\n    DrawSvgCanvas.prototype.canvasDrawText = function (options, label, translateX, translateY, wrappedLabels, elementHeight, isAxisLabel) {\n        var ctx = this.heatMap.canvasRenderer.ctx;\n        if (!translateX) {\n            translateX = options.x;\n        }\n        if (!translateY) {\n            translateY = options.y;\n        }\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontSize = (options['font-size'].toString()).indexOf('px') === -1 ? options['font-size'] + 'px' : options['font-size'];\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        ctx.save();\n        ctx.fillStyle = options.fill;\n        ctx.font = font;\n        ctx.textAlign = anchor;\n        if (options.baseline) {\n            ctx.textBaseline = options.baseline;\n        }\n        ctx.translate(translateX, translateY);\n        ctx.rotate(options.labelRotation * Math.PI / 180);\n        if (isAxisLabel) {\n            for (var i = 0; i < wrappedLabels.length; i++) {\n                options.y = i !== 0 ? options.y + elementHeight : options.y;\n                ctx.fillText(wrappedLabels[i], options.x - translateX, options.y - translateY);\n            }\n        }\n        else {\n            ctx.fillText(label, options.x - translateX, options.y - translateY);\n        }\n        ctx.restore();\n    };\n    // method to get the attributes value\n    /* tslint:disable */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DrawSvgCanvas.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    DrawSvgCanvas.prototype.setAttributes = function (canvas, options) {\n        canvas.ctx.lineWidth = options['stroke-width'];\n        var dashArray = options['stroke-dasharray'];\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            canvas.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        canvas.ctx.strokeStyle = options['stroke'];\n    };\n    DrawSvgCanvas.prototype.drawCanvasRectangle = function (canvas, options, isFromSeries) {\n        var canvasCtx = canvas.ctx;\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.globalAlpha = options['opacity'];\n        this.setAttributes(canvas, options);\n        this.drawCornerRadius(canvas, options);\n        if ((options['stroke-width'] && options['stroke-width'] !== 0) || isFromSeries) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n        canvas.ctx = canvasCtx;\n    };\n    // To draw the corner of a rectangle\n    DrawSvgCanvas.prototype.drawCornerRadius = function (canvas, options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        canvas.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        canvas.ctx.beginPath();\n        canvas.ctx.moveTo(x + width - cornerRadius, y);\n        canvas.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        canvas.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        canvas.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        canvas.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        canvas.ctx.closePath();\n        canvas.ctx.fill();\n    };\n    DrawSvgCanvas.prototype.drawCanvasCircle = function (canvas, options) {\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        canvas.ctx.fillStyle = options.fill;\n        canvas.ctx.globalAlpha = options.opacity;\n        canvas.ctx.fill();\n        this.setAttributes(canvas, options);\n        if (options['stroke-width'] && options['stroke-width'] !== 0) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n    };\n    DrawSvgCanvas.prototype.drawCanvasPath = function (canvas, properties, options) {\n        var path = properties.d;\n        var dataSplit = path.split(' ');\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.globalAlpha = properties.opacity;\n        canvas.ctx.fillStyle = properties.fill;\n        this.setAttributes(canvas, properties);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    canvas.ctx.moveTo(x1, y1);\n                    break;\n                case 'L':\n                    canvas.ctx.lineTo(x1, y1);\n                    break;\n                case 'A':\n                case 'a':\n                    canvas.ctx.arc(options.x, options.y, options.radius, (options.start * 0.0174533), (options.end * 0.0174533), false);\n                    i = dataSplit[i] === 'a' ? i + 13 : i + 5;\n                    break;\n                case 'Z':\n                    canvas.ctx.closePath();\n                    break;\n            }\n        }\n        canvas.ctx.fill();\n        if (properties['stroke-width'] && properties['stroke-width'] !== 0) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n    };\n    return DrawSvgCanvas;\n}());\nexport { DrawSvgCanvas };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string } title - Specifies the heatmapsize\n * @param { FontModel } style - Specifies the topPadding\n * @param { number }  width - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function getTitle(title, style, width) {\n    var titleCollection = [];\n    switch (style.textOverflow) {\n        case 'Wrap':\n            titleCollection = textWrap(title, width, style);\n            break;\n        case 'Trim':\n            titleCollection.push(textTrim(width, title, style));\n            break;\n        default:\n            titleCollection.push(textNone(width, title, style));\n            break;\n    }\n    return titleCollection;\n}\n/**\n * Function to check whether the line break character is in the string or not.\n *\n * @param {string[]} labels - Specifies the axis labels.\n * @returns {boolean} returns whether the line break character is in the string or not.\n * @private\n */\nexport function getIsLineBreakLabel(labels) {\n    var isLineBreak = false;\n    for (var i = 0; i < labels.length; i++) {\n        if (labels[i].indexOf('<br>') !== -1 || labels[i].indexOf('<br/>') !== -1) {\n            isLineBreak = true;\n            break;\n        }\n    }\n    return isLineBreak;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string } currentLabel - Specifies the heatmapsize\n * @param { number } maximumWidth - Specifies the topPadding\n * @param { FontModel }  font - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function textWrap(currentLabel, maximumWidth, font) {\n    var textCollection = currentLabel.split(' ');\n    var label = '';\n    var labelCollection = [];\n    var text;\n    for (var i = 0, len = textCollection.length; i < len; i++) {\n        text = textCollection[i];\n        if (measureText(label.concat(text), font).width < maximumWidth) {\n            label = label.concat((label === '' ? '' : ' ') + text);\n        }\n        else {\n            if (label !== '') {\n                labelCollection.push(textTrim(maximumWidth, label, font));\n                label = text;\n            }\n            else {\n                labelCollection.push(textTrim(maximumWidth, text, font));\n                text = '';\n            }\n        }\n        if (label && i === len - 1) {\n            labelCollection.push(textTrim(maximumWidth, label, font));\n        }\n    }\n    return labelCollection;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { number } maxWidth - Specifies the heatmapsize\n * @param { string } text - Specifies the topPadding\n * @param { FontModel }  font - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function textTrim(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var index = textLength - 1; index >= 0; --index) {\n            label = text.substring(0, index) + '...';\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { number } maxWidth - Specifies the heatmapsize\n * @param { string } text - Specifies the topPadding\n * @param { FontModel }  font - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function textNone(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var i = textLength - 1; i >= 0; --i) {\n            label = text.substring(0, i);\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/** @private */\nvar Gradient = /** @class */ (function () {\n    function Gradient(x, x1, x2, y1, y2) {\n        this.id = x;\n        this.x1 = x1;\n        this.x2 = x2;\n        this.y1 = y1;\n        this.y2 = y2;\n    }\n    return Gradient;\n}());\nexport { Gradient };\nvar GradientColor = /** @class */ (function () {\n    function GradientColor(color, colorStop) {\n        this.color = color;\n        this.colorStop = colorStop;\n    }\n    return GradientColor;\n}());\nexport { GradientColor };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string } text - Specifies the heatmapsize\n * @param { number } x - Specifies the topPadding\n * @param { number }  y - Specifies the bottomPadding\n * @param { number }  areaWidth - Specifies the bottomPadding\n * @param { string }  id - Specifies the bottomPadding\n * @param { Element }  element - Specifies the bottomPadding\n * @param { boolean }  isTouch - Specifies the bottomPadding\n * @param { HeatMap }  heatmap - Specifies the bottomPadding\n * @returns {void} returns the size\n * @private\n */\nexport function showTooltip(text, x, y, areaWidth, id, element, isTouch, heatmap) {\n    var tooltip = document.getElementById(id);\n    var size = measureText(text, {\n        fontFamily: 'Segoe UI', size: '12px',\n        fontStyle: 'Normal', fontWeight: 'Regular'\n    });\n    var width = size.width + 5;\n    x = (x + width > areaWidth) ? x - width : x;\n    x = x < 0 ? 5 : x;\n    if (!tooltip) {\n        tooltip = createElement('div', { id: id });\n        tooltip.style.cssText = 'top:' + (y + 15).toString() + 'px;left:' + (x + 15).toString() +\n            'px;background-color: rgb(255, 255, 255) !important; color:black !important; ' +\n            'position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;' +\n            'padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: Segoe UI';\n        tooltip.innerText = text;\n        element.appendChild(tooltip);\n    }\n    else {\n        tooltip.innerText = text;\n        tooltip.style.top = (y + 15).toString() + 'px';\n        tooltip.style.left = (x + 15).toString() + 'px';\n    }\n    if (text === heatmap.titleSettings.text) {\n        tooltip.style.width = (x + 15) + size.width + 7 > heatmap.availableSize.width ?\n            (heatmap.availableSize.width - (x + 15)).toString() + 'px' : '';\n    }\n    else {\n        tooltip.style.left = (x + 15) + size.width + 7 > heatmap.availableSize.width ?\n            (heatmap.availableSize.width - (size.width + 7)).toString() + 'px' : x.toString() + 'px';\n        tooltip.style.top = (y + 15) + size.height + 6 > heatmap.availableSize.height ?\n            (y - (size.height + 6) - 10).toString() + 'px' : tooltip.style.top; // 6 and 7 are padding and border width\n    }\n    if (isTouch) {\n        if (this.tooltipTimer) {\n            window.clearTimeout(this.tooltipTimer);\n        }\n        this.tooltipTimer = setTimeout(function () { removeElement(id); }, 1500);\n    }\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string }  id - Specifies the bottomPadding\n * @returns {void} returns the size\n * @private\n */\nexport function removeElement(id) {\n    var element = getElement(id);\n    if (element) {\n        remove(element);\n        removeMeasureElement();\n    }\n}\n// eslint-disable-next-line valid-jsdoc\n/**\n * @private\n */\nexport function removeMeasureElement() {\n    removeElement('heatmapmeasuretext');\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string }  id - Specifies the bottomPadding\n * @returns {Element} returns the size\n * @private\n */\nexport function getElement(id) {\n    return document.getElementById(id);\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { number } value - Specifies the topPadding\n * @param { number }  interval - Specifies the bottomPadding\n * @param { string } intervalType - Specifies the heatmapsize\n * @param { number }  increment - Specifies the bottomPadding\n * @returns {Date} returns the size\n * @private\n */\nexport function increaseDateTimeInterval(value, interval, intervalType, increment) {\n    var result = new Date(value);\n    interval = Math.ceil(interval * increment);\n    switch (intervalType) {\n        case 'Years':\n            result.setFullYear(result.getFullYear() + interval);\n            break;\n        case 'Months':\n            result.setMonth(result.getMonth() + interval);\n            break;\n        case 'Days':\n            result.setDate(result.getDate() + interval);\n            break;\n        case 'Hours':\n            result.setHours(result.getHours() + interval);\n            break;\n        case 'Minutes':\n            result.setMinutes(result.getMinutes() + interval);\n            break;\n    }\n    return result;\n}\n/* private */\nvar CanvasTooltip = /** @class */ (function () {\n    function CanvasTooltip(text, rect) {\n        this.region = new Rect(0, 0, 0, 0);\n        this.text = text;\n        this.region = rect;\n    }\n    return CanvasTooltip;\n}());\nexport { CanvasTooltip };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { CanvasTooltip } tooltipCollection - Specifies the topPadding\n * @param { number }  xPosition - Specifies the bottomPadding\n * @param { number } yPosition - Specifies the heatmapsize\n * @returns {string} returns the size\n * @private\n */\nexport function getTooltipText(tooltipCollection, xPosition, yPosition) {\n    var length = tooltipCollection.length;\n    var tooltip;\n    var region;\n    var text;\n    for (var i = 0; i < length; i++) {\n        tooltip = tooltipCollection[i];\n        region = tooltip.region;\n        if (xPosition >= region.x && xPosition <= (region.x + region.width) && yPosition >= region.y\n            && yPosition <= (region.y + region.height)) {\n            text = tooltip.text;\n            break;\n        }\n    }\n    return text;\n}\n/**\n * @private\n */\nvar PaletterColor = /** @class */ (function () {\n    function PaletterColor() {\n    }\n    return PaletterColor;\n}());\nexport { PaletterColor };\n/**\n * @private\n */\nvar GradientPointer = /** @class */ (function () {\n    function GradientPointer(pathX1, pathY1, pathX2, pathY2, pathX3, pathY3) {\n        this.pathX1 = pathX1;\n        this.pathY1 = pathY1;\n        this.pathX2 = pathX2;\n        this.pathY2 = pathY2;\n        this.pathX3 = pathX3;\n        this.pathY3 = pathY3;\n    }\n    return GradientPointer;\n}());\nexport { GradientPointer };\n/**\n * Class to define currentRect private property.\n *\n * @private\n */\nvar CurrentLegendRect = /** @class */ (function () {\n    function CurrentLegendRect(x, y, width, height, label, id) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.label = label;\n        this.id = id;\n    }\n    return CurrentLegendRect;\n}());\nexport { CurrentLegendRect };\n/** @private */\nvar LegendRange = /** @class */ (function () {\n    function LegendRange(x, y, width, height, value, visible, currentPage) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.value = value;\n        this.visible = visible;\n        this.currentPage = currentPage;\n    }\n    return LegendRange;\n}());\nexport { LegendRange };\n/** @private */\nvar ToggleVisibility = /** @class */ (function () {\n    function ToggleVisibility(visible, value, startValue, endValue) {\n        this.visible = visible;\n        this.value = value;\n        this.startValue = startValue;\n        this.endValue = endValue;\n    }\n    return ToggleVisibility;\n}());\nexport { ToggleVisibility };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string } color - Specifies the topPadding\n * @returns {string} returns the size\n * @private\n */\nexport function colorNameToHex(color) {\n    color = color === 'transparent' ? 'white' : color;\n    var element = document.getElementById('heatmapmeasuretext');\n    element.style.color = color;\n    color = window.getComputedStyle(element).color;\n    var isRGBValue = color.replace(/[()RGBrgba ]/g, '').split(',');\n    return convertToHexCode(new RgbColor(parseInt(isRGBValue[0], 10), parseInt(isRGBValue[1], 10), parseInt(isRGBValue[2], 10)));\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { RgbColor } value - Specifies the topPadding\n * @returns {string} returns the size\n * @private\n */\nexport function convertToHexCode(value) {\n    return '#' + componentToHex(value.R) + componentToHex(value.G) + componentToHex(value.B);\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { number }  value - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function componentToHex(value) {\n    var hex = value.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string }  hex - Specifies the bottomPadding\n * @returns {RgbColor} returns the size\n * @private\n */\nexport function convertHexToColor(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? new RgbColor(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) :\n        new RgbColor(255, 255, 255);\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { boolean }  isCustom - Specifies the bottomPadding\n * @param { string }  format - Specifies the bottomPadding\n * @param { number }  tempInterval - Specifies the bottomPadding\n * @param { Function }  formatFun - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function formatValue(isCustom, format, tempInterval, formatFun) {\n    return isCustom ? format.replace('{value}', formatFun(tempInterval))\n        : formatFun(tempInterval);\n}\n/** @private */\nvar MultiLevelPosition = /** @class */ (function () {\n    function MultiLevelPosition(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return MultiLevelPosition;\n}());\nexport { MultiLevelPosition };\n","/**\n * Specifies HeatMaps Themes\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var Theme;\n(function (Theme) {\n    /** @private */\n    Theme.heatMapTitleFont = {\n        size: '15px',\n        fontWeight: '500',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.titleFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n    /** @private */\n    Theme.axisTitleFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n    /** @private */\n    Theme.legendLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n    /** @private */\n    Theme.rectLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n    /** @private */\n    Theme.tooltipFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n})(Theme || (Theme = {}));\n/**\n * Functions to check whether target object implement specific interface.\n *\n * @param  { HeatMapTheme } theme - specifies the value.\n * @returns { IThemeStyle } returns the theme style\n * @private\n */\nexport function getThemeColor(theme) {\n    var style;\n    switch (theme.toLowerCase()) {\n        case 'highcontrastlight':\n        case 'highcontrast':\n            style = {\n                heatMapTitle: '#ffffff',\n                axisTitle: '#ffffff',\n                axisLabel: '#ffffff',\n                cellBorder: '#EEEEEE',\n                background: '#000000',\n                cellTextColor: '#000000',\n                toggledColor: '#000000',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#ffffff',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n        case 'materialdark':\n        case 'fabricdark':\n        case 'bootstrapdark':\n            style = {\n                heatMapTitle: '#ffffff',\n                axisTitle: '#ffffff',\n                axisLabel: '#DADADA',\n                cellBorder: '#EEEEEE',\n                background: '#000000',\n                cellTextColor: '#000000',\n                toggledColor: '#000000',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#ffffff',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n        case 'bootstrap4':\n            style = {\n                heatMapTitle: '#212529',\n                axisTitle: '#212529',\n                axisLabel: '#212529',\n                cellBorder: '#E9ECEF',\n                background: '#FFFFFF',\n                cellTextColor: '#212529',\n                toggledColor: '#ffffff',\n                emptyCellColor: '#E9ECEF',\n                legendLabel: '#212529',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n        case 'tailwind':\n            style = {\n                heatMapTitle: '#374151',\n                axisTitle: '#374151',\n                axisLabel: '#6B7280',\n                cellBorder: '#E5E7EB',\n                background: 'transparent',\n                cellTextColor: '#111827',\n                toggledColor: 'transparent',\n                emptyCellColor: '#E5E7EB',\n                legendLabel: '#374151',\n                palette: [{ 'color': '#5A61F6' },\n                    { 'color': '#65A30D' },\n                    { 'color': '#14B8A6' }]\n            };\n            break;\n        case 'tailwinddark':\n            style = {\n                heatMapTitle: '#D1D5DB',\n                axisTitle: '#D1D5DB',\n                axisLabel: '#9CA3AF',\n                cellBorder: '#4B5563',\n                background: 'transparent',\n                cellTextColor: '#FFFFFF',\n                toggledColor: 'transparent',\n                emptyCellColor: '#374151',\n                legendLabel: '#D1D5DB',\n                palette: [{ 'color': '#8B5CF6' },\n                    { 'color': '#22D3EE' },\n                    { 'color': '#F87171' }]\n            };\n            break;\n        case 'bootstrap5':\n            style = {\n                heatMapTitle: '#343A40',\n                axisTitle: '#343A40',\n                axisLabel: '#495057',\n                cellBorder: '#D1D5DB',\n                background: 'transparent',\n                cellTextColor: '#111827',\n                toggledColor: 'transparent',\n                emptyCellColor: '#E5E7EB',\n                legendLabel: '#343A40',\n                palette: [{ 'color': '#D7E7FF' },\n                    { 'color': '#0D6EFD' },\n                    { 'color': '#013889' }]\n            };\n            break;\n        case 'bootstrap5dark':\n            style = {\n                heatMapTitle: '#E9ECEF',\n                axisTitle: '#E9ECEF',\n                axisLabel: '#CED4DA',\n                cellBorder: '#4B5563',\n                background: 'transparent',\n                cellTextColor: '#FFFFFF',\n                toggledColor: 'transparent',\n                emptyCellColor: '#343A40',\n                legendLabel: '#E9ECEF',\n                palette: [{ 'color': '#A860F1' },\n                    { 'color': '#5ECB9B' },\n                    { 'color': '#557EF7' }]\n            };\n            break;\n        case 'fluent':\n            style = {\n                heatMapTitle: '#201F1E',\n                axisTitle: '#201F1E',\n                axisLabel: '#201F1E',\n                cellBorder: '#EDEBE9',\n                background: 'transparent',\n                cellTextColor: '#111827',\n                toggledColor: 'transparent',\n                emptyCellColor: '#EDEBE9',\n                legendLabel: '#201F1E',\n                palette: [{ 'color': '#EDEBE9' },\n                    { 'color': '#614570' },\n                    { 'color': '#4C6FB1' }]\n            };\n            break;\n        case 'fluentdark':\n            style = {\n                heatMapTitle: '#F3F2F1',\n                axisTitle: '#F3F2F1',\n                axisLabel: '#F3F2F1',\n                cellBorder: '#EDEBE9',\n                background: 'transparent',\n                cellTextColor: '#FFFFFF',\n                toggledColor: 'transparent',\n                emptyCellColor: '#292827',\n                legendLabel: '#F3F2F1',\n                palette: [{ 'color': '#292827' },\n                    { 'color': '#2A72D5' },\n                    { 'color': '#43B786' }]\n            };\n            break;\n        case 'material3':\n            style = {\n                heatMapTitle: '#1C1B1F',\n                axisTitle: '#1C1B1F',\n                axisLabel: '#1C1B1F',\n                cellBorder: '#C4C7C5',\n                background: 'transparent',\n                cellTextColor: '#1C1B1F',\n                toggledColor: '#F6F0FB',\n                emptyCellColor: '#F6F0FB',\n                legendLabel: '#49454E',\n                palette: [{ 'color': '#6200EE' },\n                    { 'color': '#E77A16' },\n                    { 'color': '#82C100' }]\n            };\n            break;\n        case 'material3dark':\n            style = {\n                heatMapTitle: '#E6E1E5',\n                axisTitle: '#E6E1E5',\n                axisLabel: '#E6E1E5',\n                cellBorder: '#444746',\n                background: 'transparent',\n                cellTextColor: '#E6E1E5',\n                toggledColor: '#49454F',\n                emptyCellColor: '#49454E',\n                legendLabel: '#CAC4D0',\n                palette: [{ 'color': '#4EAAFF' },\n                    { 'color': '#FA4EAB' },\n                    { 'color': '#FFF500' }]\n            };\n            break;\n        default:\n            style = {\n                heatMapTitle: '#424242',\n                axisTitle: '#424242',\n                axisLabel: '#686868',\n                cellBorder: '#EEEEEE',\n                cellTextColor: '#000000',\n                toggledColor: '#ffffff',\n                background: '#FFFFFF',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#353535',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n    }\n    return style;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Collection } from '@syncfusion/ej2-base';\nimport { Theme } from './theme';\n/**\n * Sets and gets the options to customize the text in heatmap.\n */\nvar Font = /** @class */ (function (_super) {\n    __extends(Font, _super);\n    function Font() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('16px')\n    ], Font.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], Font.prototype, \"color\", void 0);\n    __decorate([\n        Property('Segoe UI')\n    ], Font.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Property('Center')\n    ], Font.prototype, \"textAlignment\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Font.prototype, \"textOverflow\", void 0);\n    return Font;\n}(ChildProperty));\nexport { Font };\n/**\n * Sets and gets the options to configures the margins of the heatmap.\n */\nvar Margin = /** @class */ (function (_super) {\n    __extends(Margin, _super);\n    function Margin() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"left\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"right\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"top\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"bottom\", void 0);\n    return Margin;\n}(ChildProperty));\nexport { Margin };\n/**\n * Sets and gets the options to customize the borders in the heatmap.\n */\nvar Border = /** @class */ (function (_super) {\n    __extends(Border, _super);\n    function Border() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Border.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], Border.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Border.prototype, \"radius\", void 0);\n    return Border;\n}(ChildProperty));\nexport { Border };\n/**\n * Sets and gets the options to customize the tooltip borders in the heatmap.\n */\nvar TooltipBorder = /** @class */ (function (_super) {\n    __extends(TooltipBorder, _super);\n    function TooltipBorder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(0)\n    ], TooltipBorder.prototype, \"width\", void 0);\n    return TooltipBorder;\n}(ChildProperty));\nexport { TooltipBorder };\n/**\n * Sets and gets the options to configure the mapping value for size and color in bubble cell type.\n */\nvar BubbleData = /** @class */ (function (_super) {\n    __extends(BubbleData, _super);\n    function BubbleData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], BubbleData.prototype, \"size\", void 0);\n    __decorate([\n        Property(null)\n    ], BubbleData.prototype, \"color\", void 0);\n    return BubbleData;\n}(ChildProperty));\nexport { BubbleData };\n/**\n * Sets and gets the options to customize the title of heatmap.\n */\nvar Title = /** @class */ (function (_super) {\n    __extends(Title, _super);\n    function Title() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Title.prototype, \"text\", void 0);\n    __decorate([\n        Complex({}, Font)\n    ], Title.prototype, \"textStyle\", void 0);\n    return Title;\n}(ChildProperty));\nexport { Title };\n/**\n * Sets and gets the options to apply the fill color value for cell color range.\n */\nvar FillColor = /** @class */ (function (_super) {\n    __extends(FillColor, _super);\n    function FillColor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('#eeeeee')\n    ], FillColor.prototype, \"minColor\", void 0);\n    __decorate([\n        Property('#eeeeee')\n    ], FillColor.prototype, \"maxColor\", void 0);\n    return FillColor;\n}(ChildProperty));\nexport { FillColor };\n/**\n * Sets and gets the options to customize palette colors.\n */\nvar PaletteCollection = /** @class */ (function (_super) {\n    __extends(PaletteCollection, _super);\n    function PaletteCollection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"color\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"startValue\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"endValue\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"minColor\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"maxColor\", void 0);\n    return PaletteCollection;\n}(ChildProperty));\nexport { PaletteCollection };\n/**\n * Sets and gets the options to customize the label border.\n */\nvar AxisLabelBorder = /** @class */ (function (_super) {\n    __extends(AxisLabelBorder, _super);\n    function AxisLabelBorder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('#b5b5b5')\n    ], AxisLabelBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], AxisLabelBorder.prototype, \"width\", void 0);\n    __decorate([\n        Property('Rectangle')\n    ], AxisLabelBorder.prototype, \"type\", void 0);\n    return AxisLabelBorder;\n}(ChildProperty));\nexport { AxisLabelBorder };\n/**\n * Sets and gets the options to customize the size of the bubble heatmap cell type.\n */\nvar BubbleSize = /** @class */ (function (_super) {\n    __extends(BubbleSize, _super);\n    function BubbleSize() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('0%')\n    ], BubbleSize.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('100%')\n    ], BubbleSize.prototype, \"maximum\", void 0);\n    return BubbleSize;\n}(ChildProperty));\nexport { BubbleSize };\n/**\n * Sets and gets the options to configure the multi-level labels.\n */\nvar MultiLevelCategories = /** @class */ (function (_super) {\n    __extends(MultiLevelCategories, _super);\n    function MultiLevelCategories() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"end\", void 0);\n    __decorate([\n        Property('')\n    ], MultiLevelCategories.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"maximumTextWidth\", void 0);\n    return MultiLevelCategories;\n}(ChildProperty));\nexport { MultiLevelCategories };\n/**\n * Sets and gets the options to customize the multi-level labels.\n */\nvar MultiLevelLabels = /** @class */ (function (_super) {\n    __extends(MultiLevelLabels, _super);\n    function MultiLevelLabels() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Center')\n    ], MultiLevelLabels.prototype, \"alignment\", void 0);\n    __decorate([\n        Property('Wrap')\n    ], MultiLevelLabels.prototype, \"overflow\", void 0);\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], MultiLevelLabels.prototype, \"textStyle\", void 0);\n    __decorate([\n        Complex({ color: '#b5b5b5', width: 1, type: 'Rectangle' }, AxisLabelBorder)\n    ], MultiLevelLabels.prototype, \"border\", void 0);\n    __decorate([\n        Collection([], MultiLevelCategories)\n    ], MultiLevelLabels.prototype, \"categories\", void 0);\n    return MultiLevelLabels;\n}(ChildProperty));\nexport { MultiLevelLabels };\n/**\n * Internal class used to maintain colorcollection.\n * @private\n */\nvar ColorCollection = /** @class */ (function () {\n    function ColorCollection(value, color, label, startValue, endValue, minColor, maxColor) {\n        this.value = value;\n        this.color = color;\n        this.label = label;\n        this.startValue = startValue;\n        this.endValue = endValue;\n        this.minColor = minColor;\n        this.maxColor = maxColor;\n    }\n    return ColorCollection;\n}());\nexport { ColorCollection };\n/**\n * Specifies the current data of the bubble cell.\n */\nvar BubbleTooltipData = /** @class */ (function () {\n    // eslint-disable-next-line valid-jsdoc\n    /**\n     * @private\n     */\n    function BubbleTooltipData(mappingName, bubbleData, valueType) {\n        this.mappingName = mappingName;\n        this.bubbleData = bubbleData;\n        this.valueType = valueType;\n    }\n    return BubbleTooltipData;\n}());\nexport { BubbleTooltipData };\n/**\n * Internal class used to maintain legend colorcollection.\n * @private\n */\nvar LegendColorCollection = /** @class */ (function () {\n    function LegendColorCollection(value, color, label, startValue, endValue, minColor, maxColor, isHidden) {\n        this.value = value;\n        this.color = color;\n        this.label = label;\n        this.startValue = startValue;\n        this.endValue = endValue;\n        this.minColor = minColor;\n        this.maxColor = maxColor;\n        this.isHidden = isHidden;\n    }\n    return LegendColorCollection;\n}());\nexport { LegendColorCollection };\n/**\n * class used to maintain xAxis labels details for multipleRow label intersect action.\n * @private\n */\nvar MultipleRow = /** @class */ (function () {\n    function MultipleRow(start, end, index, label, row) {\n        this.index = 1;\n        this.row = 1;\n        this.start = start;\n        this.end = end;\n        this.index = index;\n        this.label = label;\n        this.row = row;\n    }\n    return MultipleRow;\n}());\nexport { MultipleRow };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, extend, ChildProperty, Collection, isNullOrUndefined, Complex } from '@syncfusion/ej2-base';\nimport { ColorCollection, LegendColorCollection, PaletteCollection, FillColor } from '../model/base';\nimport { PaletterColor } from './helper';\n/**\n * Sets and gets the options to customize the color palette of heatmap.\n */\nvar PaletteSettings = /** @class */ (function (_super) {\n    __extends(PaletteSettings, _super);\n    function PaletteSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([{}], PaletteCollection)\n    ], PaletteSettings.prototype, \"palette\", void 0);\n    __decorate([\n        Property('Gradient')\n    ], PaletteSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property('')\n    ], PaletteSettings.prototype, \"emptyPointColor\", void 0);\n    __decorate([\n        Property('Table')\n    ], PaletteSettings.prototype, \"colorGradientMode\", void 0);\n    __decorate([\n        Complex({}, FillColor)\n    ], PaletteSettings.prototype, \"fillColor\", void 0);\n    return PaletteSettings;\n}(ChildProperty));\nexport { PaletteSettings };\n/**\n * Helper class for colormapping\n */\nvar RgbColor = /** @class */ (function () {\n    function RgbColor(r, g, b) {\n        this.R = r;\n        this.G = g;\n        this.B = b;\n    }\n    return RgbColor;\n}());\nexport { RgbColor };\nvar CellColor = /** @class */ (function () {\n    function CellColor(heatMap) {\n        this.heatMap = heatMap;\n    }\n    /**\n     * To convert hexa color to RGB.\n     *\n     * @returns {any}\n     * @private\n     */\n    CellColor.prototype.convertToRGB = function (value, colorMapping) {\n        var previousOffset = this.heatMap.isColorRange ? colorMapping[0].startValue : colorMapping[0].value;\n        var nextOffset = 0;\n        var i = 0;\n        var previousColor;\n        var nextColor;\n        if (this.heatMap.isColorRange && this.heatMap.paletteSettings.type === 'Gradient') {\n            for (i = 0; i < colorMapping.length; i++) {\n                var offset = Number(colorMapping[i].endValue);\n                if (value <= offset && value >= Number(colorMapping[i].startValue)) {\n                    nextOffset = offset;\n                    previousColor = this.heatMap.colorCollection[i].minColor;\n                    nextColor = this.heatMap.colorCollection[i].maxColor;\n                    break;\n                }\n                else if (colorMapping[0].startValue !== this.heatMap.dataSourceMinValue && value < colorMapping[0].startValue) {\n                    nextOffset = colorMapping[0].startValue;\n                    previousOffset = this.heatMap.dataSourceMinValue;\n                    previousColor = this.heatMap.paletteSettings.fillColor.minColor;\n                    nextColor = this.heatMap.paletteSettings.fillColor.maxColor;\n                    break;\n                }\n                else if (value > offset && value <= (i === (colorMapping.length - 1) ? this.heatMap.dataSourceMaxValue :\n                    colorMapping[i + 1].startValue)) {\n                    nextOffset = (i === (colorMapping.length - 1)) ? this.heatMap.dataSourceMaxValue : colorMapping[i + 1].startValue;\n                    previousOffset = offset;\n                    previousColor = this.heatMap.paletteSettings.fillColor.minColor;\n                    nextColor = this.heatMap.paletteSettings.fillColor.maxColor;\n                    break;\n                }\n                else {\n                    nextOffset = offset;\n                    previousOffset = offset;\n                }\n            }\n        }\n        else {\n            for (i = 1; i < colorMapping.length; i++) {\n                var offset = Number(colorMapping[i].value);\n                if (value <= offset) {\n                    nextOffset = offset;\n                    previousColor = this.getEqualColor(colorMapping, previousOffset);\n                    nextColor = this.getEqualColor(colorMapping, nextOffset);\n                    break;\n                }\n                else {\n                    nextOffset = offset;\n                    previousOffset = offset;\n                }\n            }\n        }\n        var percent = 0;\n        var full = (nextOffset) - previousOffset;\n        percent = (value - previousOffset) / full;\n        percent = isNaN(percent) ? 0 : percent;\n        return this.getPercentageColor(percent, previousColor, nextColor);\n    };\n    /**\n     * To convert RGB to HEX.\n     *\n     * @returns {string}\n     * @private\n     */\n    CellColor.prototype.rgbToHex = function (r, g, b) {\n        return '#' + this.componentToHex(r) + this.componentToHex(g) + this.componentToHex(b);\n    };\n    /**\n     * To convert Component to HEX.\n     *\n     * @returns {string}\n     * @private\n     */\n    CellColor.prototype.componentToHex = function (c) {\n        var hex = c.toString(16);\n        return hex.length === 1 ? '0' + hex : hex;\n    };\n    /**\n     * To get similar color.\n     *\n     * @returns {string}\n     * @private\n     */\n    CellColor.prototype.getEqualColor = function (list, offset) {\n        for (var i = 0; i < list.length; i++) {\n            if (Number(list[i].value) === offset) {\n                var color = list[i].color;\n                if (color.indexOf('rgb') !== -1) {\n                    color = this.convertToHex(color);\n                }\n                else if (color.indexOf('#') === -1) {\n                    color = '#FFFFFF';\n                }\n                return color;\n            }\n        }\n        return '#00000';\n    };\n    /**\n     * To convert RGB to HEX.\n     *\n     * @returns {string}\n     * @private\n     */\n    CellColor.prototype.convertToHex = function (color) {\n        var itemColor = color.substr(3);\n        itemColor = itemColor.split('(')[1].split(')')[0];\n        var colorSplit = itemColor.split(',');\n        itemColor = this.rgbToHex(parseInt(colorSplit[0], 10), parseInt(colorSplit[1], 10), parseInt(colorSplit[2], 10));\n        return itemColor;\n    };\n    /**\n     * To get RGB for percentage value.\n     *\n     * @returns {any}\n     * @private\n     */\n    CellColor.prototype.getPercentageColor = function (percent, previous, next) {\n        var nextColor = next.split('#')[1];\n        var prevColor = previous.split('#')[1];\n        var r = this.getPercentage(percent, parseInt(prevColor.substr(0, 2), 16), parseInt(nextColor.substr(0, 2), 16));\n        var g = this.getPercentage(percent, parseInt(prevColor.substr(2, 2), 16), parseInt(nextColor.substr(2, 2), 16));\n        var b = this.getPercentage(percent, parseInt(prevColor.substr(4, 2), 16), parseInt(nextColor.substr(4, 2), 16));\n        return new RgbColor(r, g, b);\n    };\n    /**\n     * To convert numbet to percentage.\n     *\n     * @returns {any}\n     * @private\n     */\n    CellColor.prototype.getPercentage = function (percent, previous, next) {\n        var full = next - previous;\n        return Math.round((previous + (full * percent)));\n    };\n    /**\n     * To get complete color Collection.\n     *\n     * @private\n     */\n    CellColor.prototype.getColorCollection = function () {\n        var heatMap = this.heatMap;\n        heatMap.colorCollection = [];\n        heatMap.legendColorCollection = [];\n        var range;\n        for (var j = 0; j < this.heatMap.paletteSettings.palette.length; j++) {\n            if (this.heatMap.paletteSettings.palette[j].startValue === null ||\n                this.heatMap.paletteSettings.palette[j].endValue === null) {\n                this.heatMap.isColorRange = false;\n                break;\n            }\n            else {\n                this.heatMap.isColorRange = true;\n            }\n        }\n        var minValue = heatMap.bubbleSizeWithColor ? heatMap.minColorValue : heatMap.dataSourceMinValue;\n        var maxValue = heatMap.bubbleSizeWithColor ? heatMap.maxColorValue : heatMap.dataSourceMaxValue;\n        heatMap.emptyPointColor = heatMap.paletteSettings.emptyPointColor ? heatMap.paletteSettings.emptyPointColor :\n            heatMap.themeStyle.emptyCellColor;\n        var tempcolorMapping = this.orderbyOffset(this.heatMap.isColorRange ? heatMap.paletteSettings.palette :\n            heatMap.paletteSettings.palette && heatMap.paletteSettings.palette.length > 1 ?\n                heatMap.paletteSettings.palette : heatMap.themeStyle.palette);\n        if (!tempcolorMapping.isCompact) {\n            if (heatMap.paletteSettings.type === 'Gradient') {\n                range = (maxValue - minValue) / (tempcolorMapping.offsets.length - 1);\n            }\n            else {\n                range = (maxValue - minValue) / (tempcolorMapping.offsets.length);\n            }\n            if (tempcolorMapping.offsets.length >= 2) {\n                for (var index = 0; index < tempcolorMapping.offsets.length; index++) {\n                    heatMap.colorCollection.push(new ColorCollection((Math.round(((minValue) + (index * range)) * 100) / 100), tempcolorMapping.offsets[index].color, tempcolorMapping.offsets[index].label, tempcolorMapping.offsets[index].startValue, tempcolorMapping.offsets[index].endValue, tempcolorMapping.offsets[index].minColor, tempcolorMapping.offsets[index].maxColor));\n                    heatMap.legendColorCollection.push(new LegendColorCollection(Math.round(((minValue) + (index * range)) * 100) / 100, tempcolorMapping.offsets[index].color, tempcolorMapping.offsets[index].label, tempcolorMapping.offsets[index].startValue, tempcolorMapping.offsets[index].endValue, tempcolorMapping.offsets[index].minColor, tempcolorMapping.offsets[index].maxColor, false));\n                }\n            }\n        }\n        else {\n            heatMap.colorCollection = tempcolorMapping.offsets;\n            heatMap.legendColorCollection = extend([], tempcolorMapping.offsets, null, true);\n        }\n        if (!this.heatMap.isColorRange) {\n            this.updateLegendColorCollection(minValue, maxValue, tempcolorMapping);\n        }\n    };\n    /**\n     * To update legend color Collection.\n     *\n     * @private\n     */\n    CellColor.prototype.updateLegendColorCollection = function (minValue, maxValue, tempcolorMapping) {\n        if (this.heatMap.paletteSettings.type === 'Fixed' && (tempcolorMapping.isCompact || tempcolorMapping.isLabel)) {\n            return;\n        }\n        if (Math.round(minValue * 100) / 100 < this.heatMap.legendColorCollection[0].value) {\n            this.heatMap.legendColorCollection.unshift(new LegendColorCollection(Math.round(minValue * 100) / 100, this.heatMap.legendColorCollection[0].color, this.heatMap.legendColorCollection[0].label, this.heatMap.legendColorCollection[0].startValue, this.heatMap.legendColorCollection[0].endValue, this.heatMap.legendColorCollection[0].minColor, this.heatMap.legendColorCollection[0].maxColor, true));\n        }\n        if (Math.round(maxValue * 100) / 100 > this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].value) {\n            this.heatMap.legendColorCollection.push(new LegendColorCollection(Math.round(maxValue * 100) / 100, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].color, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].label, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].startValue, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].endValue, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].minColor, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].maxColor, true));\n        }\n    };\n    /**\n     * To get ordered palette color collection.\n     *\n     * @private\n     */\n    CellColor.prototype.orderbyOffset = function (offsets) {\n        var returnCollection = new PaletterColor();\n        var key = this.heatMap.isColorRange ? 'to' : 'value';\n        var label = 'label';\n        returnCollection.isCompact = true;\n        returnCollection.isLabel = true;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        returnCollection.offsets = offsets.sort(function (a, b) {\n            if (isNullOrUndefined(a[label]) && isNullOrUndefined(b[label])) {\n                returnCollection.isLabel = false;\n            }\n            if (!isNullOrUndefined(a[key]) && !isNullOrUndefined(b[key])) {\n                return a[key] - b[key];\n            }\n            else {\n                returnCollection.isCompact = false;\n                return a;\n            }\n        });\n        if (!returnCollection.isCompact) {\n            returnCollection.offsets = this.heatMap.paletteSettings.palette && this.heatMap.paletteSettings.palette.length > 1 ?\n                this.heatMap.paletteSettings.palette : this.heatMap.themeStyle.palette;\n        }\n        return returnCollection;\n    };\n    /**\n     * To get color depends to value.\n     *\n     * @private\n     */\n    CellColor.prototype.getColorByValue = function (text) {\n        var color = '';\n        var rbg;\n        var compareValue = 0;\n        if (text.toString() !== '') {\n            if (this.heatMap.cellSettings.tileType === 'Bubble' &&\n                (this.heatMap.cellSettings.bubbleType === 'Size' || this.heatMap.cellSettings.bubbleType === 'Sector')) {\n                color = this.heatMap.isColorRange ? this.heatMap.colorCollection[0].minColor : this.heatMap.colorCollection[0].color;\n            }\n            else if (this.heatMap.paletteSettings.type === 'Fixed') {\n                for (var y = 0; y < this.heatMap.colorCollection.length; y++) {\n                    compareValue = this.heatMap.isColorRange ? this.heatMap.paletteSettings.palette[y].startValue :\n                        this.heatMap.colorCollection[y + 1] ? this.heatMap.colorCollection[y + 1].value :\n                            this.heatMap.colorCollection[y].value;\n                    var singleValue = this.heatMap.dataSourceMinValue === this.heatMap.dataSourceMaxValue;\n                    if (this.heatMap.isColorRange) {\n                        var legendRange = void 0;\n                        if ((text <= this.heatMap.colorCollection[y].endValue &&\n                            text >= this.heatMap.colorCollection[y].startValue)) {\n                            if (this.heatMap.legendVisibilityByCellType) {\n                                legendRange = this.heatMap.legendModule.legendRange;\n                            }\n                            color = (this.heatMap.legendVisibilityByCellType && legendRange[y] &&\n                                !legendRange[y].visible) ?\n                                this.heatMap.themeStyle.toggledColor : this.heatMap.colorCollection[y].minColor;\n                            break;\n                        }\n                        else {\n                            color = this.heatMap.paletteSettings.fillColor.minColor;\n                        }\n                    }\n                    else {\n                        if ((text <= compareValue && singleValue && y === 0) || text < compareValue ||\n                            (text >= compareValue && y === this.heatMap.colorCollection.length - 1)) {\n                            var legendRange = void 0;\n                            if (this.heatMap.legendVisibilityByCellType) {\n                                legendRange = this.heatMap.legendModule.legendRange;\n                            }\n                            color = (this.heatMap.legendVisibilityByCellType && legendRange[y] &&\n                                !legendRange[y].visible) ?\n                                this.heatMap.themeStyle.toggledColor : this.heatMap.colorCollection[y].color;\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                if (this.heatMap.paletteSettings.colorGradientMode !== 'Table') {\n                    this.getColorCollection();\n                }\n                if (text < this.heatMap.colorCollection[0].value && !this.heatMap.isColorRange) {\n                    color = this.heatMap.colorCollection[0].color;\n                }\n                else if (text > this.heatMap.colorCollection[this.heatMap.colorCollection.length - 1].value &&\n                    !this.heatMap.isColorRange) {\n                    color = this.heatMap.colorCollection[this.heatMap.colorCollection.length - 1].color;\n                }\n                else {\n                    rbg = this.convertToRGB(text, this.heatMap.colorCollection);\n                    color = this.rgbToHex(rbg.R, rbg.G, rbg.B);\n                }\n            }\n        }\n        else {\n            color = this.heatMap.emptyPointColor;\n        }\n        return color;\n    };\n    return CellColor;\n}());\nexport { CellColor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * HeatMap Axis file\n */\nimport { Property, Complex, ChildProperty, isNullOrUndefined, Collection } from '@syncfusion/ej2-base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { Font, Title, AxisLabelBorder, MultiLevelLabels, MultipleRow } from '../model/base';\nimport { Theme } from '../model/theme';\nimport { Rect, measureText, Size, rotateTextSize, increaseDateTimeInterval, formatValue, textTrim, getIsLineBreakLabel } from '../utils/helper';\nimport { MultiLevelPosition, textWrap } from '../utils/helper';\n/**\n * Sets and gets the options to customize the axis of the heatmap.\n */\nvar Axis = /** @class */ (function (_super) {\n    __extends(Axis, _super);\n    function Axis() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.multipleRow = [];\n        /** @private */\n        _this.rect = new Rect(undefined, undefined, 0, 0);\n        /** @private */\n        _this.nearSizes = [];\n        /** @private */\n        _this.farSizes = [];\n        /** @private */\n        _this.maxLabelSize = new Size(0, 0);\n        /** @private */\n        _this.titleSize = new Size(0, 0);\n        /** @private */\n        _this.multilevel = [];\n        /** @private */\n        _this.axisLabels = [];\n        /** @private */\n        _this.tooltipLabels = [];\n        /** @private */\n        _this.labelValue = [];\n        /** @private */\n        _this.axisLabelSize = 0;\n        /** @private */\n        _this.axisLabelInterval = 0;\n        /** @private */\n        _this.dateTimeAxisLabelInterval = [];\n        /** @private */\n        _this.maxLength = 0;\n        /** @private */\n        _this.min = 0;\n        /** @private */\n        _this.max = 0;\n        /** @private */\n        _this.isIntersect = false;\n        /** @private */\n        _this.jsonCellLabel = [];\n        _this.multiLevelSize = [];\n        /** @private */\n        _this.xAxisMultiLabelHeight = [];\n        /** @private */\n        _this.yAxisMultiLabelHeight = [];\n        /** @private */\n        _this.multiLevelPosition = [];\n        return _this;\n    }\n    /**\n     * measure the axis title and label size\n     *\n     * @param axis\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.computeSize = function (axis, heatmap, rect) {\n        var size = new Size(0, 0);\n        var innerPadding = 10;\n        this.titleSize = axis.getTitleSize(axis, innerPadding);\n        this.maxLabelSize = axis.getMaxLabelSize(axis, heatmap);\n        this.getMultilevelLabelsHeight(axis, rect, heatmap);\n        for (var i = 0; i < this.multiLevelLabels.length; i++) {\n            size = axis.multiLevelLabelSize(innerPadding, i);\n            this.multiLevelSize.push(size);\n        }\n    };\n    /**\n     * calculating x, y position of multi level labels\n     *\n     * @private\n     */\n    Axis.prototype.multiPosition = function (axis, index) {\n        var innerPadding = axis.orientation === 'Horizontal' ? 10 : 20;\n        var multiPosition = new MultiLevelPosition(0, 0);\n        if (axis.orientation === 'Horizontal') {\n            var level0 = axis.maxLabelSize.height + innerPadding\n                + ((axis.angle === 0 || axis.angle === 180 || axis.angle === 360) ? 0 : innerPadding);\n            var level1 = this.xAxisMultiLabelHeight[index - 1];\n            multiPosition.x = (axis.isInversed ? axis.rect.x + axis.rect.width : axis.rect.x);\n            multiPosition.y = index === 0 ? axis.rect.y + (axis.opposedPosition ? -level0 : level0) :\n                axis.multiLevelPosition[index - 1].y + (axis.opposedPosition ? -level1 : level1);\n        }\n        else {\n            var level0 = axis.maxLabelSize.width + innerPadding;\n            var level1 = index !== 0 && (this.multiLevelSize[index - 1].width);\n            multiPosition.x = index === 0 ? axis.rect.x - (axis.opposedPosition ? -level0 : level0) :\n                axis.multiLevelPosition[index - 1].x - (axis.opposedPosition ? -(level1 + innerPadding) : level1 + innerPadding);\n            multiPosition.y = axis.isInversed ? axis.rect.y : axis.rect.y + axis.rect.height;\n        }\n        return multiPosition;\n    };\n    Axis.prototype.multiLevelLabelSize = function (innerPadding, index) {\n        var labelSize = new Size(0, 0);\n        var multiLevel = this.multiLevelLabels;\n        var categoryLabel = multiLevel[index].categories;\n        for (var i = 0; i < categoryLabel.length; i++) {\n            var size_1 = measureText(categoryLabel[i].text, multiLevel[index].textStyle);\n            labelSize.width = (labelSize.width > size_1.width) ? labelSize.width : size_1.width;\n            labelSize.height = (labelSize.height > size_1.height) ? labelSize.height : size_1.height;\n        }\n        var size = (this.orientation === 'Horizontal') ? this.xAxisMultiLabelHeight[index] :\n            this.yAxisMultiLabelHeight[index];\n        if (this.opposedPosition) {\n            this.farSizes.push(size);\n        }\n        else {\n            this.nearSizes.push(size);\n        }\n        return labelSize;\n    };\n    Axis.prototype.getMultilevelLabelsHeight = function (axis, rect, heatmap) {\n        var labelSize;\n        var gap;\n        var height;\n        var multiLevelLabelsHeight = [];\n        var start;\n        var end;\n        var startPosition;\n        var endPosition;\n        var isVertical = axis.orientation === 'Vertical';\n        var padding = axis.orientation === 'Vertical' ? 20 : 10;\n        this.multiLevelLabels.map(function (multiLevel, index) {\n            multiLevel.categories.map(function (categoryLabel) {\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    height = isVertical ? labelSize.width : labelSize.height;\n                    startPosition = heatmap.heatMapAxis.calculateLeftPosition(axis, start, categoryLabel.start, rect);\n                    endPosition = heatmap.heatMapAxis.calculateWidth(axis, categoryLabel.end, end, rect);\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(endPosition - startPosition) :\n                        categoryLabel.maximumTextWidth);\n                    if ((labelSize.width > gap - padding) && (multiLevel.overflow === 'Wrap') && !isVertical) {\n                        height = (height * (textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length));\n                    }\n                    multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height + padding :\n                        ((multiLevelLabelsHeight[index] < height) ? height + padding : multiLevelLabelsHeight[index]);\n                }\n            });\n        });\n        if (isVertical) {\n            this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n        }\n        else {\n            this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n        }\n    };\n    Axis.prototype.getTitleSize = function (axis, innerPadding) {\n        var titleSize = new Size(0, 0);\n        if (this.title.text) {\n            titleSize = measureText(this.title.text, this.title.textStyle);\n            titleSize.height += innerPadding;\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push(titleSize.height);\n        }\n        else {\n            this.nearSizes.push(titleSize.height);\n        }\n        return titleSize;\n    };\n    Axis.prototype.getMaxLabelSize = function (axis, heatmap) {\n        var labelSize = new Size(0, 0);\n        var labels = this.axisLabels;\n        var padding = (axis.border.width > 0 || axis.multiLevelLabels.length > 0) ? 10 : 0;\n        var labelPadding = 10;\n        var count = 1;\n        var row = 1;\n        var interval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') || (axis.textStyle.textOverflow === 'Wrap' || axis.textStyle.textOverflow === 'Trim') ?\n            heatmap.initialClipRect.width / axis.axisLabelSize : heatmap.initialClipRect.width / axis.axisLabels.length;\n        axis.angle = axis.labelRotation;\n        axis.isIntersect = false;\n        var isLineBreak = getIsLineBreakLabel(labels);\n        if ((axis.orientation === 'Horizontal' && (axis.labelIntersectAction === 'Rotate45' ||\n            (axis.labelRotation % 180 === 0 && axis.labelIntersectAction === 'Trim' || axis.enableTrim)) ||\n            axis.labelIntersectAction === 'MultipleRows') && axis.textStyle.textOverflow !== 'Wrap' && axis.textStyle.textOverflow !== 'Trim') {\n            var startX = heatmap.initialClipRect.x + ((!axis.isInversed) ? 0 : heatmap.initialClipRect.width);\n            var previousEnd = void 0;\n            var previousStart = void 0;\n            this.clearMultipleRow();\n            for (var i = 0, len = labels.length; i < len; i++) {\n                var label = labels[i];\n                var elementSize = measureText(label, axis.textStyle);\n                var axisInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] * interval : interval;\n                var startPoint = startX + (!axis.isInversed ?\n                    ((interval - elementSize.width) / 2) : -((interval + elementSize.width) / 2));\n                startPoint = startPoint < heatmap.initialClipRect.x ? heatmap.initialClipRect.x : startPoint;\n                var endPoint = startPoint + elementSize.width;\n                if (!axis.isInversed) {\n                    if (isNullOrUndefined(previousEnd)) {\n                        previousEnd = endPoint;\n                    }\n                    else if ((startPoint < previousEnd) && axis.labelIntersectAction !== 'MultipleRows') {\n                        if (axis.labelIntersectAction === 'Rotate45' && !(isLineBreak) && !axis.enableTrim) {\n                            axis.angle = 45;\n                        }\n                        else {\n                            axis.isIntersect = true;\n                        }\n                        break;\n                    }\n                    previousEnd = endPoint;\n                }\n                else {\n                    if (isNullOrUndefined(previousStart)) {\n                        previousStart = startPoint;\n                    }\n                    else if ((previousStart < endPoint && axis.labelIntersectAction !== 'MultipleRows')) {\n                        if (axis.labelIntersectAction === 'Rotate45' && !(isLineBreak) && !axis.enableTrim) {\n                            axis.angle = 45;\n                        }\n                        else {\n                            axis.isIntersect = true;\n                        }\n                        break;\n                    }\n                    previousStart = startPoint;\n                }\n                startX += axis.isInversed ? -axisInterval : axisInterval;\n                if (axis.orientation === 'Horizontal' && axis.labelIntersectAction === 'MultipleRows' && axis.labelRotation === 0) {\n                    this.multipleRow.push(new MultipleRow(startPoint, endPoint, count, label, row));\n                }\n            }\n            if (axis.orientation === 'Horizontal' && axis.labelIntersectAction === 'MultipleRows' && axis.isInversed) {\n                this.multipleRow = this.multipleRow.reverse();\n            }\n        }\n        var labelLength = 1;\n        for (var i = 0; i < labels.length; i++) {\n            var multipleRow = this.multipleRow;\n            var label = void 0;\n            if (axis.enableTrim || (axis.textStyle.textOverflow === 'Trim' && !(labels[i].indexOf('<br>') !== -1 || labels[i].indexOf('<br/>') !== -1))) {\n                label = textTrim((axis.textStyle.textOverflow === 'Trim' && axis.orientation === 'Horizontal' ? interval : axis.maxLabelLength), labels[i], axis.textStyle);\n            }\n            else {\n                label = labels[i];\n            }\n            var wrappedlabels = [];\n            if ((axis.textStyle.textOverflow === 'Wrap' || isLineBreak) && !axis.enableTrim) {\n                var labelInterval = axis.orientation === 'Horizontal' ? interval : axis.maxLabelLength;\n                if (isLineBreak) {\n                    wrappedlabels = label.split(/<br\\s*\\/?>/, -1);\n                    for (var i_1 = 0; i_1 < wrappedlabels.length; i_1++) {\n                        wrappedlabels[i_1] = textTrim(labelInterval, wrappedlabels[i_1], axis.textStyle);\n                    }\n                }\n                else {\n                    wrappedlabels = textWrap(label, labelInterval, axis.textStyle);\n                }\n                labelLength = wrappedlabels.length > labelLength && !axis.enableTrim ? wrappedlabels.length : labelLength;\n                if (axis.orientation === 'Vertical' || (axis.orientation === 'Horizontal' && axis.angle % 180 !== 0)) {\n                    var labelWidth = 0;\n                    for (var index = 0; index < wrappedlabels.length; index++) {\n                        var wrappedlabelSize = measureText(wrappedlabels[index], axis.textStyle);\n                        if (wrappedlabelSize.width > labelWidth) {\n                            labelWidth = wrappedlabelSize.width;\n                            label = wrappedlabels[index];\n                        }\n                    }\n                }\n                if (axis.orientation === 'Vertical') {\n                    var tempintervel = heatmap.initialClipRect.height / (axis.axisLabelSize / axis.axisLabelInterval);\n                    for (var index = 0; index < wrappedlabels.length; index++) {\n                        if ((measureText(label, axis.textStyle).height * wrappedlabels.length) > (tempintervel - labelPadding) && wrappedlabels.length > 0 && (axis.angle !== 90 && axis.angle !== 270)) {\n                            wrappedlabels.pop();\n                            if (wrappedlabels.length > 0) {\n                                wrappedlabels[wrappedlabels.length - 1] = wrappedlabels[wrappedlabels.length - 1] + '...';\n                                /* eslint-disable max-len */\n                                wrappedlabels[wrappedlabels.length - 1] = textTrim(axis.maxLabelLength, wrappedlabels[wrappedlabels.length - 1], axis.textStyle);\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (isLineBreak && axis.enableTrim) {\n                    wrappedlabels = label.split(/<br\\s*\\/?>/, -1);\n                    var trimmedLabel = textTrim(axis.maxLabelLength, wrappedlabels[0], axis.textStyle);\n                    label = (label.indexOf('<br>') !== -1 || label.indexOf('<br/>') !== -1) && trimmedLabel.indexOf('...') === -1 ? trimmedLabel + '...' : trimmedLabel;\n                    wrappedlabels = [];\n                }\n                wrappedlabels.push(label);\n            }\n            var size = (axis.angle % 180 === 0) ?\n                measureText(label, axis.textStyle) : rotateTextSize(axis.textStyle, wrappedlabels, axis.angle);\n            labelSize.width = (labelSize.width > size.width) ? labelSize.width : size.width;\n            if (axis.labelIntersectAction === 'MultipleRows' && axis.orientation === 'Horizontal' && axis.textStyle.textOverflow !== 'Wrap' && axis.textStyle.textOverflow !== 'Trim' && i > 0 && axis.labelRotation === 0) {\n                if (multipleRow[i].end >= heatmap.initialClipRect.width && i < labels.length - 1) {\n                    multipleRow[i].row = multipleRow[i].row + 1;\n                }\n                for (var k = 1; k <= axis.multilevel.length; k++) {\n                    if (multipleRow[i].start < multipleRow[i - 1].end) {\n                        if (axis.multilevel[k] < multipleRow[i].start) {\n                            count = k;\n                            break;\n                        }\n                        else if (k === axis.multilevel.length - 1) {\n                            count = axis.multilevel.length;\n                            break;\n                        }\n                    }\n                    else if (size.width < interval) {\n                        for (var j = 1; j <= axis.multilevel.length; j++) {\n                            if (axis.multilevel[j] < multipleRow[i].start) {\n                                count = j;\n                                multipleRow[j].row = count;\n                                break;\n                            }\n                        }\n                    }\n                }\n                labelSize.height = (labelSize.height > ((size.height * count) + (((size.height * 0.5) / 2) * (count - 1)))) ?\n                    labelSize.height : ((size.height * count) + (((size.height * 0.5) / 2) * count));\n                this.multipleRow[i].index = count;\n                axis.multilevel[count] = multipleRow[i].end;\n            }\n            else {\n                if (axis.orientation === 'Horizontal' && axis.labelIntersectAction === 'MultipleRows' && i === 0 &&\n                    axis.labelRotation === 0 && axis.textStyle.textOverflow !== 'Wrap' && axis.textStyle.textOverflow !== 'Trim') {\n                    axis.multilevel[1] = multipleRow[i].end;\n                }\n                labelSize.height = (labelSize.height > size.height) ? labelSize.height : size.height;\n            }\n        }\n        labelSize.height = (axis.angle % 180 === 0) ? labelSize.height * labelLength : labelSize.height;\n        if (heatmap.cellSettings.border.width >= 20 && axis.orientation !== 'Horizontal') {\n            labelSize.width = labelSize.width + (heatmap.cellSettings.border.width / 4);\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push((axis.orientation === 'Horizontal') ? labelSize.height : labelSize.width + padding);\n        }\n        else {\n            this.nearSizes.push((axis.orientation === 'Horizontal') ? labelSize.height : labelSize.width + padding);\n        }\n        return labelSize;\n    };\n    /**\n     * Generate the axis lables for numeric axis\n     *\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.calculateNumericAxisLabels = function (heatmap) {\n        //Axis Min\n        var min = 0;\n        var max = 0;\n        var interval = this.interval ? this.interval : 1;\n        var adaptorMin;\n        var adaptorMax;\n        if (heatmap.adaptorModule && heatmap.isCellData) {\n            adaptorMin = this.orientation === 'Horizontal' ?\n                heatmap.adaptorModule.adaptiveXMinMax.min : heatmap.adaptorModule.adaptiveYMinMax.min;\n            adaptorMax = this.orientation === 'Horizontal' ?\n                heatmap.adaptorModule.adaptiveXMinMax.max : heatmap.adaptorModule.adaptiveYMinMax.max;\n        }\n        min = !isNullOrUndefined(this.minimum) ? this.minimum : ((adaptorMin) ? adaptorMin : 0);\n        max = !isNullOrUndefined(this.maximum) ? this.maximum :\n            ((adaptorMax) ? adaptorMax : (this.maxLength * this.increment));\n        var temp;\n        if (this.minimum && this.maximum && min > max) {\n            temp = min;\n            min = max;\n            max = temp;\n        }\n        max = !isNullOrUndefined(this.maximum) ? max : (adaptorMax ? adaptorMax : (max + min));\n        var format = this.labelFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = heatmap.intl.getNumberFormat({\n            format: isCustom ? '' : format\n        });\n        for (var i = min; i <= max; i = i + (interval * this.increment)) {\n            var value = formatValue(isCustom, format, i, this.format);\n            this.axisLabels.push(value);\n        }\n        this.min = 0;\n        this.axisLabelSize = Math.floor(((max - min) / this.increment) + 1);\n        this.max = this.axisLabelSize - 1;\n        this.axisLabelInterval = interval;\n        for (var i = min; i <= max; i = i + this.increment) {\n            var value = formatValue(isCustom, format, i, this.format);\n            this.tooltipLabels.push(value);\n            this.labelValue.push(i);\n        }\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    /**\n     * Generate the axis lables for category axis\n     *\n     * @private\n     */\n    Axis.prototype.calculateCategoryAxisLabels = function () {\n        var labels = this.labels ? this.labels : [];\n        labels = (labels.length > 0) ? labels : this.jsonCellLabel;\n        var min = !isNullOrUndefined(this.minimum) && !(this.minimum instanceof Date) ? this.minimum : 0;\n        var max = !isNullOrUndefined(this.maximum) && !(this.maximum instanceof Date) ? this.maximum : this.maxLength;\n        var interval = this.interval ? this.interval : 1;\n        var temp;\n        var format = this.labelFormat;\n        var isCustom = format.match('{value}') !== null;\n        if (!isNullOrUndefined(this.minimum) && !isNullOrUndefined(this.maximum) && min > max) {\n            temp = min;\n            min = max;\n            max = temp;\n        }\n        if (labels && labels.length > 0) {\n            for (var i = min; i <= max; i = i + interval) {\n                var value = !isNullOrUndefined(labels[i]) ? isCustom ? format.replace('{value}', labels[i].toString()) : labels[i].toString() : isCustom ? format.replace('{value}', i.toString()) : i.toString();\n                this.axisLabels.push(value);\n            }\n        }\n        else {\n            for (var i = min; i <= max; i = i + interval) {\n                var value = isCustom ? format.replace('{value}', i.toString()) : i.toString();\n                this.axisLabels.push(value);\n            }\n        }\n        for (var i = min; i <= max; i++) {\n            this.tooltipLabels.push(!isNullOrUndefined(labels[i]) ? isCustom ? format.replace('{value}', labels[i].toString()) : labels[i].toString() : isCustom ? format.replace('{value}', i.toString()) : i.toString());\n            this.labelValue.push(!isNullOrUndefined(labels[i]) ? labels[i].toString() : i.toString());\n        }\n        this.min = min;\n        this.max = max;\n        this.axisLabelSize = max - min + 1;\n        this.axisLabelInterval = interval;\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    /**\n     * Generate the axis labels for date time axis.\n     *\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.calculateDateTimeAxisLabel = function (heatmap) {\n        var interval = this.interval ? this.interval : 1;\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = heatmap.intl.getDateParser(option);\n        var dateFormatter = heatmap.intl.getDateFormat(option);\n        var min;\n        var max;\n        var adaptorMin = null;\n        var adaptorMax = null;\n        if (heatmap.adaptorModule && heatmap.isCellData) {\n            adaptorMin = this.orientation === 'Horizontal' ? heatmap.adaptorModule.adaptiveXMinMax.min :\n                heatmap.adaptorModule.adaptiveYMinMax.min;\n            adaptorMax = this.orientation === 'Horizontal' ? heatmap.adaptorModule.adaptiveXMinMax.max :\n                heatmap.adaptorModule.adaptiveYMinMax.max;\n        }\n        var minimum = this.minimum ? this.minimum : (adaptorMin ? adaptorMin : null);\n        var maximum = this.maximum ? this.maximum : (adaptorMax ? adaptorMax : null);\n        if (minimum === null && maximum === null) {\n            min = 0;\n            max = this.maxLength * this.increment;\n            for (var i = min; i <= max; i = i + (interval * this.increment)) {\n                this.axisLabels.push(i.toString());\n                this.tooltipLabels.push(i.toString());\n                this.labelValue.push(i.toString());\n            }\n            this.min = 0;\n            this.max = this.maxLength;\n            this.axisLabelSize = (max - min) / this.increment + 1;\n            this.axisLabelInterval = interval;\n        }\n        else {\n            if (minimum !== null && maximum === null) {\n                min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: minimum }).val))));\n                max = increaseDateTimeInterval(min, this.maxLength, this.intervalType, this.increment).getTime();\n            }\n            else if (minimum === null && maximum !== null) {\n                max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: maximum }).val))));\n                min = increaseDateTimeInterval(max, -this.maxLength, this.intervalType, this.increment).getTime();\n            }\n            else {\n                min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: minimum }).val))));\n                max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: maximum }).val))));\n            }\n            this.format = heatmap.intl.getDateFormat({\n                format: this.labelFormat, skeleton: this.getSkeleton()\n            });\n            var tempInterval = min;\n            while (tempInterval <= max) {\n                var value = this.format(new Date(tempInterval));\n                this.axisLabels.push(value);\n                if (this.showLabelOn !== 'None') {\n                    interval = this.calculateLabelInterval(tempInterval);\n                    this.dateTimeAxisLabelInterval.push(interval);\n                }\n                tempInterval = increaseDateTimeInterval(tempInterval, interval, this.intervalType, this.increment).getTime();\n            }\n            this.min = 0;\n            this.axisLabelInterval = interval;\n            this.axisLabelSize = this.getTotalLabelLength(min, max); // this.tooltipLabels.length;\n            this.max = this.axisLabelSize - 1;\n            tempInterval = min;\n            while (tempInterval <= max) {\n                var value = this.format(new Date(tempInterval));\n                this.tooltipLabels.push(value);\n                this.labelValue.push(new Date(tempInterval));\n                tempInterval = increaseDateTimeInterval(tempInterval, 1, this.intervalType, this.increment).getTime();\n            }\n        }\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    Axis.prototype.calculateLabelInterval = function (interval) {\n        var year = new Date(interval).getFullYear();\n        var month = new Date(interval).getMonth() + 1;\n        var day = new Date(interval).getDate();\n        var numberOfDays;\n        var tempInterval;\n        if (this.showLabelOn === 'Years' || this.showLabelOn === 'Months') {\n            if (this.showLabelOn === 'Years' && this.intervalType === 'Months') {\n                tempInterval = Math.ceil(12 / this.increment);\n            }\n            else {\n                numberOfDays = this.showLabelOn === 'Years' ? year % 4 === 0 ? 366 : 365 : new Date(year, month, 0).getDate();\n                numberOfDays += 1 - day;\n                tempInterval = this.intervalType === 'Days' ? Math.ceil(numberOfDays / this.increment) : this.intervalType === 'Hours' ?\n                    Math.ceil((numberOfDays * 24) / this.increment) : this.intervalType === 'Minutes' ?\n                    Math.ceil((numberOfDays * 24 * 60) / this.increment) : 1;\n            }\n        }\n        else if (this.showLabelOn === 'Days') {\n            tempInterval = this.intervalType === 'Hours' ? Math.ceil(24 / this.increment) : this.intervalType === 'Minutes' ?\n                Math.ceil((24 * 60) / this.increment) : 1;\n        }\n        else if (this.showLabelOn === 'Hours') {\n            var minutes = new Date(interval).getMinutes();\n            tempInterval = this.intervalType === 'Minutes' ? Math.ceil((60 - minutes) / this.increment) : 1;\n        }\n        else {\n            tempInterval = 1;\n        }\n        return tempInterval;\n    };\n    /**\n     * @private\n     */\n    Axis.prototype.getSkeleton = function () {\n        var skeleton;\n        if (this.intervalType === 'Years') {\n            skeleton = 'yMMM';\n        }\n        else if (this.intervalType === 'Months') {\n            skeleton = 'MMMd';\n        }\n        else if (this.intervalType === 'Days') {\n            skeleton = 'yMd';\n        }\n        else if (this.intervalType === 'Hours') {\n            skeleton = 'EHm';\n        }\n        else if (this.intervalType === 'Minutes') {\n            skeleton = 'Hms';\n        }\n        else {\n            skeleton = 'Hms';\n        }\n        return skeleton;\n    };\n    /** @private */\n    Axis.prototype.getTotalLabelLength = function (min, max) {\n        var length = 0;\n        var minimum = new Date(min);\n        var maximum = new Date(max);\n        var difference;\n        var days;\n        switch (this.intervalType) {\n            case 'Years':\n                // eslint-disable-next-line no-case-declarations\n                var years = ((maximum.getFullYear() - minimum.getFullYear()) / this.increment) + 1;\n                length = Math.floor(years);\n                break;\n            case 'Months':\n                // eslint-disable-next-line no-case-declarations\n                var months = (maximum.getFullYear() - minimum.getFullYear()) * 12;\n                months -= minimum.getMonth();\n                months += maximum.getMonth();\n                length = months <= 0 ? 1 : Math.floor((months / this.increment) + 1);\n                break;\n            case 'Days':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                days = Math.floor(difference / (1000 * 3600 * 24));\n                length = Math.floor((days / this.increment) + 1);\n                break;\n            case 'Hours':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                // eslint-disable-next-line no-case-declarations\n                var hours = Math.floor(difference / (1000 * 3600));\n                length = Math.floor(hours / this.increment) + 1;\n                break;\n            case 'Minutes':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                // eslint-disable-next-line no-case-declarations\n                var minutes = Math.floor(difference / (1000 * 60));\n                length = Math.floor(minutes / this.increment) + 1;\n                break;\n        }\n        return length;\n    };\n    /**\n     * Clear the axis label collection\n     *\n     * @private\n     */\n    Axis.prototype.clearAxisLabel = function () {\n        this.axisLabels = [];\n        this.tooltipLabels = [];\n        this.dateTimeAxisLabelInterval = [];\n        this.labelValue = [];\n    };\n    /**\n     * Clear the axis label collection\n     *\n     * @private\n     */\n    Axis.prototype.clearMultipleRow = function () {\n        this.multipleRow = [];\n        this.multilevel = [];\n    };\n    __decorate([\n        Complex({ text: '', textStyle: Theme.axisTitleFont }, Title)\n    ], Axis.prototype, \"title\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"opposedPosition\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"labels\", void 0);\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], Axis.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"labelRotation\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"isInversed\", void 0);\n    __decorate([\n        Property('Category')\n    ], Axis.prototype, \"valueType\", void 0);\n    __decorate([\n        Property(1)\n    ], Axis.prototype, \"increment\", void 0);\n    __decorate([\n        Property('None')\n    ], Axis.prototype, \"showLabelOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"minimum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"maximum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"interval\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property('Days')\n    ], Axis.prototype, \"intervalType\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Axis.prototype, \"labelIntersectAction\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"enableTrim\", void 0);\n    __decorate([\n        Property(35)\n    ], Axis.prototype, \"maxLabelLength\", void 0);\n    __decorate([\n        Complex({ color: '#b5b5b5', width: 0, type: 'Rectangle' }, AxisLabelBorder)\n    ], Axis.prototype, \"border\", void 0);\n    __decorate([\n        Collection([], MultiLevelLabels)\n    ], Axis.prototype, \"multiLevelLabels\", void 0);\n    return Axis;\n}(ChildProperty));\nexport { Axis };\n","import { Rect, Size, measureText, TextOption, rotateTextSize, textTrim, CanvasTooltip, PathOption, textWrap, getIsLineBreakLabel } from '../utils/helper';\nimport { sum, titlePositionX, LineOption, Line, DrawSvgCanvas, TextBasic, titlePositionY, getTitle } from '../utils/helper';\nimport { extend, Browser, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar AxisHelper = /** @class */ (function () {\n    function AxisHelper(heatMap) {\n        this.heatMap = heatMap;\n        this.padding = 10;\n        this.drawSvgCanvas = new DrawSvgCanvas(heatMap);\n    }\n    /**\n     * To render the x and y axis.\n     *\n     * @private\n     */\n    AxisHelper.prototype.renderAxes = function () {\n        this.initialClipRect = this.heatMap.initialClipRect;\n        var heatMap = this.heatMap;\n        var axisElement;\n        var element;\n        if (!heatMap.enableCanvasRendering) {\n            axisElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'AxisCollection' });\n        }\n        var axes = this.heatMap.axisCollections;\n        for (var i = 0, len = axes.length; i < len; i++) {\n            var axis = axes[i];\n            if (axis.orientation === 'Horizontal') {\n                if (!heatMap.enableCanvasRendering) {\n                    element = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisGroup' });\n                }\n                this.drawXAxisLine(element, axis);\n                this.drawXAxisTitle(axis, element, axis.rect);\n                this.drawXAxisLabels(axis, element, axis.rect);\n            }\n            else {\n                element = heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisGroup' });\n                this.drawYAxisLine(element, axis);\n                this.drawYAxisTitle(axis, element, axis.rect);\n                this.drawYAxisLabels(axis, element, axis.rect);\n            }\n            if (axis.multiLevelLabels.length > 0) {\n                this.drawMultiLevels(element, axis);\n            }\n            if (!heatMap.enableCanvasRendering) {\n                axisElement.appendChild(element);\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            this.heatMap.svgObject.appendChild(axisElement);\n        }\n    };\n    AxisHelper.prototype.drawXAxisLine = function (parent, axis) {\n        var y = this.initialClipRect.y + (!axis.opposedPosition ? this.initialClipRect.height : 0);\n        var line = new LineOption(this.heatMap.element.id + '_XAxisLine', new Line(this.initialClipRect.x, y, this.initialClipRect.x + this.initialClipRect.width, y), 'transparent', 0);\n        this.drawSvgCanvas.drawLine(line, parent);\n    };\n    AxisHelper.prototype.drawYAxisLine = function (parent, axis) {\n        var x = this.initialClipRect.x + ((!axis.opposedPosition) ? 0 : this.initialClipRect.width);\n        var line = new LineOption(this.heatMap.element.id + '_YAxisLine', new Line(x, this.initialClipRect.y, x, this.initialClipRect.height + this.initialClipRect.y), 'transparent', 0);\n        this.drawSvgCanvas.drawLine(line, parent);\n    };\n    AxisHelper.prototype.drawXAxisTitle = function (axis, parent, rect) {\n        var titlepadding = (axis.textStyle.size === '0px' ? 0 : 10);\n        var y = rect.y + (!axis.opposedPosition ? (axis.maxLabelSize.height + titlepadding +\n            sum(axis.xAxisMultiLabelHeight)) : -(axis.maxLabelSize.height + titlepadding + sum(axis.xAxisMultiLabelHeight)));\n        if (axis.title.text) {\n            var heatMap = this.heatMap;\n            var title = axis.title;\n            var elementSize = measureText(title.text, title.textStyle);\n            var padding = this.padding;\n            var anchor = title.textStyle.textAlignment === 'Near' ? 'start' :\n                title.textStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            padding = axis.opposedPosition ? -(padding + elementSize.height / 4) : (padding + (3 * elementSize.height / 4));\n            var options = new TextOption(heatMap.element.id + '_XAxisTitle', new TextBasic(rect.x + titlePositionX(rect.width, 0, 0, title.textStyle), y + padding, anchor, title.text), title.textStyle, title.textStyle.color || heatMap.themeStyle.axisTitle);\n            this.drawSvgCanvas.createText(options, parent, title.text);\n        }\n    };\n    AxisHelper.prototype.drawYAxisTitle = function (axis, parent, rect) {\n        if (axis.title.text) {\n            var title = axis.title;\n            var heatMap = this.heatMap;\n            var labelRotation = (axis.opposedPosition) ? 90 : -90;\n            var anchor = title.textStyle.textAlignment === 'Near' ? 'start' :\n                title.textStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            var padding = 10;\n            padding = axis.opposedPosition ? padding : -padding;\n            var titlepadding = (axis.textStyle.size === '0px' ? 0 : padding);\n            var x = rect.x + titlepadding + ((axis.opposedPosition) ? axis.maxLabelSize.width + sum(axis.yAxisMultiLabelHeight) :\n                -(axis.maxLabelSize.width + sum(axis.yAxisMultiLabelHeight)));\n            var y = rect.y + titlePositionY(rect, 0, 0, title.textStyle) + (axis.opposedPosition ? this.padding : -this.padding);\n            var options = new TextOption(heatMap.element.id + '_YAxisTitle', new TextBasic(x, y - this.padding, anchor, title.text, labelRotation, 'rotate(' + labelRotation + ',' + (x) + ',' + (y) + ')', 'auto'), title.textStyle, title.textStyle.color || heatMap.themeStyle.axisTitle);\n            if (!this.heatMap.enableCanvasRendering) {\n                this.drawSvgCanvas.createText(options, parent, title.text);\n            }\n            else {\n                this.drawSvgCanvas.canvasDrawText(options, title.text, x, y);\n            }\n        }\n    };\n    /**\n     * Get the visible labels for both x and y axis\n     *\n     * @private\n     */\n    AxisHelper.prototype.calculateVisibleLabels = function () {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        var data = this.heatMap.dataSourceSettings;\n        var processLabels = !(data && data.isJsonData && data.adaptorType === 'Cell');\n        for (var i = 0, len = axisCollection.length; i < len; i++) {\n            axis = axisCollection[i];\n            if (axis.valueType === 'Numeric' && processLabels) {\n                axis.clearAxisLabel();\n                axis.calculateNumericAxisLabels(this.heatMap);\n            }\n            else if (axis.valueType === 'DateTime' && processLabels) {\n                axis.clearAxisLabel();\n                axis.calculateDateTimeAxisLabel(this.heatMap);\n            }\n            else if (axis.valueType === 'Category') {\n                axis.clearAxisLabel();\n                axis.calculateCategoryAxisLabels();\n            }\n            axis.tooltipLabels = axis.isInversed ? axis.tooltipLabels.reverse() : axis.tooltipLabels;\n        }\n    };\n    /**\n     * Measure the title and labels rendering position for both X and Y axis.\n     *\n     * @param rect\n     * @private\n     */\n    AxisHelper.prototype.measureAxis = function (rect) {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        for (var i = axisCollection.length - 1; i >= 0; i--) {\n            axis = axisCollection[i];\n            var padding = axis.textStyle.size === '0px' ? 0 : this.padding;\n            axis.nearSizes = [];\n            axis.farSizes = [];\n            axis.computeSize(axis, heatmap, rect);\n            if (!axis.opposedPosition) {\n                if (axis.orientation === 'Horizontal') {\n                    rect.height -= (sum(axis.nearSizes) + padding);\n                }\n                else {\n                    rect.x += sum(axis.nearSizes) + padding;\n                    rect.width -= sum(axis.nearSizes) + padding;\n                }\n            }\n            else {\n                if (axis.orientation === 'Horizontal') {\n                    rect.y += sum(axis.farSizes) + padding;\n                    rect.height -= sum(axis.farSizes) + padding;\n                }\n                else {\n                    rect.width -= sum(axis.farSizes) + padding;\n                }\n            }\n        }\n    };\n    /**\n     * Calculate the X and Y axis line position\n     *\n     * @param rect\n     * @private\n     */\n    AxisHelper.prototype.calculateAxisSize = function (rect) {\n        var heatmap = this.heatMap;\n        var axisCollection = heatmap.axisCollections;\n        for (var i = 0, len = axisCollection.length; i < len; i++) {\n            var axis = axisCollection[i];\n            axis.rect = extend({}, rect, null, true);\n            if (axis.orientation === 'Horizontal' && axis.multiLevelLabels.length !== 0) {\n                if (axis.opposedPosition) {\n                    axis.rect.y += (axis.angle === 0 || axis.angle === 180 || axis.angle === 360 ? 0 : this.padding);\n                    this.heatMap.initialClipRect.y += (axis.angle === 0 || axis.angle === 180 || axis.angle === 360 ? 0 : this.padding);\n                }\n                rect.height -= (axis.angle === 0 || axis.angle === 180 || axis.angle === 360 ? 0 : this.padding);\n            }\n            if (axis.orientation === 'Horizontal' && !axis.opposedPosition) {\n                axis.rect.y = rect.y + rect.height;\n                axis.rect.height = 0;\n            }\n            if (axis.orientation === 'Vertical' && axis.opposedPosition) {\n                axis.rect.x = rect.x + rect.width;\n                axis.rect.width = 0;\n            }\n            axis.multiLevelPosition = [];\n            for (var i_1 = 0; i_1 < axis.multiLevelLabels.length; i_1++) {\n                var multiPosition = axis.multiPosition(axis, i_1);\n                axis.multiLevelPosition.push(multiPosition);\n            }\n        }\n    };\n    AxisHelper.prototype.drawXAxisLabels = function (axis, parent, rect) {\n        var heatMap = this.heatMap;\n        var labels = axis.axisLabels;\n        var isLineBreak = false;\n        var borderWidth = this.heatMap.cellSettings.border.width > 5 ? (this.heatMap.cellSettings.border.width / 2) : 0;\n        var interval = (rect.width - borderWidth) / axis.axisLabelSize;\n        var compactInterval = 0;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var tempintervel = rect.width / (axis.axisLabelSize / axis.axisLabelInterval);\n        var temp = axis.axisLabelInterval;\n        if (tempintervel > 0) {\n            while (tempintervel < parseInt(axis.textStyle.size, 10)) {\n                temp = temp + 1;\n                tempintervel = rect.width / (axis.axisLabelSize / temp);\n            }\n        }\n        else {\n            temp = axis.tooltipLabels.length;\n        }\n        if (axis.axisLabelInterval < temp) {\n            compactInterval = temp;\n            labels = axis.tooltipLabels;\n            axisInterval = temp;\n        }\n        var y;\n        var padding = 10;\n        var lableStrtX = rect.x + (!axis.isInversed ? 0 : rect.width);\n        var labelPadding;\n        var angle = axis.angle;\n        padding = this.padding;\n        var labelElement;\n        var borderElement;\n        if (!heatMap.enableCanvasRendering) {\n            labelElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisLabels' });\n            borderElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisLabelBorder' });\n        }\n        if (axis.isInversed && axis.labelIntersectAction === 'MultipleRows') {\n            axis.multipleRow.reverse();\n        }\n        isLineBreak = getIsLineBreakLabel(labels);\n        for (var i = 0, len = labels.length; i < len; i++) {\n            var lableRect = new Rect(lableStrtX, rect.y, interval, rect.height);\n            var label = (axis.textStyle.textOverflow !== 'Wrap' && !(isLineBreak) && axis.textStyle.textOverflow !== 'Trim' && axis.labelIntersectAction === 'Trim' && axis.isIntersect) ? axis.valueType !== 'DateTime' ||\n                axis.showLabelOn === 'None' ? textTrim(interval * axisInterval, labels[i], axis.textStyle) :\n                textTrim(axis.dateTimeAxisLabelInterval[i] * interval, labels[i], axis.textStyle) : labels[i];\n            label = ((axis.enableTrim || axis.textStyle.textOverflow === 'Trim') && !isLineBreak) ? textTrim((axis.textStyle.textOverflow === 'Trim' ? interval - (axis.border.width / 2) : axis.maxLabelLength), labels[i], axis.textStyle) : label;\n            var wrappedLabel = label;\n            var wrappedlabels = [];\n            var rotateSize = new Size(0, 0);\n            if ((axis.textStyle.textOverflow === 'Wrap' || isLineBreak) && !axis.enableTrim) {\n                wrappedlabels = this.getLabels(wrappedLabel, interval - (axis.border.width / 2), axis, isLineBreak);\n                wrappedLabel = this.getMaxLabel(wrappedlabels, axis);\n            }\n            else {\n                if (isLineBreak && axis.enableTrim) {\n                    wrappedlabels = this.getLabels(wrappedLabel, interval - (axis.border.width / 2), axis, isLineBreak);\n                    wrappedLabel = textTrim(axis.maxLabelLength, wrappedlabels[0], axis.textStyle);\n                    wrappedLabel = (label.indexOf('<br>') !== -1 || label.indexOf('<br/>') !== -1) && wrappedLabel.indexOf('...') === -1 ? wrappedLabel + '...' : wrappedLabel;\n                    wrappedlabels = [];\n                }\n                wrappedlabels.push(wrappedLabel);\n            }\n            var elementSize = measureText(wrappedLabel, axis.textStyle);\n            var transform = void 0;\n            labelPadding = (axis.opposedPosition) ? -(padding) : (padding + ((angle % 360) === 0 ? (elementSize.height / 2) : 0));\n            elementSize.width = axis.isInversed ? (elementSize.width > interval ? interval : elementSize.width) : elementSize.width;\n            var x = lableRect.x + ((!axis.isInversed) ?\n                (lableRect.width / 2) : -((lableRect.width / 2)));\n            if (axis.textStyle.textAlignment === 'Near') {\n                x = lableRect.x - ((!axis.isInversed) ? 0 : lableRect.width);\n            }\n            else if (axis.textStyle.textAlignment === 'Far') {\n                x = lableRect.x + ((!axis.isInversed) ?\n                    (lableRect.width - elementSize.width) : -(elementSize.width));\n            }\n            if (axis.labelIntersectAction === 'Trim') {\n                x = (!axis.isInversed) ? (x >= lableRect.x ? x : lableRect.x) : (x > (lableStrtX - interval) ? x : (lableStrtX - interval));\n            }\n            else if (angle % 180 === 0) {\n                x = x < rect.x ? rect.x : x;\n                x = ((x + elementSize.width) > (rect.x + rect.width)) ? (rect.x + rect.width - elementSize.width) : x;\n            }\n            if ((axis.textStyle.textOverflow === 'Wrap' || isLineBreak) && !axis.isInversed) {\n                x = x < lableRect.x ? lableRect.x : x;\n            }\n            if (axis.labelIntersectAction === 'MultipleRows' && axis.textStyle.textOverflow !== 'Wrap' && axis.textStyle.textOverflow !== 'Trim' && axis.labelRotation === 0) {\n                var a = axis.opposedPosition ? -(axis.multipleRow[i].index - 1) :\n                    (axis.multipleRow[i].index - 1);\n                if (axis.multipleRow[i].index > 1) {\n                    y = rect.y + labelPadding + (elementSize.height * a) + (axis.opposedPosition ?\n                        -(((elementSize.height * 0.5) / 2) * axis.multipleRow[i].index) :\n                        (((elementSize.height * 0.5) / 2) * axis.multipleRow[i].index));\n                }\n                else {\n                    y = rect.y + labelPadding + (axis.opposedPosition ? -((elementSize.height * 0.5) / 2) :\n                        ((elementSize.height * 0.5) / 2));\n                }\n            }\n            else {\n                y = rect.y + ((axis.textStyle.textOverflow === 'Wrap' || isLineBreak) && axis.opposedPosition && angle % 360 === 0 ? -(axis.farSizes.length >= 1 ? axis.farSizes[1] : 0) + padding : labelPadding);\n            }\n            this.drawXAxisBorder(axis, borderElement, axis.rect, x, elementSize.width, i);\n            if (angle % 360 !== 0) {\n                angle = (angle > 360) ? angle % 360 : angle;\n                rotateSize = rotateTextSize(axis.textStyle, wrappedlabels, angle);\n                /* eslint-disable max-len */\n                x = lableRect.x + (axis.isInversed ? -(lableRect.width / 2) : (lableRect.width / 2)) + (angle === 90 ? (elementSize.height * ((wrappedlabels.length - 1) / 2)) : angle === 270 ? -(elementSize.height * (wrappedlabels.length - 1) / 2) : 0);\n                /* eslint-disable max-len */\n                y = y + (axis.opposedPosition ? (((axis.textStyle.textOverflow === 'Wrap' || isLineBreak) && !axis.enableTrim ? (((angle % 360) === 180) ? padding : 0) + (rotateSize.height / 2) - (axis.farSizes.length >= 1 ? axis.farSizes[1] : 0) : -(rotateSize.height / 2)) + (axis.border.width / 2)) :\n                    (((angle % 360) === 0) ? 0 : ((angle % 360) === 180) ? (rotateSize.height / 2) - (axis.border.width) + padding : (rotateSize.height / 2) - (axis.border.width)));\n                if (wrappedlabels.length > 1) {\n                    y = y - ((angle > 0 && angle < 80) || (angle > 300 && angle < 360) ? elementSize.height * ((wrappedlabels.length - 1) / 2) : (angle > 120 && angle < 240) && angle !== 180 && wrappedlabels.length > 2 ? -(elementSize.height * ((wrappedlabels.length - 2) / 2)) : 0);\n                    x = x + ((angle > 0 && angle < 70) ? elementSize.height * ((wrappedlabels.length - 1) / 2) : 0);\n                }\n                transform = 'rotate(' + angle + ',' + x + ',' + y + ')';\n            }\n            if (this.heatMap.cellSettings.border.width > 5 && axis.opposedPosition) {\n                y = y - (this.heatMap.cellSettings.border.width / 2);\n            }\n            if (this.heatMap.yAxis.opposedPosition && this.heatMap.cellSettings.border.width > 5) {\n                x = x + (this.heatMap.cellSettings.border.width / 2);\n            }\n            if (this.heatMap.xAxis.isInversed && this.heatMap.cellSettings.border.width > 5) {\n                x = x - (this.heatMap.cellSettings.border.width / 2);\n            }\n            if (elementSize.width >= interval) {\n                x = axis.border.width ? x + (axis.border.width / 2) : x;\n            }\n            x = axis.textStyle.textAlignment === 'Near' ? x + (axis.border.width / 2) : axis.textStyle.textAlignment === 'Far' ?\n                x - (axis.border.width / 2) : x;\n            x = (angle % 360 === 0) && axis.textStyle.textAlignment === 'Center' && elementSize.width > interval ? lableRect.x + ((!axis.isInversed) ?\n                (elementSize.width / 2) : -((elementSize.width / 2))) : x;\n            var options = new TextOption(heatMap.element.id + '_XAxis_Label' + i, new TextBasic(x, y, (angle % 360 === 0) ? axis.textStyle.textAlignment === 'Center' ? 'middle' : 'start' : 'middle', label, angle, transform), axis.textStyle, axis.textStyle.color || heatMap.themeStyle.axisLabel);\n            /* eslint-disable max-len */\n            options.text = isLineBreak ? wrappedlabels : getTitle(options.text, axis.textStyle, lableRect.width - (axis.border.width / 2));\n            if (angle !== 0 && this.heatMap.enableCanvasRendering) {\n                this.drawSvgCanvas.canvasDrawText(options, null, null, null, wrappedlabels, elementSize.height, true);\n            }\n            else {\n                if (axis.textStyle.textOverflow === 'Wrap' || isLineBreak) {\n                    this.drawSvgCanvas.createWrapText(options, axis.textStyle, labelElement);\n                }\n                else {\n                    this.drawSvgCanvas.createText(options, labelElement, label);\n                }\n            }\n            if (compactInterval === 0) {\n                var labelInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] : axis.axisLabelInterval;\n                lableStrtX = lableStrtX + (!axis.isInversed ? (labelInterval * interval) :\n                    -(labelInterval * interval));\n            }\n            else {\n                lableStrtX = lableStrtX + (!axis.isInversed ? (compactInterval * interval) : -(compactInterval * interval));\n            }\n            if (wrappedLabel.indexOf('...') !== -1) {\n                var xValue = axis.angle % 360 !== 0 ? x - (rotateSize.width / 2) : (axis.textStyle.textAlignment === 'Center' ? x - (elementSize.width / 2) : x);\n                var yValue = y - (axis.angle % 360 !== 0 ? (rotateSize.height / 2) : elementSize.height);\n                label = labels[i].indexOf('<br>') !== -1 || labels[i].indexOf('<br/>') !== -1 ? labels[i].replace(/<br\\s*\\/?>/g, ' ') : labels[i];\n                this.heatMap.tooltipCollection.push(new CanvasTooltip(label, new Rect(xValue, yValue, axis.angle % 360 !== 0 ? rotateSize.width : elementSize.width, axis.angle % 360 !== 0 ? rotateSize.height : elementSize.height * wrappedlabels.length)));\n            }\n            if (compactInterval !== 0) {\n                i = i + (compactInterval - 1);\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n            parent.appendChild(borderElement);\n        }\n    };\n    AxisHelper.prototype.getWrappedLabels = function (wrappedLabel, labelInterval, axis) {\n        var wrappedlabels = wrappedLabel.split(/<br\\s*\\/?>/, -1);\n        for (var i = 0; i < wrappedlabels.length; i++) {\n            var label = wrappedlabels[i];\n            wrappedlabels[i] = textTrim(labelInterval, label, axis.textStyle);\n        }\n        return wrappedlabels;\n    };\n    AxisHelper.prototype.getMaxLabel = function (wrappedlabels, axis) {\n        var label = '';\n        var labelWidth = 0;\n        var wrappedlabelSize = new Size(0, 0);\n        for (var index = 0; index < wrappedlabels.length; index++) {\n            wrappedlabelSize = measureText(wrappedlabels[index], axis.textStyle);\n            if (wrappedlabelSize.width > labelWidth) {\n                labelWidth = wrappedlabelSize.width;\n                label = wrappedlabels[index];\n            }\n        }\n        return label;\n    };\n    AxisHelper.prototype.getLabels = function (label, labelInterval, axis, isLineBreak) {\n        var wrappedlabels = [];\n        if (isLineBreak) {\n            wrappedlabels = this.getWrappedLabels(label, labelInterval, axis);\n        }\n        else {\n            wrappedlabels = textWrap(label, labelInterval, axis.textStyle);\n        }\n        return wrappedlabels;\n    };\n    AxisHelper.prototype.drawYAxisLabels = function (axis, parent, rect) {\n        var heatMap = this.heatMap;\n        var labels = axis.axisLabels;\n        var interval = rect.height / axis.axisLabelSize;\n        var compactInterval = 0;\n        var tempintervel = rect.height / (axis.axisLabelSize / axis.axisLabelInterval);\n        var temp = axis.axisLabelInterval;\n        var label;\n        if (tempintervel > 0) {\n            while (tempintervel < parseInt(axis.textStyle.size, 10)) {\n                temp = temp + 1;\n                tempintervel = rect.height / (axis.axisLabelSize / temp);\n            }\n        }\n        else {\n            temp = axis.tooltipLabels.length;\n        }\n        if (axis.axisLabelInterval < temp) {\n            compactInterval = temp;\n            labels = axis.tooltipLabels;\n        }\n        var padding = 10;\n        var labelPadding = 5;\n        var lableStartY = rect.y + (axis.isInversed ? 0 : rect.height);\n        var anchor = axis.opposedPosition ? 'start' : 'end';\n        padding = axis.opposedPosition ? padding : -padding;\n        var labelElement;\n        var borderElement;\n        if (!heatMap.enableCanvasRendering) {\n            labelElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisLabels' });\n            borderElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisLabelBorder' });\n        }\n        var isLineBreak = getIsLineBreakLabel(labels);\n        for (var i = 0, len = labels.length; i < len; i++) {\n            var labelRect = new Rect(rect.x, lableStartY, rect.width, interval);\n            var position = axis.isInversed ? labelRect.height / 2 : -(labelRect.height / 2); //titlePositionY(lableRect, 0, 0, axis.textStyle);\n            var axisWidth = this.heatMap.cellSettings.border.width >= 20 ? (this.heatMap.cellSettings.border.width / 2) : 0;\n            var indexValue = this.heatMap.cellSettings.border.width > 5 ?\n                (((this.heatMap.cellSettings.border.width / 2) / len) * (axis.isInversed ? (i) : (len - i))) : 0;\n            label = (axis.enableTrim || axis.textStyle.textOverflow === 'Trim') && !isLineBreak ? textTrim(axis.maxLabelLength, labels[i], axis.textStyle) : labels[i];\n            var elementSize = measureText(label, axis.textStyle);\n            var labelLength = 1;\n            var wrappedLabel = [];\n            var rotateSize = new Size(0, 0);\n            if ((axis.textStyle.textOverflow === 'Wrap' || isLineBreak) && !axis.enableTrim) {\n                wrappedLabel = this.getLabels(label, axis.maxLabelLength, axis, isLineBreak);\n                for (var index = 0; index < wrappedLabel.length; index++) {\n                    if ((elementSize.height * wrappedLabel.length) > (tempintervel + (labelPadding)) && wrappedLabel.length > 0 && (axis.angle !== 90 && axis.angle !== 270)) {\n                        wrappedLabel.pop();\n                        if (wrappedLabel.length > 0) {\n                            wrappedLabel[wrappedLabel.length - 1] = wrappedLabel[wrappedLabel.length - 1] + '...';\n                            /* eslint-disable max-len */\n                            wrappedLabel[wrappedLabel.length - 1] = textTrim(axis.maxLabelLength, wrappedLabel[wrappedLabel.length - 1], axis.textStyle);\n                        }\n                    }\n                }\n                if (!(isLineBreak)) {\n                    label = wrappedLabel.length !== 0 ? '' : label;\n                    for (var labelIndex = 0; labelIndex < wrappedLabel.length; labelIndex++) {\n                        label = isNullOrUndefined(label) ? wrappedLabel[labelIndex] : label + ' ' + wrappedLabel[labelIndex];\n                    }\n                }\n                labelLength = wrappedLabel.length;\n            }\n            else {\n                if (isLineBreak && axis.enableTrim) {\n                    wrappedLabel = this.getLabels(label, axis.maxLabelLength, axis, isLineBreak);\n                    var trimmedLabel = textTrim(axis.maxLabelLength, wrappedLabel[0], axis.textStyle);\n                    label = (label.indexOf('<br>') !== -1 || label.indexOf('<br/>') !== -1) && trimmedLabel.indexOf('...') === -1 ? trimmedLabel + '...' : trimmedLabel;\n                    wrappedLabel = [];\n                }\n                wrappedLabel.push(label);\n            }\n            var x = labelRect.x + padding + (axis.opposedPosition ? (axis.textStyle.textOverflow === 'Wrap' && axis.angle % 360 !== 0 ? labelLength * (elementSize.height / 2) : 0) + axisWidth : -axisWidth);\n            if (axis.textStyle.textAlignment === 'Far' && axis.angle % 360 === 0) {\n                /* eslint-disable max-len */\n                position = axis.isInversed ? labelRect.height - (labelLength > 1 ? (elementSize.height * labelLength) - (elementSize.height / 2) : (elementSize.height / 2)) :\n                    -(labelLength > 1 ? (elementSize.height * labelLength) - (elementSize.height / 2) : (elementSize.height / 2));\n            }\n            else if (axis.textStyle.textAlignment === 'Near' && axis.angle % 360 === 0) {\n                /* eslint-disable max-len */\n                position = (axis.isInversed ? elementSize.height / 2 : ((elementSize.height / 2) - labelRect.height)) + (axis.border.width / 2);\n            }\n            var y = (labelRect.y - indexValue) + position - ((labelLength > 1 && axis.textStyle.textAlignment === 'Center') || (axis.angle % 360 !== 0 && axis.opposedPosition) ? (((elementSize.height * labelLength) / 2) - (elementSize.height / 2)) : 0);\n            if (axis.angle % 360 !== 0) {\n                anchor = 'middle';\n                axis.angle = (axis.angle > 360) ? axis.angle % 360 : axis.angle;\n                rotateSize = rotateTextSize(axis.textStyle, wrappedLabel, axis.angle);\n                x = labelRect.x + (axis.opposedPosition ? (rotateSize.width / 2 + padding) : -(rotateSize.width / 2 - padding)) + (axis.angle === 90 ? (elementSize.height * ((wrappedLabel.length - 1) / 2)) : axis.angle === 270 ? -(elementSize.height * (wrappedLabel.length - 1) / 2) : 0);\n                y = labelRect.y + (axis.isInversed ? (labelRect.height / 2) : (-labelRect.height / 2)) + (axis.angle === 180 ? (elementSize.height * ((wrappedLabel.length - 1) / 2)) : 0);\n                if (wrappedLabel.length > 1) {\n                    var value = elementSize.height * ((wrappedLabel.length - 1) / 2);\n                    y = y - ((axis.angle > 0 && axis.angle < 60) || (axis.angle > 290 && axis.angle < 360) ? value : (axis.angle > 115 && axis.angle < 240) && axis.angle !== 180 ? -value : 0);\n                    x = x + (axis.angle > 20 && axis.angle < 160 && axis.angle !== 90 ? value : axis.angle > 200 && axis.angle < 330 && axis.angle !== 270 ? -value - (axis.angle > 200 && axis.angle < 240 && !axis.opposedPosition && wrappedLabel.length > 2 ? -(elementSize.height * ((wrappedLabel.length - 2) / 2)) : 0) :\n                        (axis.angle >= 330 && axis.angle < 350 ? -value / 2 : 0));\n                }\n            }\n            var options = new TextOption(heatMap.element.id + '_YAxis_Label' + i, new TextBasic(x, y, anchor, label, axis.angle, 'rotate(' + axis.angle + ',' + (x) + ',' + (y) + ')', 'middle'), axis.textStyle, axis.textStyle.color || heatMap.themeStyle.axisLabel);\n            if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                options.dy = '1ex';\n            }\n            options.text = isLineBreak ? wrappedLabel : getTitle(options.text, axis.textStyle, axis.maxLabelLength);\n            if (axis.angle !== 0 && this.heatMap.enableCanvasRendering) {\n                this.drawSvgCanvas.canvasDrawText(options, null, null, null, wrappedLabel, elementSize.height, true);\n            }\n            else {\n                if (axis.textStyle.textOverflow === 'Wrap' || isLineBreak) {\n                    this.drawSvgCanvas.createWrapText(options, axis.textStyle, labelElement);\n                }\n                else {\n                    this.drawSvgCanvas.createText(options, labelElement, label);\n                }\n            }\n            if (compactInterval === 0) {\n                var labelInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] : axis.axisLabelInterval;\n                lableStartY = lableStartY + (axis.isInversed ? (labelInterval * interval) :\n                    -(labelInterval * interval));\n            }\n            else {\n                lableStartY = lableStartY + (axis.isInversed ? (compactInterval * interval) : -(compactInterval * interval));\n                i = i + (compactInterval - 1);\n            }\n            this.drawYAxisBorder(axis, borderElement, axis.rect, y, elementSize.height, i);\n            label = this.getMaxLabel(wrappedLabel, axis);\n            if (label.indexOf('...') !== -1) {\n                var xValue = axis.opposedPosition ? x : (x - (axis.angle % 360 !== 0 ? (rotateSize.width / 2) : elementSize.width));\n                var yValue = y - (axis.angle % 360 !== 0 ? (rotateSize.height / 2) : elementSize.height);\n                label = labels[i].indexOf('<br>') !== -1 || labels[i].indexOf('<br/>') !== -1 ? labels[i].replace(/<br\\s*\\/?>/g, ' ') : labels[i];\n                this.heatMap.tooltipCollection.push(new CanvasTooltip(label, new Rect(xValue, yValue, (axis.angle % 360 !== 0 ? rotateSize.width : elementSize.width), (axis.angle % 360 !== 0 ? rotateSize.height : elementSize.height * wrappedLabel.length))));\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n            parent.appendChild(borderElement);\n        }\n    };\n    AxisHelper.prototype.drawXAxisBorder = function (axis, parent, rect, lableX, width, index) {\n        var interval = rect.width / axis.axisLabelSize;\n        var path = '';\n        var padding = 10;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var startX = axis.isInversed ? rect.x + rect.width - (interval * index * axisInterval) :\n            rect.x + (interval * index * axisInterval);\n        var startY = rect.y;\n        var endX;\n        var endY;\n        endY = startY + (axis.opposedPosition ? -(axis.maxLabelSize.height + padding) : axis.maxLabelSize.height + padding);\n        // eslint-disable-next-line prefer-const\n        endX = axis.isInversed ? startX - interval : startX + interval;\n        var endY1 = axis.isInversed ? (lableX + width + padding) : (lableX - padding);\n        var endY2 = axis.isInversed ? (lableX - padding) : (lableX + width + padding);\n        switch (axis.border.type) {\n            case 'Rectangle':\n                path = ('M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY);\n                break;\n            case 'WithoutTopBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                endY = startY + ((endY - startY) / 2) + (axis.opposedPosition ? 0 : 5);\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endY1 + ' ' + endY + ' ' + 'M' + ' ' + endY2 +\n                    ' ' + endY + ' ' + 'L' +\n                    ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n        }\n        if (axis.border.width > 0 && axis.border.type !== 'WithoutBorder') {\n            this.createAxisBorderElement(axis, path, parent, index);\n        }\n    };\n    AxisHelper.prototype.drawYAxisBorder = function (axis, parent, rect, lableY, height, index) {\n        var interval = rect.height / axis.axisLabelSize;\n        var path = '';\n        var padding = 20;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var startX = rect.x;\n        var startY = axis.isInversed ? rect.y + (interval * index * axisInterval) :\n            rect.y + rect.height - (interval * index * axisInterval);\n        var endX;\n        var endY;\n        endX = startX + (!axis.opposedPosition ? -(axis.maxLabelSize.width + padding) : axis.maxLabelSize.width + padding);\n        // eslint-disable-next-line prefer-const\n        endY = axis.isInversed ? startY + interval : startY - interval;\n        var endY1 = axis.isInversed ? lableY - height / 2 : lableY + height / 2;\n        var endY2 = axis.isInversed ? lableY + height / 2 : lableY - height / 2;\n        switch (axis.border.type) {\n            case 'Rectangle':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY;\n                break;\n            case 'WithoutTopBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path = 'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'M' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                endX = startX - (startX - endX) / 2;\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY1 + ' ' + 'M' + ' ' +\n                    endX + ' ' + endY2 + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY;\n                break;\n        }\n        if (axis.border.width > 0 && axis.border.type !== 'WithoutBorder') {\n            this.createAxisBorderElement(axis, path, parent, index);\n        }\n    };\n    /**\n     * To create border element for axis.\n     *\n     * @returns {void}\n     * @private\n     */\n    AxisHelper.prototype.createAxisBorderElement = function (axis, labelBorder, parent, index) {\n        var canvasTranslate;\n        var id = axis.orientation === 'Horizontal' ? '_XAxis_Label_Border' : '_YAxis_Label_Border';\n        var pathOptions = new PathOption(this.heatMap.element.id + id + index, 'transparent', axis.border.width, axis.border.color, 1, 'none', labelBorder);\n        if (!this.heatMap.enableCanvasRendering) {\n            var borderElement = this.heatMap.renderer.drawPath(pathOptions);\n            parent.appendChild(borderElement);\n        }\n        else {\n            this.heatMap.canvasRenderer.drawPath(pathOptions, canvasTranslate);\n        }\n    };\n    AxisHelper.prototype.drawMultiLevels = function (parent, axis) {\n        var element;\n        if (!this.heatMap.enableCanvasRendering) {\n            element = this.heatMap.renderer.createGroup({ id: this.heatMap.element.id + '_' + axis.orientation + '_MultiLevelLabel' });\n        }\n        if (axis.orientation === 'Horizontal') {\n            this.renderXAxisMultiLevelLabels(axis, element);\n        }\n        else {\n            this.renderYAxisMultiLevelLabels(axis, element);\n        }\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(element);\n        }\n    };\n    /**\n     * render x axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    AxisHelper.prototype.renderXAxisMultiLevelLabels = function (axis, parent) {\n        var _this = this;\n        var x = 0;\n        var y;\n        var padding = 10;\n        var startX;\n        var startY;\n        var endX = 0;\n        var tooltip;\n        var start;\n        var end;\n        var labelSize;\n        var anchor;\n        var isInversed = axis.isInversed;\n        var labelElement;\n        var opposedPosition = axis.opposedPosition;\n        var pathRect = '';\n        var gap;\n        var textLength;\n        var position = (isInversed ? axis.rect.width : 0) + axis.rect.x;\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            labelElement = _this.heatMap.renderer.createGroup({ id: _this.heatMap.element.id + '_XAxisMultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                if (_this.heatMap.theme === 'Bootstrap5' || _this.heatMap.theme === 'Bootstrap5Dark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } }, true);\n                }\n                if (_this.heatMap.theme === 'Tailwind' || _this.heatMap.theme === 'TailwindDark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'Inter' } }, true);\n                }\n                if (_this.heatMap.theme === 'Material3' || _this.heatMap.theme === 'Material3Dark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'Roboto' } }, true);\n                }\n                if (_this.heatMap.theme === 'Fluent' || _this.heatMap.theme === 'FluentDark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif' } }, true);\n                }\n                tooltip = false;\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                startX = position + _this.calculateLeftPosition(axis, start, categoryLabel.start, axis.rect);\n                startY = axis.multiLevelPosition[level].y;\n                endX = position + _this.calculateWidth(axis, categoryLabel.end, end, axis.rect);\n                labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(endX - startX) : categoryLabel.maximumTextWidth) - padding;\n                y = startY + (opposedPosition ? -((axis.xAxisMultiLabelHeight[level] - labelSize.height)) : labelSize.height);\n                x = !isInversed ? startX + padding : startX - gap;\n                if (multiLevel.alignment === 'Center') {\n                    x = ((endX - startX) / 2) + startX;\n                    x -= (labelSize.width > gap ? gap : labelSize.width) / 2;\n                }\n                else if (multiLevel.alignment === 'Far') {\n                    x = !isInversed ? endX - padding : startX - padding;\n                    x -= (labelSize.width > gap ? gap : labelSize.width);\n                }\n                else {\n                    x = !isInversed ? startX + padding : endX + padding;\n                }\n                if (multiLevel.overflow === 'None' && labelSize.width > Math.abs(endX - startX)) {\n                    x = !isInversed ? startX + padding : startX - labelSize.width - padding;\n                    anchor = 'start';\n                }\n                var textBasic = new TextBasic(x, y, anchor, categoryLabel.text, 0, 'translate(0,0)');\n                var options = new TextOption(_this.heatMap.element.id + '_XAxis_MultiLevel' + level + '_Text' + i, textBasic, multiLevel.textStyle, multiLevel.textStyle.color || _this.heatMap.themeStyle.axisLabel);\n                if (multiLevel.overflow === 'Wrap') {\n                    options.text = textWrap(categoryLabel.text, gap, multiLevel.textStyle);\n                    textLength = options.text.length;\n                }\n                else if (multiLevel.overflow === 'Trim') {\n                    options.text = textTrim(gap, categoryLabel.text, multiLevel.textStyle);\n                    textLength = 1;\n                }\n                if (multiLevel.overflow === 'Wrap' && options.text.length > 1) {\n                    _this.drawSvgCanvas.createWrapText(options, multiLevel.textStyle, labelElement);\n                    for (var i_2 = 0; i_2 < options.text.length; i_2++) {\n                        if (options.text[i_2].indexOf('...') !== -1) {\n                            tooltip = true;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    _this.drawSvgCanvas.createText(options, labelElement, options.text);\n                }\n                if (!_this.heatMap.enableCanvasRendering) {\n                    parent.appendChild(labelElement);\n                }\n                if (options.text.indexOf('...') !== -1 || options.text[0].indexOf('...') !== -1 || tooltip) {\n                    _this.heatMap.tooltipCollection.push(new CanvasTooltip(categoryLabel.text, new Rect(x, y - labelSize.height, gap, labelSize.height * textLength)));\n                }\n                if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                    pathRect = _this.renderXAxisLabelBorder(level, axis, startX, startY, endX, pathRect, level, labelSize, gap, x);\n                }\n            });\n            if (pathRect !== '') {\n                _this.createBorderElement(level, axis, pathRect, parent);\n                pathRect = '';\n            }\n        });\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    AxisHelper.prototype.renderXAxisLabelBorder = function (labelIndex, axis, startX, startY, endX, path, level, labelSize, gap, x) {\n        var path1;\n        var path2;\n        var endY = startY + (axis.opposedPosition ? -(axis.xAxisMultiLabelHeight[labelIndex]) :\n            axis.xAxisMultiLabelHeight[labelIndex]);\n        var padding = 3;\n        switch (axis.multiLevelLabels[level].border.type) {\n            case 'Rectangle':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ';\n                break;\n            case 'WithoutTopBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                path1 = axis.isInversed ? (labelSize.width > gap ? gap : labelSize.width) + x + padding : x - padding;\n                path2 = axis.isInversed ? x - padding : (labelSize.width > gap ? gap : labelSize.width) + x + padding;\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + (startY + (endY - startY) / 2) + ' ' +\n                    'L' + ' ' + path1 + ' ' + (startY + (endY - startY) / 2) + ' ' + 'M' + ' ' + path2 + ' ' + (startY +\n                    (endY - startY) / 2) + ' ' + 'L' + ' ' + endX + ' ' + (startY + (endY - startY) / 2) +\n                    ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n        }\n        return path;\n    };\n    /**\n     * render y axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    AxisHelper.prototype.renderYAxisMultiLevelLabels = function (axis, parent) {\n        var _this = this;\n        var x = 0;\n        var y;\n        var padding = 10;\n        var startX;\n        var startY;\n        var endY;\n        var start;\n        var end;\n        var labelSize;\n        var isInversed = axis.isInversed;\n        var labelElement;\n        var pathRect = '';\n        var gap;\n        var text;\n        var position = (!isInversed ? axis.rect.height : 0) + axis.rect.y;\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            startY = axis.multiLevelPosition[level].y;\n            labelElement = _this.heatMap.renderer.createGroup({ id: _this.heatMap.element.id + '_YAxisMultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                if (_this.heatMap.theme === 'Tailwind' || _this.heatMap.theme === 'TailwindDark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'Inter' } }, true);\n                }\n                if (_this.heatMap.theme === 'Material3' || _this.heatMap.theme === 'Material3Dark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'Roboto' } }, true);\n                }\n                if (_this.heatMap.theme === 'Bootstrap5' || _this.heatMap.theme === 'Bootstrap5Dark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } }, true);\n                }\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                startY = position + _this.calculateLeftPosition(axis, start, categoryLabel.start, axis.rect);\n                startX = axis.multiLevelPosition[level].x;\n                endY = position + _this.calculateWidth(axis, categoryLabel.start, end, axis.rect);\n                labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(startX) : categoryLabel.maximumTextWidth) - padding;\n                var maxWidth = Math.abs(startX - (startX - axis.multiLevelSize[level].width - 2 * padding)) / 2 -\n                    (labelSize.width / 2);\n                x = (axis.opposedPosition ? startX : startX - axis.multiLevelSize[level].width - 2 * padding) + maxWidth;\n                y = startY + padding;\n                if (multiLevel.overflow !== 'None') {\n                    if (multiLevel.overflow === 'Wrap') {\n                        text = textWrap(categoryLabel.text, gap, multiLevel.textStyle);\n                    }\n                    else {\n                        text = textTrim(gap, categoryLabel.text, multiLevel.textStyle);\n                    }\n                }\n                if (multiLevel.alignment === 'Center') {\n                    y += ((endY - startY) / 2 - (text.length * labelSize.height) / 2);\n                }\n                else if (multiLevel.alignment === 'Far') {\n                    y = isInversed ? endY - labelSize.height / 2 : y - labelSize.height;\n                }\n                else {\n                    y = isInversed ? y + labelSize.height / 2 : endY + labelSize.height;\n                }\n                if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                    pathRect = _this.renderYAxisLabelBorder(level, axis, startX, startY, endY, pathRect, level, labelSize, gap, y);\n                }\n                var textBasic = new TextBasic(x, y, 'start', categoryLabel.text, 0, 'translate(0,0)');\n                var options = new TextOption(_this.heatMap.element.id + '_YAxis_MultiLevel' + level + '_Text' + i, textBasic, multiLevel.textStyle, multiLevel.textStyle.color || _this.heatMap.themeStyle.axisLabel);\n                options.text = text;\n                _this.drawSvgCanvas.createText(options, labelElement, options.text);\n                if (options.text.indexOf('...') !== -1) {\n                    _this.heatMap.tooltipCollection.push(new CanvasTooltip(categoryLabel.text, new Rect(x, y - labelSize.height, gap, labelSize.height)));\n                }\n                if (!_this.heatMap.enableCanvasRendering) {\n                    parent.appendChild(labelElement);\n                }\n            });\n            if (pathRect !== '') {\n                _this.createBorderElement(level, axis, pathRect, parent);\n                pathRect = '';\n            }\n        });\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    AxisHelper.prototype.renderYAxisLabelBorder = function (labelIndex, axis, startX, startY, endY, path, level, labelSize, gap, y) {\n        var padding = 20;\n        var path1;\n        var path2;\n        var endX = startX - (axis.opposedPosition ? -(axis.multiLevelSize[labelIndex].width + padding) :\n            (axis.multiLevelSize[labelIndex].width + padding));\n        switch (axis.multiLevelLabels[level].border.type) {\n            case 'Rectangle':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ';\n                break;\n            case 'WithoutTopBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path += 'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                padding = 10;\n                path1 = axis.isInversed ? (y - padding - 5) : (y + (labelSize.height) - padding);\n                path2 = axis.isInversed ? (y + (labelSize.height) - padding) : (y - padding - 5);\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + (startX + (endX - startX) / 2) + ' ' + startY + ' ' +\n                    'L' + ' ' + (startX + (endX - startX) / 2) + ' ' + path1 + ' ' + 'M' + ' ' + (startX + (endX - startX) / 2) +\n                    ' ' + path2 + ' ' + 'L' + ' ' + (startX + (endX - startX) / 2) + ' ' +\n                    endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n        }\n        return path;\n    };\n    /**\n     * create borer element\n     *\n     * @returns {void}\n     * @private\n     */\n    AxisHelper.prototype.createBorderElement = function (borderIndex, axis, path, parent) {\n        var canvasTranslate;\n        var id = axis.orientation === 'Horizontal' ? 'XAxis' : 'YAxis';\n        var pathOptions = new PathOption(this.heatMap.element.id + '_' + id + '_MultiLevel_Rect_' + borderIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color, 1, '', path);\n        var borderElement = this.heatMap.renderer.drawPath(pathOptions);\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(borderElement);\n        }\n        else {\n            this.heatMap.canvasRenderer.drawPath(pathOptions, canvasTranslate);\n        }\n    };\n    /**\n     * calculate left position of border element\n     *\n     * @private\n     */\n    AxisHelper.prototype.calculateLeftPosition = function (axis, start, label, rect) {\n        var value;\n        var interval;\n        if (typeof label === 'number') {\n            if (axis.valueType === 'Numeric' && (axis.minimum || axis.maximum)) {\n                var min = axis.minimum ? axis.minimum : 0;\n                start -= min;\n            }\n            var size = axis.orientation === 'Horizontal' ? rect.width : rect.height;\n            interval = size / (axis.axisLabelSize * axis.increment);\n            value = (axis.isInversed ? -1 : 1) * start * interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        else {\n            interval = this.calculateNumberOfDays(start, axis, true, rect);\n            value = axis.isInversed ? -interval : interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        return value;\n    };\n    /**\n     * calculate width of border element\n     *\n     * @private\n     */\n    AxisHelper.prototype.calculateWidth = function (axis, label, end, rect) {\n        var interval;\n        var value;\n        if (typeof label === 'number') {\n            if (axis.valueType === 'Numeric' && (axis.minimum || axis.maximum)) {\n                var min = axis.minimum ? axis.minimum : 0;\n                end -= min;\n            }\n            var size = axis.orientation === 'Horizontal' ? rect.width : rect.height;\n            interval = size / (axis.axisLabelSize * axis.increment);\n            value = (axis.isInversed ? -1 : 1) * (end + 1) * interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        else {\n            interval = this.calculateNumberOfDays(end, axis, false, rect);\n            value = interval;\n            value = axis.isInversed ? -value : value;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        return value;\n    };\n    AxisHelper.prototype.calculateNumberOfDays = function (date, axis, start, rect) {\n        var oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\n        var oneMinute = 60 * 1000;\n        var firstDate;\n        var secondDate;\n        var labels = axis.labelValue;\n        var position;\n        var interval = (axis.orientation === 'Horizontal' ? rect.width : rect.height) / axis.axisLabelSize;\n        var givenDate = new Date(Number(date));\n        var days = 0;\n        for (var index = 0; index < axis.axisLabelSize; index++) {\n            firstDate = new Date(Number(labels[index]));\n            secondDate = axis.isInversed ? new Date(Number(labels[index - 1])) : new Date(Number(labels[index + 1]));\n            if (index === (axis.isInversed ? 0 : axis.axisLabelSize - 1)) {\n                secondDate = new Date(Number(labels[index]));\n                if (axis.intervalType === 'Hours') {\n                    secondDate = new Date(Number(secondDate.setHours(secondDate.getHours() + 1)));\n                }\n                else if ((axis.intervalType === 'Minutes')) {\n                    secondDate = new Date(Number(secondDate.setMinutes(secondDate.getMinutes() + 1)));\n                }\n                else if ((axis.intervalType === 'Days')) {\n                    secondDate = new Date(Number(secondDate.setDate(secondDate.getDate() + 1)));\n                }\n                else {\n                    var numberOfDays = axis.intervalType === 'Months' ?\n                        new Date(secondDate.getFullYear(), secondDate.getMonth() + 1, 0).getDate() :\n                        secondDate.getFullYear() % 4 === 0 ? 366 : 365;\n                    secondDate = new Date(Number(secondDate.setDate(secondDate.getDate() + numberOfDays)));\n                }\n            }\n            if (Number(firstDate) <= date && Number(secondDate) >= date) {\n                if (axis.intervalType === 'Minutes' || axis.intervalType === 'Hours') {\n                    var totalMinutes = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime()) / (oneMinute)));\n                    var minutesInHours = Math.abs((firstDate.getTime() - givenDate.getTime()) / (oneMinute));\n                    days = (interval / totalMinutes) * minutesInHours;\n                    index = axis.isInversed ? axis.axisLabelSize - 1 - index : index;\n                    position = index * interval + days;\n                    break;\n                }\n                else {\n                    var numberOfDays = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime()) / (oneDay)));\n                    // eslint-disable-next-line\n                    start ? givenDate.getDate() : givenDate.setDate(givenDate.getDate() + 1);\n                    if (numberOfDays !== 0) {\n                        days = (interval / numberOfDays) * (Math.abs((firstDate.getTime() - givenDate.getTime()) / (oneDay)));\n                    }\n                    index = axis.isInversed ? axis.axisLabelSize - 1 - index : index;\n                    position = index * interval + days;\n                    break;\n                }\n            }\n        }\n        return position;\n    };\n    return AxisHelper;\n}());\nexport { AxisHelper };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, extend, merge, Complex, Browser, isNullOrUndefined, createElement } from '@syncfusion/ej2-base';\nimport { Rect, TextBasic, Path, PathAttributes, RectOption, CircleOption, TextOption, CurrentRect, DrawSvgCanvas, createLabelTemplate } from '../utils/helper';\nimport { convertHexToColor, colorNameToHex, formatValue, removeElement } from '../utils/helper';\nimport { CellColor } from '../utils/colorMapping';\nimport { Border, Font, BubbleTooltipData, BubbleSize } from '../model/base';\nimport { Theme } from '../model/theme';\n/**\n * Sets and gets the options to configure the cells of the heatmap.\n */\nvar CellSettings = /** @class */ (function (_super) {\n    __extends(CellSettings, _super);\n    function CellSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], CellSettings.prototype, \"labelTemplate\", void 0);\n    __decorate([\n        Property(true)\n    ], CellSettings.prototype, \"showLabel\", void 0);\n    __decorate([\n        Property('')\n    ], CellSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property(true)\n    ], CellSettings.prototype, \"enableCellHighlighting\", void 0);\n    __decorate([\n        Complex({}, BubbleSize)\n    ], CellSettings.prototype, \"bubbleSize\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], CellSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex(Theme.rectLabelFont, Font)\n    ], CellSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('Rect')\n    ], CellSettings.prototype, \"tileType\", void 0);\n    __decorate([\n        Property('Color')\n    ], CellSettings.prototype, \"bubbleType\", void 0);\n    __decorate([\n        Property(false)\n    ], CellSettings.prototype, \"isInversedBubbleSize\", void 0);\n    return CellSettings;\n}(ChildProperty));\nexport { CellSettings };\nvar Series = /** @class */ (function () {\n    function Series(heatMap) {\n        this.heatMap = heatMap;\n        this.drawSvgCanvas = new DrawSvgCanvas(this.heatMap);\n        this.cellColor = new CellColor(this.heatMap);\n    }\n    /**\n     * To render rect series.\n     *\n     * @returns {void}\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    Series.prototype.renderRectSeries = function () {\n        this.createSeriesGroup();\n        var heatMap = this.heatMap;\n        var isValueInRange = false;\n        heatMap.xLength = heatMap.axisCollections[0].axisLabelSize;\n        heatMap.yLength = heatMap.axisCollections[1].axisLabelSize; // Series Part\n        var tempX = Math.round(heatMap.initialClipRect.x * 100) / 100;\n        var tempY = Math.round(heatMap.initialClipRect.y * 100) / 100;\n        var dataXIndex = 0;\n        var dataYIndex = 0;\n        var cellSetting = heatMap.cellSettings;\n        var tempWidth = Math.round(((heatMap.initialClipRect.width -\n            (cellSetting.border.width / 2)) / heatMap.xLength) * 100) / 100;\n        var tempHeight = Math.round(((heatMap.initialClipRect.height -\n            (cellSetting.border.width / 2)) / heatMap.yLength) * 100) / 100;\n        var tempVal = 0;\n        var tempRectPosition = [];\n        var tempBorder = cellSetting.border;\n        var borderColor;\n        var templateElement = null;\n        var displayText;\n        this.rectPositionCollection = [];\n        this.color = '';\n        this.bubbleColorValue = [];\n        if (heatMap.yAxis.opposedPosition) {\n            tempX = Math.round((heatMap.initialClipRect.x + (parseFloat(tempBorder.width.toString()) / 2)) * 100) / 100;\n        }\n        if (!isNullOrUndefined(this.heatMap.cellSettings.labelTemplate) && this.heatMap.cellSettings.labelTemplate !== '') {\n            if (document.getElementById(this.heatMap.element.id + '_LabelTemplate_Group')) {\n                removeElement(this.heatMap.element.id + '_LabelTemplate_Group');\n            }\n            templateElement = createElement('div', {\n                id: heatMap.element.id + '_LabelTemplate_Group'\n            });\n        }\n        var circleRadius = this.getBubbleRadius(tempWidth, tempHeight);\n        for (var x = 0; x < (heatMap.xLength * heatMap.yLength); x++) {\n            if (heatMap.paletteSettings.colorGradientMode === 'Column' && this.heatMap.paletteSettings.type === 'Gradient') {\n                this.heatMap.dataSourceMinValue = this.heatMap.dataMin[dataYIndex];\n                this.heatMap.dataSourceMaxValue = this.heatMap.dataMax[dataYIndex];\n            }\n            else if (heatMap.paletteSettings.colorGradientMode === 'Row' && this.heatMap.paletteSettings.type === 'Gradient') {\n                this.heatMap.dataSourceMinValue = this.heatMap.dataMin[dataXIndex];\n                this.heatMap.dataSourceMaxValue = this.heatMap.dataMax[dataXIndex];\n            }\n            this.setTextAndColor(dataXIndex, dataYIndex);\n            var rectPosition = new CurrentRect(0, 0, 0, 0, 0, '', 0, 0, 0, 0, true, '', '', true);\n            borderColor = tempBorder.color;\n            if (this.heatMap.bubbleSizeWithColor) {\n                this.updateRectDetails(rectPosition, tempX, tempY, tempWidth, tempHeight, extend('', this.bubbleColorValue, null, true), x, dataYIndex, dataXIndex);\n            }\n            else {\n                this.updateRectDetails(rectPosition, tempX, tempY, tempWidth, tempHeight, this.text, x, dataYIndex, dataXIndex);\n            }\n            if (cellSetting.showLabel) {\n                if (isNullOrUndefined(this.heatMap.cellSettings.labelTemplate) || this.heatMap.cellSettings.labelTemplate === '') {\n                    displayText = this.getFormatedText(this.text, cellSetting.format);\n                }\n                else {\n                    var rectValue = heatMap.dataSourceSettings.bubbleDataMapping && heatMap.dataSourceSettings.isJsonData && heatMap.dataSourceSettings.adaptorType === 'Cell' && !isNullOrUndefined(rectPosition.value[0]) ? rectPosition.value[0].bubbleData : rectPosition.value;\n                    if (typeof rectValue == 'number' && this.cellColor.getColorByValue(rectValue) !== '#ffffff') {\n                        createLabelTemplate(this.heatMap.cellSettings.labelTemplate, heatMap, templateElement, rectPosition, heatMap.axisCollections[0].axisLabels, heatMap.axisCollections[1].axisLabels.slice().reverse(), x);\n                    }\n                }\n            }\n            else {\n                displayText = '';\n            }\n            rectPosition.displayText = displayText;\n            if (!isNullOrUndefined(this.heatMap.cellRender)) {\n                displayText = this.cellRendering(rectPosition, displayText);\n            }\n            if ((heatMap.renderingMode === 'Canvas' && parseFloat(tempBorder.width.toString()) === 0) || (!borderColor &&\n                cellSetting.tileType === 'Bubble' && cellSetting.bubbleType === 'Sector')) {\n                borderColor = this.color;\n            }\n            if (cellSetting.tileType === 'Rect') { // Rectangle/Tile Series\n                this.renderTileCell(rectPosition, tempBorder, x, this.color, borderColor);\n                this.updateLabelVisibleStatus(tempWidth, tempHeight, displayText);\n            }\n            else {\n                if (cellSetting.bubbleType === 'Color') { // Bubble by same size and different color Series\n                    this.renderBubbleCell(rectPosition, tempBorder, x, this.color, borderColor, circleRadius);\n                    this.updateLabelVisibleStatus((circleRadius * 2) - 12, (circleRadius * 2) - 6, displayText); // 6, 12 - circle padding\n                }\n                else if (!isNullOrUndefined(this.text) && (cellSetting.bubbleType === 'Size' || cellSetting.bubbleType === 'SizeAndColor')\n                    && this.text.toString() !== '') { // Bubble by same color and different size Series\n                    if (this.heatMap.paletteSettings.colorGradientMode !== 'Table' && this.heatMap.paletteSettings.type === 'Gradient') {\n                        this.heatMap.minColorValue = !isFinite(this.heatMap.minColorValue) ?\n                            this.heatMap.dataSourceMinValue : this.heatMap.minColorValue;\n                        this.heatMap.maxColorValue = !isFinite(this.heatMap.maxColorValue) ?\n                            this.heatMap.dataSourceMaxValue : this.heatMap.maxColorValue;\n                    }\n                    var tempCircleRadius = this.getRadiusBypercentage(parseFloat(this.text.toString()), heatMap.dataSourceMinValue, heatMap.dataSourceMaxValue, circleRadius);\n                    this.renderBubbleCell(rectPosition, tempBorder, x, this.color, borderColor, tempCircleRadius);\n                    this.updateLabelVisibleStatus((tempCircleRadius * 2) - 12, (tempCircleRadius * 2) - 6, displayText);\n                }\n                else if (cellSetting.bubbleType === 'Sector' && !isNullOrUndefined(this.text) && this.text.toString() !== '') {\n                    this.renderSectorCell(rectPosition, tempBorder, x.toString(), this.color, borderColor, circleRadius, this.text);\n                    this.checkLabelXDisplay = false;\n                    this.checkLabelYDisplay = false;\n                }\n            }\n            tempRectPosition.push(rectPosition);\n            if (heatMap.rangeSelection && heatMap.paletteSettings.type === 'Fixed') {\n                isValueInRange = this.isCellValueInRange(dataXIndex, dataYIndex);\n                rectPosition.visible = isValueInRange;\n            }\n            if (cellSetting.showLabel && this.checkLabelYDisplay && this.checkLabelXDisplay) {\n                var themeCellTextStyle = cellSetting.textStyle;\n                var options = new TextOption(heatMap.element.id + '_HeatMapRectLabels_' + x, new TextBasic(Math.round((tempX + tempWidth / 2) * 100) / 100, Math.round((tempY + tempHeight / 2) * 100) / 100, 'middle', displayText, null, null, 'middle'), themeCellTextStyle, themeCellTextStyle.color || this.getSaturatedColor(this.color));\n                rectPosition.textId = options.id;\n                if (heatMap.rangeSelection && heatMap.paletteSettings.type === 'Fixed') {\n                    options.fill = isValueInRange ? options.fill : this.heatMap.themeStyle.toggledColor;\n                }\n                if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                    options.dy = this.heatMap.cellSettings.tileType === 'Bubble' ? '0.5ex' : '1ex';\n                }\n                this.drawSvgCanvas.createText(options, this.containerTextObject, displayText);\n            }\n            if (tempVal === heatMap.xLength - 1) {\n                tempY = Math.round((tempY + tempHeight) * 100) / 100;\n                tempVal = 0;\n                dataYIndex = 0;\n                if (heatMap.yAxis.opposedPosition) {\n                    tempX = Math.round((heatMap.initialClipRect.x + (parseFloat(tempBorder.width.toString()) / 2)) * 100) / 100;\n                }\n                else {\n                    tempX = Math.round(heatMap.initialClipRect.x * 100) / 100;\n                }\n                this.rectPositionCollection.push(tempRectPosition);\n                tempRectPosition = [];\n                dataXIndex++;\n            }\n            else {\n                tempX = Math.round((tempX + tempWidth) * 100) / 100;\n                tempVal++;\n                dataYIndex++;\n            }\n        }\n        if (!isNullOrUndefined(templateElement)) {\n            document.getElementById(this.heatMap.element.id + '_Secondary_Element').appendChild(templateElement);\n        }\n        if (!heatMap.enableCanvasRendering) {\n            heatMap.svgObject.appendChild(this.containerRectObject);\n            if (cellSetting.showLabel && !(cellSetting.tileType === 'Bubble' && cellSetting.bubbleType === 'Sector')) {\n                heatMap.svgObject.appendChild(this.containerTextObject);\n            }\n        }\n    };\n    /**\n     * To toggle the cell text color based on legend selection.\n     */\n    Series.prototype.isCellValueInRange = function (dataXIndex, dataYIndex) {\n        var isValueInRange = false;\n        for (var i = 0; i < this.heatMap.toggleValue.length; i++) {\n            var maxValue = void 0;\n            var minValue = (i === 0) && !this.heatMap.isColorRange ? this.heatMap.dataSourceMinValue :\n                this.heatMap.isColorRange ?\n                    this.heatMap.toggleValue[i].startValue : this.heatMap.toggleValue[i].value;\n            if (this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'SizeAndColor') {\n                maxValue = (i === this.heatMap.toggleValue.length - 1) ? this.heatMap.maxColorValue :\n                    this.heatMap.toggleValue[i + 1].value - 0.01;\n            }\n            else {\n                maxValue = (i === this.heatMap.toggleValue.length - 1 && !this.heatMap.isColorRange) ?\n                    this.heatMap.dataSourceMaxValue : this.heatMap.isColorRange ?\n                    this.heatMap.toggleValue[i].endValue : this.heatMap.toggleValue[i + 1].value - 0.01;\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var clonedDataSource = this.heatMap.clonedDataSource;\n            var bubbleText = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][1] : '';\n            var text = parseFloat(this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'SizeAndColor' ?\n                bubbleText.toString() : this.text.toString());\n            if (isNaN(text)) {\n                isValueInRange = true;\n            }\n            else if (!isNaN(text) && text >= minValue && text <= maxValue) {\n                if (!this.heatMap.toggleValue[i].visible) {\n                    isValueInRange = false;\n                    break;\n                }\n                else {\n                    isValueInRange = true;\n                    break;\n                }\n            }\n            else if (this.heatMap.isColorRange &&\n                maxValue >= this.heatMap.toggleValue[i].endValue && i === this.heatMap.toggleValue.length - 1) {\n                isValueInRange = true;\n                break;\n            }\n        }\n        return isValueInRange;\n    };\n    /**\n     * To customize the cell.\n     *\n     * @returns {void}\n     * @private\n     */\n    Series.prototype.cellRendering = function (rectPosition, text) {\n        var xAxis = this.heatMap.axisCollections[0];\n        var yAxis = this.heatMap.axisCollections[1];\n        var xLabels = xAxis.tooltipLabels;\n        var yLabels = yAxis.tooltipLabels.slice().reverse();\n        var yLabelValue = yAxis.labelValue.slice().reverse();\n        var argData = {\n            heatmap: this.heatMap,\n            cancel: false,\n            name: 'cellRender',\n            value: rectPosition.value,\n            xLabel: xLabels[rectPosition.xIndex].toString(),\n            yLabel: yLabels[rectPosition.yIndex].toString(),\n            displayText: text,\n            xValue: xAxis.labelValue[rectPosition.xIndex],\n            yValue: yLabelValue[rectPosition.yIndex],\n            cellColor: this.color\n        };\n        this.heatMap.trigger('cellRender', argData);\n        this.color = argData.cellColor;\n        return argData.displayText;\n    };\n    /**\n     * To set color and text details.\n     *\n     * @private\n     */\n    Series.prototype.setTextAndColor = function (dataXIndex, dataYIndex) {\n        this.bubbleColorValue = [];\n        var adaptData = this.heatMap.dataSourceSettings;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var clonedDataSource = this.heatMap.clonedDataSource;\n        if (this.heatMap.bubbleSizeWithColor) {\n            this.text = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][0]) &&\n                clonedDataSource[dataXIndex][dataYIndex][0].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][0] : '';\n            this.color = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ?\n                this.cellColor.getColorByValue(clonedDataSource[dataXIndex][dataYIndex][1])\n                : this.heatMap.isColorValueExist ? this.heatMap.emptyPointColor : this.cellColor.getColorByValue(this.text);\n            var tempBubbleCollection = new BubbleTooltipData(adaptData.isJsonData && adaptData.adaptorType === 'Cell' ? adaptData.bubbleDataMapping.size : null, this.text, 'Size');\n            this.bubbleColorValue.push(tempBubbleCollection);\n            this.bubbleColorValue.push({\n                mappingName: adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                    adaptData.bubbleDataMapping.color : null,\n                bubbleData: !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                    clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][1] : '',\n                valueType: 'Color'\n            });\n        }\n        else {\n            this.text = clonedDataSource[dataXIndex][dataYIndex];\n            this.color = this.cellColor.getColorByValue(this.text);\n        }\n    };\n    /**\n     * To update rect details.\n     *\n     * @private\n     */\n    Series.prototype.createSeriesGroup = function () {\n        if (!this.heatMap.enableCanvasRendering) {\n            this.containerRectObject = this.heatMap.renderer.createGroup({\n                id: this.heatMap.element.id + '_Container_RectGroup'\n            });\n            if (this.heatMap.cellSettings.showLabel &&\n                !(this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'Sector')) {\n                this.containerTextObject = this.heatMap.renderer.createGroup({ id: this.heatMap.element.id + '_Container_TextGroup', transform: 'translate( 0, 0)' });\n            }\n        }\n    };\n    /**\n     * To update rect details.\n     *\n     * @private\n     */\n    Series.prototype.updateRectDetails = function (rectPosition, tempX, tempY, tempWidth, tempHeight, text, x, dataXIndex, dataYIndex) {\n        rectPosition.x = tempX;\n        rectPosition.y = tempY;\n        rectPosition.width = tempWidth;\n        rectPosition.height = tempHeight;\n        rectPosition.value = text;\n        rectPosition.id = this.heatMap.element.id + '_HeatMapRect_' + x;\n        rectPosition.xIndex = dataXIndex;\n        rectPosition.yIndex = dataYIndex;\n    };\n    /**\n     * To Render Tile Cell.\n     *\n     * @private\n     */\n    Series.prototype.renderTileCell = function (rectPosition, tempBorder, x, color, borderColor) {\n        var rect = new RectOption(this.heatMap.element.id + '_HeatMapRect_' + x, color, tempBorder, 1, new Rect(rectPosition.x, rectPosition.y, rectPosition.width, rectPosition.height), borderColor || this.heatMap.themeStyle.cellBorder, tempBorder.radius, tempBorder.radius);\n        this.drawSvgCanvas.drawRectangle(rect, this.containerRectObject, true);\n    };\n    /**\n     * To get bubble radius.\n     *\n     * @private\n     */\n    Series.prototype.getBubbleRadius = function (width, height) {\n        var radius = (width / 2) - 2;\n        if (height / 2 < width / 2) {\n            radius = (height / 2) - 2;\n        }\n        return radius < 0 ? 0 : radius;\n    };\n    /**\n     * To Render Bubble Cell.\n     *\n     * @private\n     */\n    Series.prototype.renderSectorCell = function (bubblePosition, tempBorder, x, color, borderColor, circleRadius, text) {\n        var curve;\n        var startAngle;\n        var endAngle;\n        var cX;\n        var cY;\n        var X1;\n        var Y1;\n        var tempcX;\n        var tempcY;\n        var pathBorderWidth;\n        var centerX = Math.round((bubblePosition.x + (bubblePosition.width / 2)) * 100) / 100;\n        var centerY = Math.round((bubblePosition.y + (bubblePosition.height / 2)) * 100) / 100;\n        var tempColor = color;\n        var sectorContibution = this.getRadiusBypercentage(text, this.heatMap.dataSourceMinValue, this.heatMap.dataSourceMaxValue, 360); // Circle total angle.\n        for (var y = 0; y < 2; y++) {\n            pathBorderWidth = parseFloat(tempBorder.width.toString());\n            if (y === 0) {\n                curve = sectorContibution >= 180 ? 1 : 0;\n                startAngle = -90;\n                if (sectorContibution === 0) {\n                    endAngle = 270; // (360 - 90) for zero position adjustment.\n                }\n                else {\n                    endAngle = (sectorContibution - 90);\n                }\n                cX = Math.round((centerX + circleRadius * Math.cos((sectorContibution - 90) * (Math.PI / 180))) * 100) / 100;\n                cY = Math.round((centerY + circleRadius * Math.sin((sectorContibution - 90) * (Math.PI / 180))) * 100) / 100;\n                X1 = Math.round(centerX * 100) / 100;\n                Y1 = Math.round((centerY - circleRadius) * 100) / 100;\n                if (sectorContibution === 0) {\n                    tempColor = this.heatMap.emptyPointColor;\n                }\n            }\n            else {\n                curve = sectorContibution >= 180 ? 0 : 1;\n                startAngle = endAngle;\n                endAngle = 270; // (360 - 90) for zero position adjustment.\n                tempColor = this.heatMap.emptyPointColor;\n                x = x + '_Unfilled';\n                tempcX = cX;\n                tempcY = cY;\n                cX = X1;\n                cY = Y1;\n                X1 = tempcX;\n                Y1 = tempcY;\n                if (sectorContibution === 0) {\n                    pathBorderWidth = 1;\n                    borderColor = color;\n                }\n            }\n            var path = new Path('', false, centerX, centerY, X1, Y1, cX, cY, startAngle, endAngle, circleRadius, true);\n            var sector = new PathAttributes(this.heatMap.element.id + '_HeatMapRect_' + x, path, tempColor, tempBorder, pathBorderWidth, 1, borderColor);\n            this.calculateShapes(sector, path, sectorContibution, curve);\n            this.drawSvgCanvas.drawPath(sector, path, this.containerRectObject);\n            if (sectorContibution === 360) {\n                break;\n            }\n        }\n    };\n    /**\n     * To Render sector Cell.\n     *\n     * @private\n     */\n    Series.prototype.calculateShapes = function (options, path, sectorContibution, curve) {\n        var pathString;\n        switch (sectorContibution) {\n            case 360:\n            case 0:\n                if (sectorContibution === 0 && path.start === path.end) {\n                    pathString = 'M' + ' ' + options.x + ' ' + options.y + ' ' + 'L' + ' ' + path.x + ' ' + (path.y - path.radius);\n                }\n                else {\n                    pathString = !this.heatMap.enableCanvasRendering ? 'M' + ' ' + options.x + ' ' + options.y + ' ' : '';\n                    pathString = pathString + 'm' + ' ' + (-path.radius) + ' ' + '0' + ' ' +\n                        'a' + ' ' + path.radius + ' ' + path.radius + ' ' + '0' + ' ' + '1' + ' ' + '0' +\n                        ' ' + (path.radius * 2) + ' ' + '0' + ' ' + 'a' + ' ' + path.radius +\n                        ' ' + path.radius + ' ' + '0' + ' ' + '1' + ' ' + '0' +\n                        ' ' + (-(path.radius * 2)) + ' ' + '0' + ' ';\n                }\n                merge(options, { 'd': pathString });\n                break;\n            default:\n                pathString = 'M' + ' ' + options.x + ' ' + options.y + ' ' + 'L' + ' ' + path.x1 + ' ' + path.y1 + ' ' +\n                    'A' + ' ' + path.radius + ' ' + path.radius + ' ' + '0' + ' ' + curve + ' ' + '1' + ' ' +\n                    path.cx + ' ' + path.cy + ' ' + 'Z';\n                merge(options, { 'd': pathString });\n                break;\n        }\n    };\n    /**\n     * To Render Bubble Cell.\n     *\n     * @private\n     */\n    Series.prototype.renderBubbleCell = function (bubblePosition, tempBorder, x, color, borderColor, circleRadius) {\n        var circle = new CircleOption(this.heatMap.element.id + '_HeatMapRect_' + x, color, tempBorder, 1, borderColor || this.heatMap.themeStyle.cellBorder, Math.round((bubblePosition.x + (bubblePosition.width / 2)) * 100) / 100, Math.round((bubblePosition.y + (bubblePosition.height / 2)) * 100) / 100, circleRadius);\n        this.drawSvgCanvas.drawCircle(circle, this.containerRectObject);\n    };\n    /**\n     * To find whether the X,Y Label need to display or not.\n     *\n     * @private\n     */\n    Series.prototype.updateLabelVisibleStatus = function (tempWidth, tempHeight, displayText) {\n        if (this.heatMap.cellSettings.showLabel && (isNullOrUndefined(this.heatMap.cellSettings.labelTemplate) || this.heatMap.cellSettings.labelTemplate === '')) {\n            this.checkLabelYDisplay = tempHeight > parseInt(this.heatMap.cellSettings.textStyle.size, 10) ? true : false;\n            this.checkLabelXDisplay = tempWidth > (displayText.length *\n                (parseInt(this.heatMap.cellSettings.textStyle.size, 10) / 2)) ? true : false;\n        }\n    };\n    /**\n     * To find percentage value.\n     *\n     * @private\n     */\n    Series.prototype.getRadiusBypercentage = function (text, min, max, radius) {\n        var minimum = parseInt(this.heatMap.cellSettings.bubbleSize.minimum, 10);\n        var maximum = parseInt(this.heatMap.cellSettings.bubbleSize.maximum, 10);\n        if (minimum < 0 || minimum > 100 || isNaN(minimum)) {\n            minimum = 0;\n        }\n        if (maximum < 0 || maximum > 100 || isNaN(maximum)) {\n            maximum = 100;\n        }\n        var valueInPrecentage = ((text - min) /\n            (max - min)) * 100;\n        valueInPrecentage = isNaN(valueInPrecentage) ? 100 : valueInPrecentage;\n        if ((this.heatMap.bubbleSizeWithColor ||\n            (this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'Size'))) {\n            if (this.heatMap.cellSettings.isInversedBubbleSize) {\n                valueInPrecentage = 100 - valueInPrecentage;\n            }\n            valueInPrecentage = ((valueInPrecentage * (maximum - minimum)) / 100) + minimum;\n        }\n        radius = radius * (valueInPrecentage / 100);\n        return (Math.round(radius * 100) / 100) < 0 ? 0 : (Math.round(radius * 100) / 100);\n    };\n    /**\n     * To find saturated color for datalabel.\n     *\n     * @returns {string}\n     * @private\n     */\n    Series.prototype.getSaturatedColor = function (color) {\n        var saturatedColor = color;\n        saturatedColor = (saturatedColor === 'transparent') ? window.getComputedStyle(document.body, null).backgroundColor : saturatedColor;\n        var rgbValue = convertHexToColor(colorNameToHex(saturatedColor));\n        var contrast = Math.round((rgbValue.R * 299 + rgbValue.G * 587 + rgbValue.B * 114) / 1000);\n        return contrast >= 128 ? 'black' : 'white';\n    };\n    /**\n     * To highlight the mouse hovered rect cell.\n     *\n     * @returns {void}\n     * @private\n     */\n    Series.prototype.highlightSvgRect = function (tempID) {\n        if (tempID.indexOf('Celltooltip') === -1) {\n            if (tempID.indexOf('_HeatMapRect') !== -1) {\n                if (tempID.indexOf('_HeatMapRectLabels_') !== -1) {\n                    var tempIndex = tempID.indexOf('_HeatMapRectLabels_') + 19;\n                    tempID = this.heatMap.element.id + '_HeatMapRect_' + tempID.slice(tempIndex);\n                }\n                var element = document.getElementById(tempID);\n                if (this.heatMap.tempRectHoverClass !== tempID) {\n                    if (this.heatMap.cellSettings.enableCellHighlighting) {\n                        var oldElement = void 0;\n                        if (this.heatMap.tempRectHoverClass) {\n                            oldElement = document.getElementById(this.heatMap.tempRectHoverClass);\n                        }\n                        if (oldElement && !this.heatMap.rectSelected) {\n                            oldElement.setAttribute('opacity', '1');\n                        }\n                        if (element && !this.heatMap.rectSelected) {\n                            element.setAttribute('opacity', '0.65');\n                        }\n                    }\n                    this.heatMap.tempRectHoverClass = tempID;\n                }\n            }\n            else {\n                if (this.heatMap.cellSettings.enableCellHighlighting) {\n                    var oldElement = void 0;\n                    if (this.heatMap.tempRectHoverClass) {\n                        oldElement = document.getElementById(this.heatMap.tempRectHoverClass);\n                    }\n                    if (oldElement && !this.heatMap.rectSelected) {\n                        oldElement.setAttribute('opacity', '1');\n                        this.heatMap.tempRectHoverClass = '';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To get the value depends to format.\n     *\n     * @returns {string}\n     * @private\n     */\n    Series.prototype.getFormatedText = function (val, getFormat) {\n        var format = getFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = this.heatMap.intl.getNumberFormat({\n            format: isCustom ? '' : format\n        });\n        var value = '';\n        if (val.toString() !== '') {\n            value = formatValue(isCustom, format, val, this.format);\n        }\n        return value;\n    };\n    /**\n     * To get mouse hovered cell details.\n     *\n     * @returns {CurrentRect}\n     * @private\n     */\n    Series.prototype.getCurrentRect = function (x, y) {\n        var currentRect;\n        var firstRectDetails = [];\n        firstRectDetails.push(this.heatMap.heatMapSeries.rectPositionCollection[0][0]);\n        var rectX = Math.ceil((x - firstRectDetails[0].x) / firstRectDetails[0].width) <\n            this.heatMap.axisCollections[0].axisLabelSize ?\n            Math.ceil((x - firstRectDetails[0].x) / firstRectDetails[0].width) :\n            this.heatMap.axisCollections[0].axisLabelSize;\n        var rectY = Math.floor(((y - firstRectDetails[0].y) / firstRectDetails[0].height)) <\n            this.heatMap.axisCollections[1].axisLabelSize ?\n            Math.floor(((y - firstRectDetails[0].y) / firstRectDetails[0].height)) :\n            this.heatMap.axisCollections[1].axisLabelSize - 1;\n        rectX = rectX === 0 ? 1 : rectX;\n        // eslint-disable-next-line prefer-const\n        currentRect = this.heatMap.heatMapSeries.rectPositionCollection[rectY][rectX - 1];\n        this.hoverXAxisLabel = this.heatMap.axisCollections[0].tooltipLabels[rectX - 1];\n        this.hoverXAxisValue = this.heatMap.axisCollections[0].labelValue[rectX - 1];\n        this.hoverYAxisLabel = this.heatMap.axisCollections[1].tooltipLabels[(this.heatMap.axisCollections[1].tooltipLabels.length - 1) - rectY];\n        this.hoverYAxisValue = this.heatMap.axisCollections[1].labelValue[(this.heatMap.axisCollections[1].labelValue.length - 1) - rectY];\n        return currentRect;\n    };\n    return Series;\n}());\nexport { Series };\n","/**\n * HeatMap tool tip file\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, Property, Complex, ChildProperty, isNullOrUndefined, select } from '@syncfusion/ej2-base';\nimport { Tooltip as tool } from '@syncfusion/ej2-svg-base';\nimport { TooltipBorder, Font } from '../model/base';\nimport { Theme } from '../model/theme';\n/**\n * Sets and gets the options to customize the tooltip in heatmap.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property('')\n    ], TooltipSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Complex({}, TooltipBorder)\n    ], TooltipSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex(Theme.tooltipFont, Font)\n    ], TooltipSettings.prototype, \"textStyle\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n/**\n *\n * The `Tooltip` module is used to render the tooltip for heatmap series.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(heatMap) {\n        /* private */\n        this.isFirst = true;\n        /* private */\n        this.isFadeout = false;\n        this.heatMap = heatMap;\n    }\n    /**\n     * Get module name\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'Tooltip';\n    };\n    /**\n     * To show/hide Tooltip.\n     *\n     * @private\n     */\n    Tooltip.prototype.showHideTooltip = function (isShow, isFadeout) {\n        var ele = document.getElementById(this.heatMap.element.id + 'Celltooltipcontainer');\n        if (!isShow) {\n            if (ele && ele.style.visibility !== 'hidden') {\n                if (this.tooltipObject && isFadeout && this.heatMap.isRectBoundary) {\n                    this.tooltipObject.fadeOut();\n                }\n                else {\n                    if (this.tooltipObject && this.tooltipObject.element) {\n                        var tooltipElement = this.tooltipObject.element.firstChild;\n                        tooltipElement.setAttribute('opacity', '0');\n                    }\n                }\n                ele.style.visibility = 'hidden';\n            }\n            this.isFadeout = true;\n        }\n        else {\n            ele.style.visibility = 'visible';\n        }\n    };\n    /**\n     * To destroy the Tooltip.\n     *\n     * @returns {void}\n     * @private\n     */\n    Tooltip.prototype.destroy = function () {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * To add Tooltip to the rect cell.\n     *\n     * @returns {void}\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function (currentRect, x, y, tempTooltipText) {\n        var offset = null;\n        var element = select('#' + this.heatMap.element.id + 'Celltooltipcontainer');\n        if (this.heatMap.cellSettings.showLabel && this.heatMap.heatMapSeries.checkLabelXDisplay &&\n            this.heatMap.heatMapSeries.checkLabelYDisplay) {\n            offset = parseInt(this.heatMap.cellSettings.textStyle.size, 10) / 2;\n        }\n        if (this.heatMap.theme === 'Tailwind') {\n            this.heatMap.setProperties({ tooltipSettings: { textStyle: { size: '12px', fontFamily: 'Inter', fontWeight: '500' } } }, true);\n        }\n        if (this.heatMap.theme === 'TailwindDark') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#F9FAFB', textStyle: { size: '12px', fontFamily: 'Inter', fontWeight: '500', color: '#1F2937' } } }, true);\n        }\n        if (this.heatMap.theme === 'Bootstrap5') {\n            this.heatMap.setProperties({ tooltipSettings: { textStyle: { size: '14px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"', fontWeight: '500' } } }, true);\n        }\n        if (this.heatMap.theme === 'Bootstrap5Dark') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#E9ECEF', textStyle: { size: '14px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"', fontWeight: '500', color: '#212529' } } }, true);\n        }\n        if (this.heatMap.theme === 'Fluent') {\n            this.heatMap.setProperties({ tooltipSettings: { textStyle: { size: '12px', fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif', fontWeight: '500' } } }, true);\n        }\n        if (this.heatMap.theme === 'FluentDark') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#252423', textStyle: { size: '12px', fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif', fontWeight: '500', color: '#F3F2F1' } } }, true);\n        }\n        if (this.heatMap.theme === 'Material3') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#313033', textStyle: { size: '14px', fontFamily: 'Roboto', fontWeight: '400', color: '#F4EFF4' } } }, true);\n        }\n        if (this.heatMap.theme === 'Material3Dark') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#E6E1E5', textStyle: { size: '14px', fontFamily: 'Roboto', fontWeight: '400', color: '#313033' } } }, true);\n        }\n        this.tooltipObject = new tool({\n            opacity: (this.heatMap.theme === 'Tailwind' || this.heatMap.theme === 'TailwindDark' || this.heatMap.theme === 'Bootstrap5' || this.heatMap.theme === 'Bootstrap5Dark' || this.heatMap.theme === 'Fluent' || this.heatMap.theme === 'FluentDark') ? 1 : 0.75,\n            enableAnimation: false,\n            offset: offset,\n            location: { x: x, y: y },\n            availableSize: this.heatMap.availableSize,\n            data: {\n                xValue: this.heatMap.heatMapSeries.hoverXAxisValue,\n                yValue: this.heatMap.heatMapSeries.hoverYAxisValue,\n                value: currentRect.value,\n                xLabel: this.heatMap.heatMapSeries.hoverXAxisLabel ?\n                    this.heatMap.heatMapSeries.hoverXAxisLabel.toString() : null,\n                yLabel: this.heatMap.heatMapSeries.hoverYAxisLabel ?\n                    this.heatMap.heatMapSeries.hoverYAxisLabel.toString() : null\n            },\n            theme: this.heatMap.theme,\n            content: tempTooltipText,\n            fill: this.heatMap.tooltipSettings.fill,\n            template: this.heatMap.tooltipSettings.template === '' ? null : this.heatMap.tooltipSettings.template,\n            border: {\n                width: this.heatMap.tooltipSettings.border.width,\n                color: this.heatMap.tooltipSettings.border.color\n            },\n            textStyle: {\n                size: this.heatMap.tooltipSettings.textStyle.size,\n                fontWeight: this.heatMap.tooltipSettings.textStyle.fontWeight.toLowerCase(),\n                color: this.heatMap.tooltipSettings.textStyle.color,\n                fontStyle: this.heatMap.tooltipSettings.textStyle.fontStyle.toLowerCase(),\n                fontFamily: this.heatMap.tooltipSettings.textStyle.fontFamily\n            },\n            areaBounds: {\n                height: this.heatMap.initialClipRect.height + this.heatMap.initialClipRect.y,\n                width: this.heatMap.initialClipRect.width, x: this.heatMap.initialClipRect.x\n            }\n        }, element);\n    };\n    /**\n     * To create div container for tooltip.\n     *\n     * @returns {void}\n     * @private\n     */\n    Tooltip.prototype.createTooltipDiv = function (heatMap) {\n        var position = 'absolute';\n        var top = heatMap.enableCanvasRendering && heatMap.allowSelection ? heatMap.availableSize.height : 0;\n        var element2 = createElement('div', {\n            id: this.heatMap.element.id + 'Celltooltipcontainer'\n        });\n        element2.style.cssText = 'position:' + position + '; z-index: 3;top:-' + top + 'px';\n        var tooltipElement = createElement('div', {\n            id: this.heatMap.element.id + 'Celltooltipparent'\n        });\n        tooltipElement.style.position = 'relative';\n        tooltipElement.appendChild(element2);\n        this.heatMap.element.appendChild(tooltipElement);\n    };\n    /**\n     * To get default tooltip content.\n     *\n     * @private\n     */\n    Tooltip.prototype.getTooltipContent = function (currentRect, hetmapSeries) {\n        var value;\n        var content;\n        var heatMap = this.heatMap;\n        var adaptData = this.heatMap.dataSourceSettings;\n        if (heatMap.bubbleSizeWithColor) {\n            var xAxis = heatMap.xAxis.title && heatMap.xAxis.title.text !== '' ? heatMap.xAxis.title.text : 'X-Axis';\n            var yAxis = heatMap.yAxis.title && heatMap.yAxis.title.text !== '' ? heatMap.yAxis.title.text : 'Y-Axis';\n            var value1 = adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                adaptData.bubbleDataMapping.size : 'Value 1';\n            var value2 = adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                adaptData.bubbleDataMapping.color : 'Value 2';\n            value = hetmapSeries.getFormatedText(currentRect.value[0].bubbleData, this.heatMap.cellSettings.format);\n            content = [xAxis + ' : ' + hetmapSeries.hoverXAxisLabel + '<br/>'\n                    + yAxis + ' : ' + hetmapSeries.hoverYAxisLabel + '<br/>'\n                    + value1 + ' : ' + value + '<br/>'\n                    + value2 + ' : '\n                    + hetmapSeries.getFormatedText(currentRect.value[1].bubbleData, this.heatMap.cellSettings.format)];\n        }\n        else {\n            value = currentRect.value;\n            content = [hetmapSeries.hoverXAxisLabel + ' | ' + hetmapSeries.hoverYAxisLabel + ' : ' +\n                    hetmapSeries.getFormatedText(value, this.heatMap.cellSettings.format)];\n        }\n        return content;\n    };\n    /**\n     * To render tooltip.\n     *\n     * @private\n     */\n    Tooltip.prototype.renderTooltip = function (currentRect) {\n        var _this = this;\n        var hetmapSeries = this.heatMap.heatMapSeries;\n        var tempTooltipText = [''];\n        var showTooltip = this.heatMap.bubbleSizeWithColor ?\n            !isNullOrUndefined(currentRect.value) && !isNullOrUndefined(currentRect.value[0].bubbleData)\n                && currentRect.value[0].bubbleData.toString() !== '' ? true : false\n            : isNullOrUndefined(currentRect.value) || (!isNullOrUndefined(currentRect.value) &&\n                currentRect.value.toString() === '') ? false : true;\n        if (!showTooltip) {\n            this.showHideTooltip(false, false);\n            if (!currentRect.visible) {\n                this.showHideTooltip(false, false);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.heatMap.tooltipRender)) {\n                // this.tooltipObject.header = '';\n                // this.tooltipObject.content = this.getTemplateText(\n                //     currentRect, this.heatMap.tooltipTemplate, hetmapSeries.hoverXAxisLabel,\n                //     hetmapSeries.hoverYAxisLabel);\n                var content = this.getTooltipContent(currentRect, hetmapSeries);\n                var argData = {\n                    heatmap: this.heatMap,\n                    cancel: false,\n                    name: 'tooltipRender',\n                    value: currentRect.value,\n                    xValue: this.heatMap.heatMapSeries.hoverXAxisValue,\n                    yValue: this.heatMap.heatMapSeries.hoverYAxisValue,\n                    xLabel: this.heatMap.heatMapSeries.hoverXAxisLabel ?\n                        this.heatMap.heatMapSeries.hoverXAxisLabel.toString() : null,\n                    yLabel: this.heatMap.heatMapSeries.hoverYAxisLabel ?\n                        this.heatMap.heatMapSeries.hoverYAxisLabel.toString() : null,\n                    content: content\n                };\n                this.heatMap.trigger('tooltipRender', argData, function (observedArgs) {\n                    if (!observedArgs.cancel) {\n                        tempTooltipText = observedArgs.content;\n                        _this.tooltipCallback(currentRect, tempTooltipText);\n                    }\n                    else {\n                        if (_this.tooltipObject) {\n                            _this.showHideTooltip(false);\n                        }\n                    }\n                });\n            }\n            else {\n                //  this.tooltipObject.header = hetmapSeries.hoverYAxisLabel.toString();\n                tempTooltipText = this.getTooltipContent(currentRect, hetmapSeries);\n                this.tooltipCallback(currentRect, tempTooltipText);\n            }\n        }\n    };\n    /**\n     * To render tooltip.\n     */\n    Tooltip.prototype.tooltipCallback = function (currentRect, tempTooltipText) {\n        if (!this.tooltipObject) {\n            this.createTooltip(currentRect, currentRect.x + (currentRect.width / 2), currentRect.y + (currentRect.height / 2), tempTooltipText);\n        }\n        else {\n            this.tooltipObject.content = tempTooltipText;\n            this.tooltipObject.data = {\n                xValue: this.heatMap.heatMapSeries.hoverXAxisValue,\n                yValue: this.heatMap.heatMapSeries.hoverYAxisValue,\n                xLabel: this.heatMap.heatMapSeries.hoverXAxisLabel ?\n                    this.heatMap.heatMapSeries.hoverXAxisLabel.toString() : null,\n                yLabel: this.heatMap.heatMapSeries.hoverYAxisLabel ?\n                    this.heatMap.heatMapSeries.hoverYAxisLabel.toString() : null,\n                value: currentRect.value\n            };\n        }\n        this.showHideTooltip(true);\n        this.tooltipObject.enableAnimation = (this.isFirst || this.isFadeout) ? false : true;\n        this.isFirst = (this.isFirst) ? false : this.isFirst;\n        this.isFadeout = (this.isFadeout) ? false : this.isFadeout;\n        this.tooltipObject.location.x = currentRect.x + (currentRect.width / 2);\n        this.tooltipObject.location.y = currentRect.y + (currentRect.height / 2);\n        if (!currentRect.visible) {\n            this.showHideTooltip(false, false);\n        }\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar TwoDimensional = /** @class */ (function () {\n    function TwoDimensional(heatMap) {\n        this.heatMap = heatMap;\n    }\n    /**\n     * To reconstruct proper two dimensional dataSource depends on min and max values.\n     *\n     * @private\n     */\n    TwoDimensional.prototype.processDataSource = function (dataSource) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempCloneData = extend([], dataSource, null, true);\n        this.heatMap.clonedDataSource = [];\n        this.completeDataSource = [];\n        var axis = this.heatMap.axisCollections;\n        var dataLength = axis[0].maxLength + 1;\n        var labelLength = axis[0].axisLabelSize + (axis[0].min > 0 ? axis[0].min : 0);\n        var xLength = dataLength > labelLength ? dataLength : labelLength;\n        var minVal;\n        var maxVal;\n        dataLength = axis[1].maxLength + 1;\n        labelLength = axis[1].axisLabelSize + (axis[1].min > 0 ? axis[1].min : 0);\n        var yLength = dataLength > labelLength ? dataLength : labelLength;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempVariable;\n        var cloneDataIndex = 0;\n        var minMaxDatasource = [];\n        this.tempSizeArray = [];\n        this.tempColorArray = [];\n        this.heatMap.minColorValue = null;\n        this.heatMap.maxColorValue = null;\n        this.heatMap.dataMax = [];\n        this.heatMap.dataMin = [];\n        if (this.heatMap.paletteSettings.colorGradientMode === 'Column' && xLength < yLength) {\n            xLength = yLength;\n        }\n        for (var z = axis[1].valueType === 'Category' ? axis[1].min : 0; z < (this.heatMap.paletteSettings.colorGradientMode === 'Column' ? xLength : yLength); z++) {\n            var tempIndex = axis[0].valueType === 'Category' ? axis[0].min : 0;\n            this.completeDataSource.push([]);\n            while (tempIndex < xLength) {\n                if (tempIndex >= axis[0].min && tempIndex <= axis[0].max) {\n                    this.processDataArray(tempCloneData, tempIndex, z, cloneDataIndex);\n                }\n                tempIndex++;\n            }\n            if (this.heatMap.paletteSettings.colorGradientMode === 'Column' && this.heatMap.paletteSettings.type === 'Gradient') {\n                tempVariable = extend([], tempCloneData[cloneDataIndex], null, true);\n                for (var i = 0; i < tempVariable.length; i++) {\n                    if (typeof (tempVariable[i]) === 'object' && (tempVariable[i]) !== null || undefined || '') {\n                        tempVariable[i] = tempVariable[i][0];\n                    }\n                }\n            }\n            else {\n                tempVariable = extend([], this.completeDataSource[cloneDataIndex], null, true);\n            }\n            var minMaxVal = this.getMinMaxValue(minVal, maxVal, tempVariable);\n            if ((this.heatMap.paletteSettings.colorGradientMode === 'Column' ||\n                this.heatMap.paletteSettings.colorGradientMode === 'Row') && this.heatMap.paletteSettings.type === 'Gradient') {\n                this.heatMap.dataMax[z] = minMaxVal[1];\n                this.heatMap.dataMin[z] = minMaxVal[0];\n            }\n            minVal = minMaxVal[0];\n            maxVal = minMaxVal[1];\n            if (this.heatMap.xAxis.isInversed) {\n                this.completeDataSource[cloneDataIndex] = this.completeDataSource[cloneDataIndex].reverse();\n            }\n            if (z >= this.heatMap.axisCollections[1].min && z <= this.heatMap.axisCollections[1].max) {\n                minMaxDatasource.push(this.completeDataSource[cloneDataIndex]);\n            }\n            cloneDataIndex++;\n        }\n        if (this.heatMap.paletteSettings.colorGradientMode === 'Row' && !this.heatMap.yAxis.isInversed &&\n            this.heatMap.paletteSettings.type === 'Gradient') {\n            this.heatMap.dataMax = this.heatMap.dataMax.reverse();\n            this.heatMap.dataMin = this.heatMap.dataMin.reverse();\n        }\n        if (this.heatMap.paletteSettings.colorGradientMode === 'Column' && this.heatMap.xAxis.isInversed &&\n            this.heatMap.paletteSettings.type === 'Gradient') {\n            this.heatMap.dataMax = this.heatMap.dataMax.reverse();\n            this.heatMap.dataMin = this.heatMap.dataMin.reverse();\n        }\n        if (!this.heatMap.yAxis.isInversed) {\n            this.completeDataSource.reverse();\n            minMaxDatasource.reverse();\n        }\n        this.heatMap.clonedDataSource = minMaxDatasource;\n        this.heatMap.dataSourceMinValue = isNullOrUndefined(minVal) ? 0 : parseFloat(minVal.toString());\n        this.heatMap.dataSourceMaxValue = isNullOrUndefined(maxVal) ? 0 : parseFloat(maxVal.toString());\n        this.heatMap.isColorValueExist = isNullOrUndefined(this.heatMap.minColorValue) ? false : true;\n        this.heatMap.minColorValue = isNullOrUndefined(this.heatMap.minColorValue) ?\n            this.heatMap.dataSourceMinValue : parseFloat(this.heatMap.minColorValue.toString());\n        this.heatMap.maxColorValue = isNullOrUndefined(this.heatMap.maxColorValue) ?\n            this.heatMap.dataSourceMaxValue : parseFloat(this.heatMap.maxColorValue.toString());\n    };\n    /**\n     * To process and create a proper data array.\n     *\n     *  @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    TwoDimensional.prototype.processDataArray = function (tempCloneData, tempIndex, z, cloneDataIndex) {\n        if (this.heatMap.bubbleSizeWithColor) {\n            if (tempCloneData[tempIndex] && !isNullOrUndefined(tempCloneData[tempIndex][z])\n                && typeof (tempCloneData[tempIndex][z]) === 'object') {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var internalArray = tempCloneData[tempIndex][z];\n                for (var tempx = 0; tempx < internalArray.length; tempx++) {\n                    if (isNullOrUndefined(internalArray[tempx]) || isNaN(internalArray[tempx])) {\n                        internalArray[tempx] = '';\n                    }\n                    if (tempx === 0) {\n                        this.tempSizeArray.push(internalArray[tempx]);\n                    }\n                    else if (tempx === 1) {\n                        this.tempColorArray.push(internalArray[tempx]);\n                        break;\n                    }\n                }\n                this.completeDataSource[cloneDataIndex].push(internalArray);\n            }\n            else {\n                if (!isNullOrUndefined(tempCloneData[tempIndex]) && (tempCloneData[tempIndex][z] ||\n                    (tempCloneData[tempIndex][z] === 0 &&\n                        tempCloneData[tempIndex][z].toString() !== ''))) {\n                    this.completeDataSource[cloneDataIndex].push([tempCloneData[tempIndex][z]]);\n                    this.tempSizeArray.push(tempCloneData[tempIndex][z]);\n                }\n                else {\n                    this.completeDataSource[cloneDataIndex].push('');\n                }\n            }\n        }\n        else {\n            if (tempCloneData[tempIndex] && (tempCloneData[tempIndex][z] ||\n                (tempCloneData[tempIndex][z] === 0 &&\n                    tempCloneData[tempIndex][z].toString() !== ''))) {\n                if (typeof (tempCloneData[tempIndex][z]) === 'object') {\n                    if (tempCloneData[tempIndex][z].length > 0 &&\n                        !isNullOrUndefined(tempCloneData[tempIndex][z][0])) {\n                        this.completeDataSource[cloneDataIndex].push(tempCloneData[tempIndex][z][0]);\n                    }\n                    else {\n                        this.completeDataSource[cloneDataIndex].push('');\n                    }\n                }\n                else {\n                    this.completeDataSource[cloneDataIndex].push(tempCloneData[tempIndex][z]);\n                }\n            }\n            else {\n                this.completeDataSource[cloneDataIndex].push('');\n            }\n        }\n    };\n    /**\n     * To get minimum and maximum value\n     *\n     *  @private\n     */\n    TwoDimensional.prototype.getMinMaxValue = function (minVal, maxVal, tempVariable) {\n        var minMaxValue = [];\n        if (this.heatMap.bubbleSizeWithColor) {\n            if (this.heatMap.paletteSettings.colorGradientMode === 'Column' && this.heatMap.paletteSettings.type === 'Gradient') {\n                this.tempSizeArray = tempVariable;\n            }\n            minMaxValue.push(this.getMinValue(minVal, this.tempSizeArray));\n            minMaxValue.push(this.getMaxValue(maxVal, this.tempSizeArray));\n            this.heatMap.minColorValue = this.getMinValue(this.heatMap.minColorValue, this.tempColorArray);\n            this.heatMap.maxColorValue = this.getMaxValue(this.heatMap.maxColorValue, this.tempColorArray);\n        }\n        else {\n            minMaxValue.push(this.getMinValue(minVal, tempVariable));\n            minMaxValue.push(this.getMaxValue(maxVal, tempVariable));\n        }\n        return minMaxValue;\n    };\n    /**\n     * To get minimum value\n     *\n     *  @private\n     */\n    TwoDimensional.prototype.getMinValue = function (minVal, tempVariable) {\n        if (isNullOrUndefined(minVal)) {\n            minVal = this.performSort(tempVariable);\n        }\n        else if (this.performSort(tempVariable) < minVal) {\n            minVal = this.performSort(tempVariable);\n        }\n        else if ((this.heatMap.paletteSettings.colorGradientMode === 'Row' ||\n            this.heatMap.paletteSettings.colorGradientMode === 'Column') && this.heatMap.paletteSettings.type === 'Gradient') {\n            minVal = this.performSort(tempVariable);\n        }\n        return !isNullOrUndefined(minVal) ? parseFloat(minVal.toString()) : minVal;\n    };\n    /**\n     * To get maximum value\n     *\n     *  @private\n     */\n    TwoDimensional.prototype.getMaxValue = function (maxVal, tempVariable) {\n        if (isNullOrUndefined(maxVal) && tempVariable.length > 0) {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        else if (Math.max.apply(Math, tempVariable) > maxVal) {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        else if ((this.heatMap.paletteSettings.colorGradientMode === 'Row' ||\n            this.heatMap.paletteSettings.colorGradientMode === 'Column') && this.heatMap.paletteSettings.type === 'Gradient') {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        return !isNullOrUndefined(maxVal) ? parseFloat(maxVal.toString()) : maxVal;\n    };\n    /**\n     * To perform sort operation.\n     *\n     *  @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    TwoDimensional.prototype.performSort = function (tempVariable) {\n        return tempVariable.sort(function (a, b) { return a - b; }).filter(this.checkmin)[0];\n    };\n    /**\n     * To get minimum value\n     *\n     *  @private\n     */\n    TwoDimensional.prototype.checkmin = function (val) {\n        return !isNullOrUndefined(val) && val.toString() !== '';\n    };\n    return TwoDimensional;\n}());\nexport { TwoDimensional };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Browser, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DrawSvgCanvas, TextOption, TextBasic, PathOption, Line, LineOption, GradientPointer, textTrim } from '../utils/helper';\nimport { Size, measureText, getTitle, getElement, CanvasTooltip, formatValue, LegendRange, ToggleVisibility, sum } from '../utils/helper';\nimport { Font, Title } from '../model/base';\nimport { Rect, RectOption, Gradient, GradientColor, showTooltip, stringToNumber, CurrentLegendRect, removeElement } from '../utils/helper';\nimport { Theme } from '../model/theme';\nimport { Tooltip as tool } from '@syncfusion/ej2-svg-base';\n/**\n * Gets and sets the options to customize the legend in the heatmap.\n */\nvar LegendSettings = /** @class */ (function (_super) {\n    __extends(LegendSettings, _super);\n    function LegendSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ text: '', textStyle: Theme.titleFont }, Title)\n    ], LegendSettings.prototype, \"title\", void 0);\n    __decorate([\n        Property('Right')\n    ], LegendSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Center')\n    ], LegendSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"showLabel\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"showGradientPointer\", void 0);\n    __decorate([\n        Property(false)\n    ], LegendSettings.prototype, \"enableSmartLegend\", void 0);\n    __decorate([\n        Property('All')\n    ], LegendSettings.prototype, \"labelDisplayType\", void 0);\n    __decorate([\n        Complex(Theme.legendLabelFont, Font)\n    ], LegendSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"toggleVisibility\", void 0);\n    return LegendSettings;\n}(ChildProperty));\nexport { LegendSettings };\n/**\n *\n * The `Legend` module is used to render legend for the heatmap.\n */\nvar Legend = /** @class */ (function () {\n    function Legend(heatMap) {\n        this.maxLegendLabelSize = new Size(0, 0);\n        this.gradientScaleSize = 10;\n        this.segmentCollections = [];\n        this.segmentCollectionsLabels = [];\n        this.textWrapCollections = [];\n        this.labelCollections = [];\n        this.labelCollection = [];\n        this.legendSize = 10;\n        this.previousOptions = new GradientPointer(0, 0, 0, 0, 0, 0);\n        this.listPerPage = 0;\n        this.numberOfPages = 1;\n        this.listWidth = 0;\n        this.fillRect = new Rect(0, 0, 0, 0);\n        this.legendRect = new Rect(0, 0, 0, 0);\n        this.currentPage = 1;\n        this.lastList = [];\n        this.navigationCollections = [];\n        this.pagingRect = new Rect(0, 0, 0, 0);\n        this.listInterval = 10; // padding between two lists\n        this.legendLabelTooltip = [];\n        this.legendTitleTooltip = [];\n        this.labelXCollections = [];\n        this.labelYCollections = [];\n        this.legendXCollections = [];\n        this.legendYCollections = [];\n        /** @private */\n        this.legendRectPositionCollection = [];\n        /** @private */\n        this.legendRange = [];\n        /** @private */\n        this.legendTextRange = [];\n        /** @private */\n        this.visibilityCollections = [];\n        this.heatMap = heatMap;\n        this.drawSvgCanvas = new DrawSvgCanvas(heatMap);\n    }\n    /**\n     * Get module name\n     */\n    Legend.prototype.getModuleName = function () {\n        return 'Legend';\n    };\n    /**\n     * To destroy the Legend.\n     *\n     * @returns {void}\n     * @private\n     */\n    Legend.prototype.destroy = function () {\n        /**\n         * destory code\n         */\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendItems = function () {\n        var heatMap = this.heatMap;\n        heatMap.toggleValue = [];\n        var tempBorder = { color: 'transparent', width: 0 };\n        this.legend = heatMap.renderer.createGroup({ id: heatMap.element.id + '_Heatmap_Legend' });\n        var rectItems = new RectOption(heatMap.element.id + '_LegendBound', 'none', tempBorder, 1, this.legendGroup);\n        this.drawSvgCanvas.drawRectangle(rectItems, this.legend);\n        var legendBound = this.legendRectScale;\n        var ctx = heatMap.canvasRenderer.ctx;\n        var rectItemsSvg = new Rect(legendBound.x, legendBound.y, legendBound.width, legendBound.height);\n        var fill;\n        if (heatMap.paletteSettings.type === 'Fixed') {\n            var colorCollection = (!heatMap.legendSettings.enableSmartLegend) ?\n                heatMap.colorCollection : heatMap.legendColorCollection;\n            this.legendRange = (heatMap.resizing || (!heatMap.legendOnLoad && heatMap.rendering)) ? [] : this.legendRange;\n            this.legendTextRange = (heatMap.resizing || (!heatMap.legendOnLoad && heatMap.rendering)) ? [] : this.legendTextRange;\n            if (heatMap.enableCanvasRendering) {\n                ctx.save();\n                ctx.clip();\n            }\n            for (var i = 0; i < colorCollection.length; i++) {\n                var visibility = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                    this.visibilityCollections[i] : true;\n                heatMap.toggleValue.push(new ToggleVisibility(visibility, colorCollection[i].value, colorCollection[i].startValue, colorCollection[i].endValue));\n            }\n        }\n        if (heatMap.paletteSettings.type === 'Gradient' || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend === true)) {\n            if (heatMap.paletteSettings.type === 'Gradient') {\n                if (heatMap.enableCanvasRendering) {\n                    var grd = void 0;\n                    var ctx_1 = heatMap.canvasRenderer.ctx;\n                    if (heatMap.horizontalGradient) {\n                        grd = ctx_1.createLinearGradient(legendBound.x, 0, legendBound.x + legendBound.width, 0);\n                    }\n                    else {\n                        grd = ctx_1.createLinearGradient(0, legendBound.y, 0, legendBound.y + legendBound.height);\n                    }\n                    if (heatMap.legendSettings.title.text) {\n                        ctx_1.clip();\n                    }\n                    for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                        var value = (((this.heatMap.isColorRange ? heatMap.legendColorCollection[i].startValue :\n                            heatMap.legendColorCollection[i].value) - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue));\n                        value = isNaN(value) ? 0 : value;\n                        if (this.heatMap.isColorRange && this.heatMap.paletteSettings.type === 'Gradient') {\n                            this.calculateCanvasColorRange(i, grd);\n                        }\n                        else {\n                            grd.addColorStop(value, heatMap.legendColorCollection[i].color);\n                        }\n                    }\n                    ctx_1.fillStyle = grd;\n                    fill = grd.toString();\n                }\n                else {\n                    var gradientOptions = void 0;\n                    var gradientColor = void 0;\n                    var cgradientColors = [];\n                    for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                        if (this.heatMap.isColorRange && this.heatMap.paletteSettings.type === 'Gradient') {\n                            this.calculateColorRange(i, cgradientColors);\n                        }\n                        else {\n                            var gradientPercentage = ((heatMap.legendColorCollection[i].value - this.legendMinValue) /\n                                (this.legendMaxValue - this.legendMinValue)) * 100;\n                            gradientPercentage = isNaN(gradientPercentage) ? 0 : gradientPercentage;\n                            gradientColor = new GradientColor(heatMap.legendColorCollection[i].color, gradientPercentage + '%');\n                            cgradientColors.push(gradientColor);\n                        }\n                        if (this.legendMaxValue === this.legendMinValue) {\n                            break;\n                        }\n                    }\n                    if (heatMap.horizontalGradient) {\n                        gradientOptions = new Gradient(heatMap.element.id + '_lineargradient', '0%', '100%', '0%', '0%');\n                    }\n                    else {\n                        gradientOptions = new Gradient(heatMap.element.id + '_lineargradient', '0%', '0%', '0%', '100%');\n                    }\n                    var linearGradient = heatMap.renderer.drawGradient('linearGradient', gradientOptions, cgradientColors);\n                    this.legend.appendChild(linearGradient);\n                    fill = 'url(#' + heatMap.element.id + '_lineargradient)';\n                }\n                var rectItem = new RectOption(heatMap.element.id + '_Gradient_Legend', fill, tempBorder, 1, rectItemsSvg);\n                this.drawSvgCanvas.drawRectangle(rectItem, this.legend);\n                this.renderElements(rectItemsSvg);\n            }\n            else {\n                this.renderSmartLegend();\n                this.renderTitle(rectItemsSvg);\n            }\n            if (!heatMap.enableCanvasRendering) {\n                heatMap.svgObject.appendChild(this.legend);\n            }\n            if (heatMap.enableCanvasRendering) {\n                ctx.restore();\n            }\n            this.renderLegendLabel(rectItemsSvg);\n        }\n        else {\n            this.legendScale = heatMap.renderer.createGroup({ id: heatMap.element.id + 'Heatmap_GradientScale' });\n            var listRect = new RectOption(heatMap.element.id + '_Gradient_Scale', 'none', tempBorder, 1, this.legendRectScale);\n            this.drawSvgCanvas.drawRectangle(listRect, this.legendScale);\n            this.renderTitle(rectItemsSvg);\n            if (!heatMap.enableCanvasRendering) {\n                this.legend.appendChild(this.legendScale);\n            }\n            this.translategroup = heatMap.renderer.createGroup({ id: heatMap.element.id + '_translate' });\n            this.calculateListPerPage(rectItemsSvg);\n            if (this.numberOfPages > 1) {\n                this.paginggroup = heatMap.renderer.createGroup({ id: heatMap.element.id + '_navigation' });\n            }\n            this.renderListLegendMode(rectItemsSvg, true);\n            if (heatMap.enableCanvasRendering) {\n                ctx.restore();\n            }\n        }\n    };\n    Legend.prototype.renderElements = function (rectItemsSvg) {\n        this.renderTitle(rectItemsSvg);\n        this.renderColorAxisGrid(rectItemsSvg);\n    };\n    Legend.prototype.calculateCanvasColorRange = function (i, grd) {\n        var heatMap = this.heatMap;\n        var value = ((((heatMap.legendColorCollection[i].startValue < heatMap.dataSourceMinValue &&\n            heatMap.legendColorCollection[i].endValue > heatMap.dataSourceMinValue) ?\n            heatMap.dataSourceMinValue : heatMap.legendColorCollection[i].startValue) - this.legendMinValue) /\n            (this.legendMaxValue - this.legendMinValue));\n        value = isNaN(value) ? 0 : value;\n        var value1 = ((heatMap.legendColorCollection[i].endValue >= this.heatMap.dataSourceMaxValue ?\n            this.heatMap.dataSourceMaxValue : heatMap.legendColorCollection[i].endValue) - this.legendMinValue) /\n            (this.legendMaxValue - this.legendMinValue);\n        if (this.heatMap.legendColorCollection[0].startValue !== this.heatMap.dataSourceMinValue && i === 0 &&\n            this.heatMap.legendColorCollection[0].startValue > this.heatMap.dataSourceMinValue) {\n            value = (this.heatMap.legendColorCollection[0].startValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue);\n            grd.addColorStop(value / 2, this.heatMap.paletteSettings.fillColor.minColor);\n            grd.addColorStop(value, this.heatMap.paletteSettings.fillColor.maxColor);\n        }\n        grd.addColorStop(value, heatMap.legendColorCollection[i].minColor);\n        grd.addColorStop(value1, heatMap.legendColorCollection[i].maxColor);\n        if (this.heatMap.legendColorCollection[i].endValue !== ((i === this.heatMap.legendColorCollection.length - 1) ?\n            this.heatMap.dataSourceMaxValue : this.heatMap.legendColorCollection[i + 1].startValue) &&\n            this.heatMap.legendColorCollection[i].endValue < this.heatMap.dataSourceMaxValue) {\n            value = (heatMap.legendColorCollection[i].endValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue);\n            grd.addColorStop(value, this.heatMap.paletteSettings.fillColor.minColor);\n            value = ((i === this.heatMap.legendColorCollection.length - 1 ? this.heatMap.dataSourceMaxValue :\n                heatMap.legendColorCollection[i + 1].startValue) - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue);\n            grd.addColorStop(value, this.heatMap.paletteSettings.fillColor.maxColor);\n        }\n    };\n    Legend.prototype.calculateColorRange = function (i, cgradientColors) {\n        if (cgradientColors === void 0) { cgradientColors = []; }\n        var heatMap = this.heatMap;\n        heatMap.toggleValue = [];\n        var gradientPercentage;\n        var gradientColor;\n        var gradientColor2;\n        var gradientColor3;\n        if (this.heatMap.legendColorCollection[0].startValue > this.heatMap.dataSourceMinValue && i === 0) {\n            gradientPercentage = (this.heatMap.dataSourceMinValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue) * 100;\n            gradientPercentage = isNaN(gradientPercentage) ? 0 : gradientPercentage;\n            gradientColor = new GradientColor(heatMap.paletteSettings.fillColor.minColor, gradientPercentage + '%');\n            cgradientColors.push(gradientColor);\n            gradientPercentage = (heatMap.legendColorCollection[0].startValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue) * 100;\n            gradientColor = new GradientColor(heatMap.paletteSettings.fillColor.maxColor, gradientPercentage + '%');\n            cgradientColors.push(gradientColor);\n        }\n        gradientPercentage = ((heatMap.legendColorCollection[i].startValue - this.legendMinValue) /\n            (this.legendMaxValue - this.legendMinValue)) * 100;\n        gradientPercentage = isNaN(gradientPercentage) ? 0 : gradientPercentage;\n        gradientColor = new GradientColor(heatMap.legendColorCollection[i].minColor, gradientPercentage + '%');\n        cgradientColors.push(gradientColor);\n        gradientPercentage = (heatMap.legendColorCollection[i].endValue - this.legendMinValue) /\n            (this.legendMaxValue - this.legendMinValue) * 100;\n        var gradientColor1 = new GradientColor(heatMap.legendColorCollection[i].maxColor, gradientPercentage + '%');\n        cgradientColors.push(gradientColor1);\n        if (this.heatMap.legendColorCollection[i].endValue !== ((i === this.heatMap.legendColorCollection.length - 1) ?\n            this.heatMap.dataSourceMaxValue : this.heatMap.legendColorCollection[i + 1].startValue)) {\n            gradientPercentage = (heatMap.legendColorCollection[i].endValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue) * 100;\n            gradientColor2 = new GradientColor(this.heatMap.paletteSettings.fillColor.minColor, (gradientPercentage) + '%');\n            cgradientColors.push(gradientColor2);\n            gradientPercentage = ((i === (this.heatMap.legendColorCollection.length - 1) ?\n                this.heatMap.dataSourceMaxValue : heatMap.legendColorCollection[i + 1].startValue) - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue) * 100;\n            gradientColor3 = new GradientColor(this.heatMap.paletteSettings.fillColor.maxColor, (gradientPercentage) + '%');\n            cgradientColors.push(gradientColor3);\n        }\n    };\n    Legend.prototype.renderTitle = function (rect) {\n        var heatMap = this.heatMap;\n        if (heatMap.legendSettings.title.text) {\n            var title = heatMap.legendSettings.title;\n            var titleSize = measureText(title.text, title.textStyle);\n            var padding = !heatMap.legendSettings.showLabel ? heatMap.horizontalGradient ? 10 : 6 : this.labelPadding;\n            var y = void 0;\n            var anchor = 'start';\n            var maxWidth = void 0;\n            var dominantBaseline = void 0;\n            var text = title.text;\n            var textAlignment = title.textStyle.textAlignment;\n            var options = void 0;\n            var yValue = void 0;\n            if (heatMap.legendSettings.title.textStyle.textOverflow === 'Trim') {\n                // TO DO: When the legend title is large and legend position is left or right,\n                // the HeatMap is not rendered. The below line trimmed the large title text alone.\n                maxWidth = heatMap.horizontalGradient ? rect.width - 10 : this.width - 10;\n                text = textTrim(maxWidth, text, title.textStyle);\n            }\n            if (!heatMap.horizontalGradient) {\n                padding = -(padding + titleSize.height / 4);\n                if (text.length !== 0 && heatMap.enableCanvasRendering) {\n                    this.legendTitleTooltip.push(new CanvasTooltip(title.text, new Rect(rect.x, rect.y - titleSize.height, maxWidth, titleSize.height)));\n                }\n                options = new TextOption(heatMap.element.id + '_legendTitle', new TextBasic(rect.x, rect.y + padding, anchor, text, 0, 'translate(0,0)', dominantBaseline), title.textStyle, title.textStyle.color || heatMap.themeStyle.heatMapTitle);\n            }\n            else {\n                y = rect.y + (heatMap.legendSettings.position === 'Top' ? 0 :\n                    -(10 + titleSize.height + padding));\n                padding = heatMap.legendSettings.position === 'Top' ? -(padding + titleSize.height / 4) :\n                    (padding + (3 * titleSize.height / 4));\n                yValue = heatMap.legendSettings.position === 'Bottom' ? y : y - titleSize.height;\n                if (text.length !== 0 && heatMap.enableCanvasRendering) {\n                    this.legendTitleTooltip.push(new CanvasTooltip(title.text, new Rect(rect.x, yValue, maxWidth, titleSize.height)));\n                }\n                titleSize.width = rect.width < titleSize.width ? rect.width : titleSize.width;\n                var rectValue = rect.x;\n                if (text.indexOf('...') !== -1 && textAlignment === 'Far') {\n                    rectValue = (rectValue + (rect.width / 2) - (titleSize.width / 2));\n                }\n                else {\n                    rectValue = textAlignment === 'Near' ? rectValue : textAlignment === 'Far' ? rect.width + rectValue :\n                        (rectValue + (rect.width / 2) - (titleSize.width / 2));\n                }\n                anchor = textAlignment === 'Far' && text.indexOf('...') === -1 ? 'end' : 'start';\n                options = new TextOption(heatMap.element.id + '_legendTitle', new TextBasic(rectValue, y + padding, anchor, text, 0, 'translate(0,0)', dominantBaseline), title.textStyle, title.textStyle.color || heatMap.themeStyle.heatMapTitle);\n            }\n            this.drawSvgCanvas.createText(options, this.legend, text);\n        }\n    };\n    Legend.prototype.renderSmartLegend = function () {\n        var heatMap = this.heatMap;\n        var colorCollection = heatMap.colorCollection;\n        var smartLegendRect;\n        var tempBorder = {\n            color: 'transparent',\n            width: 0\n        };\n        var legendBound = this.legendRectScale;\n        var legendX;\n        var legendY;\n        var legendWidth;\n        var legendHeight;\n        var width = legendBound.width / colorCollection.length;\n        var height = legendBound.height / colorCollection.length;\n        this.legendRectPositionCollection = [];\n        this.legendRange = [];\n        for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n            var rectPosition = new CurrentLegendRect(0, 0, 0, 0, '', '');\n            if (heatMap.horizontalGradient) {\n                legendX = legendBound.x + (i * width);\n                legendY = legendBound.y;\n                legendWidth = width;\n                legendHeight = legendBound.height;\n                this.segmentCollections.push((heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                    i === heatMap.legendColorCollection.length - 1 && !heatMap.legendColorCollection[i].isHidden) ?\n                    legendX + width : legendX);\n            }\n            else {\n                legendX = legendBound.x;\n                legendY = legendBound.y + (i * height);\n                legendWidth = legendBound.width;\n                legendHeight = height;\n                this.segmentCollections.push((heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                    i === heatMap.legendColorCollection.length - 1 && !heatMap.legendColorCollection[i].isHidden) ?\n                    legendY + height : legendY);\n            }\n            smartLegendRect = new Rect(legendX, legendY, legendWidth, legendHeight);\n            var legendRange = new LegendRange(0, 0, 0, 0, 0, true, 0);\n            legendRange.x = legendX;\n            legendRange.y = legendY;\n            legendRange.width = legendWidth;\n            legendRange.height = legendHeight;\n            legendRange.value = this.heatMap.isColorRange ?\n                heatMap.legendColorCollection[i].endValue : heatMap.legendColorCollection[i].value;\n            legendRange.currentPage = this.currentPage;\n            if (colorCollection.length !== heatMap.legendColorCollection.length && i === heatMap.legendColorCollection.length - 1) {\n                if (heatMap.horizontalGradient) {\n                    legendRange.width = 0;\n                }\n                else {\n                    legendRange.height = 0;\n                }\n                this.visibilityCollections[i] = this.visibilityCollections[i - 1];\n            }\n            legendRange.visible = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                this.visibilityCollections[i] : true;\n            this.legendRange.push(legendRange);\n            if (!heatMap.legendColorCollection[i].isHidden) {\n                var color = heatMap.legendOnLoad ? this.heatMap.isColorRange ? colorCollection[i].minColor :\n                    colorCollection[i].color : this.legendRange[i].visible ?\n                    this.heatMap.isColorRange ? colorCollection[i].minColor :\n                        colorCollection[i].color : this.heatMap.themeStyle.toggledColor || '#D3D3D3';\n                var rectItem = new RectOption(heatMap.element.id + '_Smart_Legend' + i, color, tempBorder, 1, smartLegendRect);\n                this.drawSvgCanvas.drawRectangle(rectItem, this.legend);\n                rectPosition.x = legendX;\n                rectPosition.y = legendY;\n                rectPosition.width = legendWidth;\n                rectPosition.height = legendHeight;\n                rectPosition.label = this.labelCollections[i];\n                rectPosition.id = heatMap.element.id + '_Smart_Legend' + i;\n                this.legendRectPositionCollection.push(rectPosition);\n                var text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, this.textWrapCollections[i]);\n                if (text.length !== 0 && heatMap.enableCanvasRendering) {\n                    var elementSize = measureText(this.labelCollections[i], heatMap.legendSettings.textStyle);\n                    this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(rectPosition.x, rectPosition.y, elementSize.width, elementSize.height)));\n                }\n            }\n        }\n    };\n    Legend.prototype.colorRangeLegendPosition = function (i, labelX) {\n        if (this.segmentCollections.length !== this.segmentCollectionsLabels.length) {\n            for (var k = 0; k < this.segmentCollections.length; k++) {\n                if (this.segmentCollectionsLabels[i] === this.segmentCollections[k]) {\n                    labelX = this.segmentCollectionsLabels[i] + (((k === this.segmentCollections.length - 1 ?\n                        (this.heatMap.horizontalGradient ? this.width : this.height) :\n                        this.segmentCollections[k + 1]) - this.segmentCollections[k]) / 2);\n                    break;\n                }\n            }\n        }\n        else {\n            labelX = this.segmentCollectionsLabels[i] + (((i === this.segmentCollectionsLabels.length - 1 ?\n                (this.heatMap.horizontalGradient ? this.width : this.height) :\n                this.segmentCollectionsLabels[i + 1]) - this.segmentCollectionsLabels[i]) / 2);\n        }\n        this.labelPosition = labelX;\n    };\n    Legend.prototype.renderLegendLabel = function (rect) {\n        var heatMap = this.heatMap;\n        this.legendTextRange = [];\n        if (heatMap.legendSettings.showLabel && (heatMap.paletteSettings.type === 'Gradient' ||\n            (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.labelDisplayType !== 'None'))) {\n            var anchor = 'start';\n            var dominantBaseline = void 0;\n            var legendLabel = void 0;\n            var textWrapWidth = 0;\n            var text = void 0;\n            this.legendLabelTooltip = [];\n            var elementSize = void 0;\n            var isColorRange = heatMap.isColorRange;\n            var colorCollection = heatMap.legendColorCollection;\n            if (heatMap.enableCanvasRendering) {\n                var ctx = heatMap.canvasRenderer.ctx;\n                ctx.rect(this.legendGroup.x, this.legendGroup.y, this.legendGroup.width, this.legendGroup.height);\n                ctx.save();\n                ctx.clip();\n                ctx.restore();\n            }\n            else {\n                legendLabel = heatMap.renderer.createGroup({ id: heatMap.element.id + '_Heatmap_LegendLabel' });\n            }\n            var labelX = void 0;\n            var labelY = void 0;\n            for (var i = 0; i < colorCollection.length; i++) {\n                var value = ((colorCollection[i].value - (Math.round(this.legendMinValue * 100) / 100)) /\n                    ((Math.round(this.legendMaxValue * 100) / 100) - (Math.round(this.legendMinValue * 100) / 100))) * 100;\n                if (heatMap.horizontalGradient) {\n                    if (this.heatMap.isColorRange && heatMap.paletteSettings.type === 'Gradient') {\n                        this.colorRangeLegendPosition(i, labelX);\n                        labelX = this.labelPosition;\n                    }\n                    else if (this.heatMap.legendSettings.enableSmartLegend && this.heatMap.isColorRange &&\n                        heatMap.paletteSettings.type === 'Fixed') {\n                        labelX = this.segmentCollections[i] + ((rect.width / colorCollection.length) / 2);\n                    }\n                    else {\n                        labelX = this.segmentCollections[i];\n                    }\n                    labelY = rect.y + rect.height + this.labelPadding;\n                    anchor = (((Math.round(value * 100) / 100) === 0 && !isColorRange) || (heatMap.paletteSettings.type === 'Fixed' &&\n                        i === 0)) ? 'start' : (((Math.round(value * 100) / 100) === 100 && heatMap.paletteSettings.type === 'Gradient' &&\n                        !isColorRange) || (Math.round(heatMap.dataSourceMaxValue * 100) / 100) === colorCollection[i].value &&\n                        heatMap.legendSettings.enableSmartLegend) || (heatMap.legendSettings.enableSmartLegend &&\n                        heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.labelDisplayType === 'Edge') ? 'end' : 'middle';\n                    dominantBaseline = 'hanging';\n                }\n                else {\n                    labelX = rect.x + rect.width + this.labelPadding;\n                    if (this.heatMap.isColorRange && heatMap.paletteSettings.type === 'Gradient') {\n                        this.colorRangeLegendPosition(i, labelY);\n                        labelY = this.labelPosition;\n                    }\n                    else if (this.heatMap.legendSettings.enableSmartLegend && this.heatMap.isColorRange &&\n                        heatMap.paletteSettings.type === 'Fixed') {\n                        labelY = this.segmentCollections[i] + ((rect.height / colorCollection.length) / 2);\n                    }\n                    else {\n                        labelY = this.segmentCollections[i];\n                    }\n                    dominantBaseline = (((Math.round(value * 100) / 100) === 0 && !isColorRange) || (i === 0 &&\n                        heatMap.paletteSettings.type === 'Fixed')) ? 'hanging' : (((Math.round(value * 100) / 100) === 100 &&\n                        !isColorRange && heatMap.paletteSettings.type === 'Gradient') ||\n                        (Math.round(heatMap.dataSourceMaxValue * 100) / 100) === colorCollection[i].value &&\n                            heatMap.legendSettings.enableSmartLegend) || (heatMap.legendSettings.enableSmartLegend &&\n                        heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                        heatMap.paletteSettings.type === 'Fixed') ? 'auto' : 'middle';\n                }\n                textWrapWidth = heatMap.horizontalGradient ? (heatMap.legendSettings.textStyle.textOverflow === 'None' ?\n                    this.segmentCollections[i] : this.textWrapCollections[i]) :\n                    this.width - (this.legendRectScale.width + this.labelPadding + this.legendRectPadding);\n                text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                elementSize = measureText(text[0], heatMap.legendSettings.textStyle);\n                if (heatMap.paletteSettings.type === 'Fixed') {\n                    var rectY = dominantBaseline === 'hanging' ? labelY : dominantBaseline === 'middle' ?\n                        labelY - elementSize.height / 2 : labelY - elementSize.height;\n                    var rectX = anchor === 'end' ? labelX - elementSize.width : anchor === 'middle' ?\n                        labelX - elementSize.width / 2 : labelX;\n                    var textPosition = new LegendRange(rectX, rectY, elementSize.width, elementSize.height, colorCollection[i].value, true, this.currentPage);\n                    textPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                        this.visibilityCollections[i] : true;\n                    this.legendTextRange.push(textPosition);\n                }\n                if (this.labelCollections[i] !== '') {\n                    if (text.length !== 0 && text[0].indexOf('...') !== -1 && heatMap.enableCanvasRendering) {\n                        this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(labelX, labelY, elementSize.width, elementSize.height)));\n                    }\n                    var textBasic = new TextBasic(labelX, labelY, anchor, text, 0, 'translate(0,0)', dominantBaseline);\n                    var options = new TextOption(heatMap.element.id + '_Legend_Label' + i, textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n                    options.fill = heatMap.legendOnLoad ? options.fill :\n                        (heatMap.paletteSettings.type === 'Fixed' && !this.legendRange[i].visible) ? '#D3D3D3' : options.fill;\n                    if (text.length > 1) {\n                        this.drawSvgCanvas.createWrapText(options, heatMap.legendSettings.textStyle, legendLabel);\n                    }\n                    else {\n                        this.drawSvgCanvas.createText(options, legendLabel, text[0]);\n                    }\n                    if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                        if (dominantBaseline === 'middle') {\n                            legendLabel.lastChild.setAttribute('dy', '0.6ex');\n                        }\n                        else if (dominantBaseline === 'hanging') {\n                            legendLabel.lastChild.setAttribute('dy', '1.5ex');\n                        }\n                    }\n                }\n                if (this.legendMaxValue === this.legendMinValue && heatMap.paletteSettings.type === 'Gradient') {\n                    break;\n                }\n            }\n            if (!heatMap.enableCanvasRendering) {\n                this.legendGroup.height = this.legendGroup.height > 0 ? this.legendGroup.height : 0;\n                this.legendGroup.width = this.legendGroup.width > 0 ? this.legendGroup.width : 0;\n                this.legend.appendChild(legendLabel);\n                var clippath = heatMap.renderer.createClipPath({ id: heatMap.element.id + '_clipPath' });\n                var clipRect = heatMap.renderer.drawRectangle(this.legendGroup);\n                clippath.appendChild(clipRect);\n                heatMap.svgObject.appendChild(clippath);\n                this.legend.style.cssText = 'clip-path:url(#' + clippath.id + ')';\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderGradientPointer = function (e, pageX, pageY) {\n        var heatMap = this.heatMap;\n        var currentRect = heatMap.heatMapSeries.getCurrentRect(pageX, pageY);\n        var cellValue = heatMap.bubbleSizeWithColor ? currentRect.value[0].bubbleData.toString() !== '' ?\n            !this.heatMap.isColorValueExist ? currentRect.value[0].bubbleData.toString() :\n                currentRect.value[1].bubbleData.toString() : '' : currentRect.value.toString();\n        var rect = this.legendRectScale;\n        var legendPart;\n        var direction;\n        var options;\n        var legendPath;\n        var pathX1;\n        var pathY1;\n        var pathX2;\n        var pathY2;\n        var pathX3;\n        var pathY3;\n        if (cellValue.toString() !== '') {\n            if (!heatMap.horizontalGradient) {\n                legendPart = rect.height / 100;\n                legendPath = legendPart * ((Number(cellValue) - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                legendPath = isNaN(legendPath) ? 0 : legendPath;\n                pathX1 = rect.x - 1;\n                pathY1 = rect.y + legendPath;\n                pathX2 = pathX3 = rect.x - 8;\n                pathY2 = rect.y - 5 + legendPath;\n                pathY3 = rect.y + 5 + legendPath;\n            }\n            else {\n                legendPart = rect.width / 100;\n                legendPath = legendPart * ((Number(cellValue) - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                legendPath = isNaN(legendPath) ? 0 : legendPath;\n                pathX1 = rect.x + legendPath;\n                pathY1 = rect.y + rect.height;\n                pathX2 = rect.x - 5 + legendPath;\n                pathY2 = pathY3 = rect.y + rect.height + 8;\n                pathX3 = rect.x + 5 + legendPath;\n            }\n            direction = 'M' + ' ' + pathX1 + ' ' + pathY1 + ' ' +\n                'L' + ' ' + pathX2 + ' ' + pathY2 + ' ' + 'L' + ' ' + pathX3 + ' ' + pathY3 + ' ' + 'Z';\n            options = new PathOption(heatMap.element.id + '_Gradient_Pointer', 'gray', 0.01, '#A0A0A0', 1, '0,0', direction);\n            if (!heatMap.enableCanvasRendering) {\n                this.gradientPointer = heatMap.renderer.drawPath(options);\n                this.gradientPointer.style.visibility = 'visible';\n                this.legend.appendChild(this.gradientPointer);\n            }\n            else {\n                this.removeGradientPointer();\n                var canvasTranslate = void 0;\n                heatMap.canvasRenderer.drawPath(options, canvasTranslate);\n                this.previousOptions.pathX1 = pathX1;\n                this.previousOptions.pathY1 = pathY1;\n                this.previousOptions.pathX2 = pathX2;\n                this.previousOptions.pathY2 = pathY2;\n                this.previousOptions.pathX3 = pathX3;\n                this.previousOptions.pathY3 = pathY3;\n            }\n        }\n        else {\n            this.removeGradientPointer();\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.removeGradientPointer = function () {\n        var heatMap = this.heatMap;\n        if (this.gradientPointer && !heatMap.enableCanvasRendering) {\n            this.gradientPointer.style.visibility = 'hidden';\n        }\n        else if (heatMap.enableCanvasRendering) {\n            if (Object.keys(this.previousOptions).length !== 0) {\n                if (heatMap.horizontalGradient) {\n                    this.fillRect.x = this.previousOptions.pathX2 - 1;\n                    this.fillRect.y = this.previousOptions.pathY1;\n                    this.fillRect.width = this.previousOptions.pathX3 - this.previousOptions.pathX2 + 2;\n                    this.fillRect.height = this.previousOptions.pathY2 + 1 - this.previousOptions.pathY1;\n                }\n                else {\n                    this.fillRect.x = this.previousOptions.pathX2 - 1;\n                    this.fillRect.y = this.previousOptions.pathY2 - 1;\n                    this.fillRect.width = this.previousOptions.pathX1 - this.previousOptions.pathX2 + 1;\n                    this.fillRect.height = this.previousOptions.pathY3 - this.previousOptions.pathY2 + 2;\n                }\n            }\n            heatMap.canvasRenderer.ctx.fillStyle = heatMap.themeStyle.background;\n            heatMap.canvasRenderer.ctx.clearRect(this.fillRect.x, this.fillRect.y, this.fillRect.width, this.fillRect.height);\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.calculateLegendBounds = function (rect) {\n        var heatMap = this.heatMap;\n        var legendSettings = heatMap.legendSettings;\n        this.labelCollection = [];\n        this.labelCollections = [];\n        var colorCollection = heatMap.legendColorCollection;\n        if (legendSettings.position !== 'Bottom' && legendSettings.position !== 'Top' &&\n            legendSettings.position !== 'Right' && legendSettings.position !== 'Left') {\n            legendSettings.position = 'Right';\n        }\n        var title = heatMap.legendSettings.title;\n        var titleSize = measureText(title.text, title.textStyle);\n        heatMap.horizontalGradient = legendSettings.position === 'Bottom' || legendSettings.position === 'Top';\n        this.legendRectPadding = heatMap.horizontalGradient ? heatMap.legendSettings.title.text ?\n            titleSize.height + 16 : 16 : 10; // padding between rect and legend\n        this.labelPadding = legendSettings.showLabel ? this.heatMap.horizontalGradient ? 10 : 6 : 0; // padding between list and label\n        this.legendHeight = legendSettings.height;\n        this.legendWidth = legendSettings.width;\n        var format = heatMap.legendSettings.labelFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = heatMap.intl.getNumberFormat({ format: isCustom ? '' : format });\n        if (heatMap.paletteSettings.type === 'Fixed') {\n            for (var i = 0; i < colorCollection.length; i++) {\n                var label = colorCollection[i].label ? colorCollection[i].label : this.heatMap.isColorRange ?\n                    colorCollection[i].startValue.toString() + '-' + colorCollection[i].endValue.toString() : formatValue(isCustom, format, colorCollection[i].value, this.format).toString();\n                var legendEventArg = { cancel: false, text: label, name: 'legendRender' };\n                this.labelCollection.push(label);\n                this.heatMap.trigger('legendRender', legendEventArg);\n                if (heatMap.legendRender) {\n                    if (heatMap.legendSettings.enableSmartLegend && heatMap.legendSettings.labelDisplayType === 'Edge'\n                        && i > 0 && i < colorCollection.length - 1) {\n                        this.labelCollections.push('');\n                    }\n                    else {\n                        if (!legendEventArg.cancel) {\n                            this.labelCollections.push(legendEventArg.text);\n                        }\n                        else {\n                            this.labelCollections.push('');\n                        }\n                    }\n                }\n                else {\n                    if (heatMap.legendSettings.enableSmartLegend && heatMap.legendSettings.labelDisplayType === 'Edge'\n                        && i > 0 && i < colorCollection.length - 1) {\n                        this.labelCollections.push('');\n                    }\n                    else {\n                        this.labelCollections.push(label);\n                    }\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < colorCollection.length; i++) {\n                var label = colorCollection[i].isHidden ? '' : colorCollection[i].label ? colorCollection[i].label :\n                    this.heatMap.isColorRange ? colorCollection[i].startValue.toString() + '-' + colorCollection[i].endValue.toString() :\n                        formatValue(isCustom, format, colorCollection[i].value, this.format).toString();\n                var legendEventArg = { cancel: false, text: label, name: 'legendRender' };\n                if (!colorCollection[i].isHidden) {\n                    this.heatMap.trigger('legendRender', legendEventArg);\n                }\n                if (heatMap.legendRender) {\n                    if (!legendEventArg.cancel) {\n                        if (i > 0 && i < colorCollection.length - 1 && heatMap.legendSettings.labelDisplayType === 'Edge') {\n                            this.labelCollections.push('');\n                        }\n                        else {\n                            if (!legendEventArg.cancel) {\n                                this.labelCollections.push(legendEventArg.text);\n                            }\n                            else {\n                                this.labelCollections.push('');\n                            }\n                        }\n                    }\n                    else {\n                        this.labelCollections.push('');\n                    }\n                }\n                else {\n                    if (i > 0 && i < colorCollection.length - 1 && heatMap.legendSettings.labelDisplayType === 'Edge') {\n                        this.labelCollections.push('');\n                    }\n                    else {\n                        this.labelCollections.push(label);\n                    }\n                }\n            }\n        }\n        if (heatMap.paletteSettings.type === 'Gradient' || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend)) {\n            this.maxLegendLabelSize = this.getMaxLabelSize();\n            if (heatMap.horizontalGradient && legendSettings.height === '') {\n                this.legendHeight = ((2 * this.legendRectPadding) + this.legendSize + this.maxLegendLabelSize.height).toString();\n            }\n            else if (!heatMap.horizontalGradient && legendSettings.width === '' && (legendSettings.textStyle.textOverflow === 'None' ||\n                (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.enableSmartLegend &&\n                    heatMap.legendSettings.labelDisplayType === 'None'))) {\n                this.legendWidth = ((2 * this.legendRectPadding) + this.legendSize + this.maxLegendLabelSize.width).toString();\n            }\n            this.calculateTitleBounds();\n        }\n        else {\n            this.calculateListLegendBounds(rect);\n        }\n        this.legendHeight = this.legendHeight ? this.legendHeight : heatMap.horizontalGradient ? '50' : '100%';\n        this.legendWidth = this.legendWidth ? this.legendWidth : heatMap.horizontalGradient ?\n            '100%' : heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ? '70' : '50';\n        this.height = stringToNumber(this.legendHeight, rect.height);\n        this.width = stringToNumber(this.legendWidth, rect.width);\n        if (heatMap.horizontalGradient) {\n            this.height = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                this.height < 50 ? 50 : this.height : this.height;\n            if (legendSettings.position === 'Top') {\n                rect.y += this.height;\n            }\n            rect.height -= this.height;\n        }\n        else {\n            this.width = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                this.width < 50 ? 50 : this.width : this.width;\n            if (legendSettings.position === 'Left') {\n                rect.x += this.width;\n            }\n            rect.width -= this.width;\n        }\n    };\n    Legend.prototype.calculateTitleBounds = function () {\n        var heatMap = this.heatMap;\n        var title = heatMap.legendSettings.title;\n        var titleSize = measureText(title.text, title.textStyle);\n        if (heatMap.legendSettings.title.text) {\n            if ((heatMap.legendSettings.position === 'Top' || heatMap.legendSettings.position === 'Bottom') &&\n                heatMap.legendSettings.height === '') {\n                this.legendHeight = (((2 * this.legendRectPadding) - titleSize.height) +\n                    this.legendSize + this.maxLegendLabelSize.height).toString();\n            }\n            if (heatMap.legendSettings.width === '' && (heatMap.legendSettings.textStyle.textOverflow === 'None' ||\n                (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.enableSmartLegend &&\n                    heatMap.legendSettings.labelDisplayType === 'None'))) {\n                if (heatMap.legendSettings.position === 'Right') {\n                    this.legendWidth = ((2 * this.legendRectPadding + titleSize.width) +\n                        this.legendSize + this.maxLegendLabelSize.width).toString();\n                }\n                else if (heatMap.legendSettings.position === 'Left') {\n                    titleSize.width = titleSize.width > this.maxLegendLabelSize.width ? titleSize.width : this.maxLegendLabelSize.width;\n                    this.legendWidth = ((2 * this.legendRectPadding + titleSize.width) + this.legendSize).toString();\n                }\n            }\n        }\n    };\n    Legend.prototype.calculateListLegendBounds = function (rect) {\n        var heatMap = this.heatMap;\n        this.listWidth = 0;\n        this.listHeight = 0;\n        this.currentPage = 1;\n        var padding = 10; // padding of paging elements\n        var title = heatMap.legendSettings.title;\n        var titleSize = measureText(title.text, title.textStyle);\n        var height = (titleSize.height + 50).toString();\n        if (heatMap.horizontalGradient) {\n            for (var i = 0; i < heatMap.colorCollection.length; i++) {\n                var size = 0;\n                if (heatMap.legendSettings.showLabel) {\n                    var text = this.labelCollections[i];\n                    size = measureText(text, heatMap.legendSettings.textStyle).width;\n                }\n                var perListWidth = this.legendSize + this.labelPadding + size + this.listInterval;\n                this.listWidth += perListWidth;\n            }\n            this.listWidth += this.listInterval + padding;\n            if (this.legendWidth === '') {\n                this.legendWidth = this.listWidth > rect.width ? rect.width.toString() : this.listWidth.toString();\n            }\n            if (this.legendHeight === '') {\n                this.numberOfRows = Math.ceil(this.listWidth / stringToNumber(this.legendWidth, rect.width));\n                this.numberOfRows = this.numberOfRows > 3 ? 3 : this.numberOfRows;\n                this.legendHeight = (this.listWidth > rect.width || this.listWidth > stringToNumber(this.legendWidth, rect.width)) &&\n                    this.numberOfRows > 3 ? (((this.legendSize + this.listInterval) * this.numberOfRows) + this.legendRectPadding +\n                    parseInt(heatMap.legendSettings.textStyle.size, 10) + padding).toString() :\n                    (((this.legendSize + this.listInterval) * this.numberOfRows) + this.legendRectPadding).toString();\n            }\n        }\n        else {\n            this.listHeight = ((this.legendSize + this.listInterval) * heatMap.colorCollection.length)\n                + this.listInterval + (heatMap.legendSettings.title.text ? titleSize.height : 0);\n            if (this.legendHeight === '') {\n                this.legendHeight = this.listHeight > rect.height ? rect.height.toString() : this.listHeight.toString();\n            }\n            if (this.legendWidth === '' && heatMap.legendSettings.textStyle.textOverflow !== 'Trim') {\n                this.maxLegendLabelSize = this.getMaxLabelSize();\n                this.maxLegendLabelSize.width = titleSize.width > this.maxLegendLabelSize.width ?\n                    titleSize.width : this.maxLegendLabelSize.width;\n                this.legendWidth = ((2 * this.legendRectPadding) + this.legendSize + this.labelPadding +\n                    this.maxLegendLabelSize.width).toString();\n            }\n        }\n        if (stringToNumber(this.legendHeight, rect.height) < 50) {\n            this.legendHeight = height;\n        }\n        if (stringToNumber(this.legendWidth, rect.width) < 70) {\n            this.legendWidth = '70';\n        }\n    };\n    Legend.prototype.getMaxLabelSize = function () {\n        var heatMap = this.heatMap;\n        this.maxLegendLabelSize = new Size(0, 0);\n        if (!heatMap.legendSettings.showLabel || (heatMap.horizontalGradient && heatMap.paletteSettings.type === 'Fixed' &&\n            !heatMap.legendSettings.enableSmartLegend) || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.labelDisplayType === 'None')) {\n            return this.maxLegendLabelSize;\n        }\n        else {\n            var labelSize = this.maxLegendLabelSize;\n            for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                var size = measureText(this.labelCollections[i], heatMap.legendSettings.textStyle);\n                labelSize.width = (labelSize.width > size.width) ? labelSize.width : size.width;\n                labelSize.height = (labelSize.height > size.height) ? labelSize.height : size.height;\n            }\n            return labelSize;\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.calculateLegendSize = function (rect, legendTop) {\n        var heatMap = this.heatMap;\n        var legendSettings = heatMap.legendSettings;\n        var left;\n        var top;\n        var padding = 10; // inner padding for axis title and axil labels\n        var alignment = legendSettings.alignment;\n        var width;\n        var height = stringToNumber(this.legendHeight, rect.height);\n        if (!heatMap.legendSettings.title.text) {\n            width = stringToNumber(this.legendWidth, rect.width);\n        }\n        else {\n            width = this.width;\n        }\n        var axis = heatMap.axisCollections;\n        var axisTitlePadding = 0;\n        if (heatMap.horizontalGradient) {\n            width = width > rect.width ? rect.width : width;\n            height = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                height > 50 ? height : 50 : this.height;\n            left = alignment === 'Near' ? rect.x : alignment === 'Far' ? rect.x + rect.width - width :\n                rect.x + (rect.width / 2) - (width / 2);\n            if (heatMap.xAxis.title.text !== '') {\n                axisTitlePadding = measureText(heatMap.xAxis.title.text, heatMap.xAxis.textStyle).height + padding;\n            }\n            var axisHeight = axis[0].opposedPosition ? 0 : sum(axis[0].xAxisMultiLabelHeight) + axis[0].maxLabelSize.height +\n                axisTitlePadding + padding;\n            top = legendSettings.position === 'Top' ? heatMap.titleSettings.text ? legendTop :\n                heatMap.margin.top : rect.y + rect.height + axisHeight;\n        }\n        else {\n            height = height > rect.height ? rect.height : height;\n            width = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                width > 50 ? width : 50 : width;\n            top = alignment === 'Near' ? rect.y : alignment === 'Far' ? rect.y + rect.height - height :\n                rect.y + (rect.height / 2) - (height / 2);\n            if (heatMap.yAxis.title.text !== '') {\n                axisTitlePadding = measureText(heatMap.yAxis.title.text, heatMap.yAxis.textStyle).height + padding;\n            }\n            var axisWidth = axis[1].opposedPosition ? sum(axis[1].yAxisMultiLabelHeight) +\n                axis[1].maxLabelSize.width + axisTitlePadding + 2 * padding : 0;\n            left = legendSettings.position === 'Right' ? rect.x + rect.width + axisWidth : heatMap.margin.left;\n        }\n        this.legendGroup = new Rect(left, top, width, height);\n        this.calculateGradientScale(this.legendGroup);\n    };\n    // calculating number of lists per page\n    Legend.prototype.measureListLegendBound = function (rect) {\n        var heatMap = this.heatMap;\n        var title = heatMap.legendSettings.title;\n        var padding = 15; // padding of paging element\n        this.numberOfPages = 1;\n        var titleSize = measureText(title.text, title.textStyle);\n        if (heatMap.horizontalGradient) {\n            if (this.listWidth > this.width) {\n                this.numberOfRows = Math.ceil(this.listWidth / this.width);\n                this.listHeight = ((this.legendSize + this.listInterval) * this.numberOfRows);\n                this.listPerPage = this.numberOfRows <= 3 ? this.numberOfRows : Math.ceil((this.height - padding -\n                    parseInt(heatMap.legendSettings.textStyle.size, 10) -\n                    this.legendRectPadding) / (this.legendSize + this.listInterval));\n                this.numberOfPages = Math.ceil(this.numberOfRows / this.listPerPage);\n            }\n            else {\n                this.listPerPage = 1;\n            }\n        }\n        else {\n            if (this.listHeight > rect.height || this.listHeight > this.height) {\n                var maxHeight = stringToNumber(this.legendHeight, rect.height);\n                maxHeight = maxHeight > rect.height ? rect.height : maxHeight;\n                maxHeight = heatMap.legendSettings.title.text ? maxHeight - titleSize.height : maxHeight;\n                this.listPerPage = Math.floor(maxHeight / (this.legendSize + this.listInterval) - 1);\n                this.numberOfPages = Math.max(1, Math.ceil(heatMap.colorCollection.length / this.listPerPage));\n            }\n            else {\n                this.listPerPage = heatMap.colorCollection.length;\n                this.legendHeight = this.listHeight.toString();\n            }\n        }\n    };\n    Legend.prototype.renderPagingElements = function () {\n        var heatMap = this.heatMap;\n        if (this.numberOfPages > 1) {\n            this.navigationCollections = [];\n            this.legend.appendChild(this.paginggroup);\n            var iconSize = 10;\n            var rightArrowX = this.legendGroup.x + this.legendGroup.width - iconSize;\n            var rightArrowY = this.legendGroup.y + this.legendGroup.height - iconSize;\n            var text = this.currentPage + '/' + this.numberOfPages;\n            var textSize = measureText(text, heatMap.legendSettings.textStyle);\n            var textX = rightArrowX - textSize.width - 15;\n            var textBasic = new TextBasic(textX, rightArrowY, 'start', text, 0, 'translate(0,0)', 'middle');\n            var options = new TextOption(heatMap.element.id + '_paging', textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n            this.drawSvgCanvas.createText(options, this.paginggroup, text);\n            if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                this.paginggroup.lastChild.setAttribute('dy', '0.6ex');\n            }\n            this.pagingRect = new Rect(textX, rightArrowY - textSize.height / 2, textSize.width, textSize.height);\n            var pagingTextRect = new RectOption(heatMap.element.id + '_pagingText', 'none', { color: 'transparent', width: 0 }, 1, this.pagingRect);\n            this.drawSvgCanvas.drawRectangle(pagingTextRect, this.paginggroup);\n            var rightArrowRect = new RectOption(heatMap.element.id + '_rightArrow', 'none', { color: 'transparent', width: 0 }, 1, new Rect(rightArrowX - iconSize, rightArrowY - iconSize / 2, iconSize, iconSize));\n            this.drawSvgCanvas.drawRectangle(rightArrowRect, this.paginggroup);\n            var rightArrow = 'M' + ' ' + (rightArrowX) + ' ' + rightArrowY + ' ' +\n                'L' + ' ' + (rightArrowX - iconSize) + ' ' + (rightArrowY - iconSize / 2) + ' ' + 'L' + ' ' +\n                (rightArrowX - iconSize) + ' ' + (rightArrowY + (iconSize / 2)) + 'Z';\n            var leftX = textX - 15;\n            var leftArrow = 'M' + ' ' + leftX + ' ' + rightArrowY + ' ' +\n                'L' + ' ' + (leftX + iconSize) + ' ' + (rightArrowY - iconSize / 2) + ' ' + 'L' + ' ' +\n                (leftX + iconSize) + ' ' + (rightArrowY + (iconSize / 2)) + 'Z';\n            var leftArrowRect = new RectOption(heatMap.element.id + '_leftArrow', 'none', { color: 'transparent', width: 0 }, 1, new Rect(leftX, rightArrowY - iconSize / 2, iconSize, iconSize));\n            this.drawSvgCanvas.drawRectangle(leftArrowRect, this.paginggroup);\n            var leftOption = new PathOption(heatMap.element.id + '_Legend_leftarrow', 'gray', 0.01, '#A0A0A0', 1, '0,0', leftArrow);\n            var rightOption = new PathOption(heatMap.element.id + '_Legend_rightarrow', 'gray', 0.01, '#A0A0A0', 1, '0,0', rightArrow);\n            this.navigationCollections.push(rightArrowRect);\n            this.navigationCollections.push(leftArrowRect);\n            if (!heatMap.enableCanvasRendering) {\n                var arrow = heatMap.renderer.drawPath(leftOption);\n                var rightarrow = heatMap.renderer.drawPath(rightOption);\n                this.paginggroup.appendChild(arrow);\n                this.paginggroup.appendChild(rightarrow);\n            }\n            else {\n                var canvasTranslate = void 0;\n                heatMap.canvasRenderer.drawPath(leftOption, canvasTranslate);\n                heatMap.canvasRenderer.drawPath(rightOption, canvasTranslate);\n            }\n        }\n    };\n    Legend.prototype.calculateGradientScale = function (scale) {\n        var heatMap = this.heatMap;\n        var padding = 10; // padding between legend bounds and gradient scale\n        var left;\n        var top;\n        var height;\n        var width;\n        var title = heatMap.legendSettings.title;\n        var titleSize = measureText(title.text, title.textStyle);\n        var titleHeight = heatMap.legendSettings.title.text ? titleSize.height : 0;\n        if (heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend) {\n            this.measureListLegendBound(heatMap.initialClipRect);\n        }\n        if (heatMap.horizontalGradient) {\n            left = scale.x + padding;\n            top = scale.y + this.legendRectPadding;\n            width = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                scale.width - (2 * this.listInterval) : scale.width - 2 * padding;\n            height = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                (this.legendSize + this.listInterval) * this.listPerPage - this.listInterval : this.gradientScaleSize;\n        }\n        else {\n            left = scale.x + this.legendRectPadding;\n            top = scale.y + padding + titleHeight;\n            width = (heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend) ?\n                scale.width - padding : this.gradientScaleSize;\n            height = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                (this.legendSize + this.listInterval) * this.listPerPage - this.listInterval :\n                scale.height - 2 * padding - titleHeight;\n        }\n        this.legendRectScale = new Rect(left, top, width, height);\n        if (heatMap.paletteSettings.type === 'Gradient' || heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend) {\n            this.calculateColorAxisGrid(this.legendRectScale);\n        }\n    };\n    Legend.prototype.calculateColorAxisGrid = function (legendRect) {\n        var heatMap = this.heatMap;\n        var rect = this.legendRectScale;\n        var legendPart;\n        var text;\n        var maxTextWrapLength = 0;\n        this.segmentCollectionsLabels = [];\n        this.segmentCollections = [];\n        this.textWrapCollections = [];\n        var pathX1;\n        var pathY1;\n        var colorCollection = heatMap.paletteSettings.type === 'Gradient' ?\n            heatMap.legendColorCollection : heatMap.colorCollection;\n        var minValue = heatMap.bubbleSizeWithColor ? heatMap.minColorValue : heatMap.dataSourceMinValue;\n        var maxValue = heatMap.bubbleSizeWithColor ? heatMap.maxColorValue : heatMap.dataSourceMaxValue;\n        this.legendMinValue = this.heatMap.isColorRange ? (colorCollection[0].startValue > heatMap.dataSourceMinValue) ?\n            heatMap.dataSourceMinValue : colorCollection[0].startValue : ((colorCollection[0].value > minValue) ? minValue :\n            colorCollection[0].value);\n        this.legendMaxValue = this.heatMap.isColorRange ? (colorCollection[colorCollection.length - 1].endValue <\n            heatMap.dataSourceMaxValue) ? heatMap.dataSourceMaxValue : colorCollection[colorCollection.length - 1].endValue :\n            (colorCollection[colorCollection.length - 1].value < maxValue ? maxValue : colorCollection[colorCollection.length - 1].value);\n        if (heatMap.paletteSettings.type === 'Gradient') {\n            for (var index = 0; index < colorCollection.length; index++) {\n                var value = void 0;\n                legendPart = (this.heatMap.isColorRange && heatMap.horizontalGradient ? rect.width : rect.height) / 100;\n                if (this.heatMap.isColorRange) {\n                    if (colorCollection[0].startValue !== this.heatMap.dataSourceMinValue && index === 0 &&\n                        colorCollection[0].startValue > this.heatMap.dataSourceMinValue) {\n                        value = (this.heatMap.dataSourceMinValue - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue) * 100;\n                        pathY1 = (heatMap.horizontalGradient ? legendRect.x : legendRect.y) + (legendPart * value);\n                        this.segmentCollections.push(pathY1);\n                    }\n                    value = ((((colorCollection[index].startValue < heatMap.dataSourceMinValue &&\n                        colorCollection[index].endValue >\n                            heatMap.dataSourceMaxValue) ? heatMap.dataSourceMinValue : colorCollection[index].startValue) -\n                        this.legendMinValue) / (this.legendMaxValue - this.legendMinValue)) * 100;\n                    value = isNaN(value) ? 0 : value;\n                    pathY1 = (heatMap.horizontalGradient ? legendRect.x : legendRect.y) + (legendPart * value);\n                    this.segmentCollections.push(pathY1);\n                    this.segmentCollectionsLabels.push(pathY1);\n                    if (colorCollection[index].endValue !== ((index === colorCollection.length - 1) ?\n                        this.heatMap.dataSourceMaxValue : colorCollection[index + 1].startValue) &&\n                        this.heatMap.legendColorCollection[index].endValue < this.heatMap.dataSourceMaxValue) {\n                        if (index === colorCollection.length - 1) {\n                            value = (colorCollection[index].endValue - this.legendMinValue) /\n                                (this.legendMaxValue - this.legendMinValue) * 100;\n                            pathY1 = (heatMap.horizontalGradient ? legendRect.x : legendRect.y) + (legendPart * value);\n                            this.segmentCollections.push(pathY1);\n                        }\n                        value = ((index === colorCollection.length - 1 ? this.heatMap.dataSourceMaxValue :\n                            colorCollection[index].endValue) - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue) * 100;\n                        pathY1 = (heatMap.horizontalGradient ? legendRect.x : legendRect.y) + (legendPart * value);\n                        this.segmentCollections.push(pathY1);\n                    }\n                }\n                else {\n                    value = ((colorCollection[index].value - this.legendMinValue) /\n                        (this.legendMaxValue - this.legendMinValue)) * 100;\n                    value = isNaN(value) ? 0 : value;\n                    if (!heatMap.horizontalGradient) {\n                        legendPart = rect.height / 100;\n                        pathY1 = legendRect.y + (legendPart * value);\n                        this.segmentCollections.push(pathY1);\n                    }\n                    else {\n                        legendPart = rect.width / 100;\n                        pathX1 = legendRect.x + (legendPart * value);\n                        this.segmentCollections.push(pathX1);\n                    }\n                }\n            }\n        }\n        var textWrapWidth;\n        if (heatMap.horizontalGradient) {\n            var segmentWidth = this.heatMap.isColorRange ? this.segmentCollectionsLabels : this.segmentCollections;\n            for (var i = 0; i < colorCollection.length; i++) {\n                if (heatMap.paletteSettings.type === 'Gradient') {\n                    var previousSegmentWidth = (segmentWidth[i] - segmentWidth[i - 1]) / 2;\n                    var nextSegmentWidth = (segmentWidth[i + 1] - segmentWidth[i]) / 2;\n                    if (i === colorCollection.length - 1) {\n                        textWrapWidth = this.heatMap.isColorRange ? (legendRect.width - segmentWidth[i - 1]) / 2 : previousSegmentWidth;\n                    }\n                    else if (i === 0) {\n                        textWrapWidth = nextSegmentWidth;\n                    }\n                    else {\n                        textWrapWidth = (previousSegmentWidth < nextSegmentWidth && !this.heatMap.isColorRange) ?\n                            previousSegmentWidth : nextSegmentWidth;\n                    }\n                }\n                else {\n                    var width = this.legendRectScale.width / heatMap.colorCollection.length;\n                    textWrapWidth = heatMap.legendSettings.labelDisplayType === 'Edge' ? width : width / 2;\n                }\n                this.textWrapCollections.push(textWrapWidth);\n                text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                maxTextWrapLength = text.length > maxTextWrapLength ? text.length : maxTextWrapLength;\n            }\n            if (heatMap.legendSettings.position === 'Bottom') {\n                heatMap.initialClipRect.height -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendGroup.y -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendRectScale.y = this.legendGroup.y + this.legendRectPadding;\n                this.legendGroup.height = parseInt(this.legendHeight, 10) + (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n            }\n            else {\n                heatMap.initialClipRect.y += (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                heatMap.initialClipRect.height -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendRectScale.y = this.legendGroup.y + this.legendRectPadding;\n                this.legendGroup.height = parseInt(this.legendHeight, 10) + (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n            }\n        }\n    };\n    Legend.prototype.renderColorAxisGrid = function (legendRect) {\n        var heatMap = this.heatMap;\n        var legendElement;\n        var pathX1;\n        var pathY1;\n        var pathX2;\n        var pathY2;\n        if (!heatMap.enableCanvasRendering) {\n            legendElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + '_ColorAxis_Grid' });\n        }\n        for (var i = 0; i < (heatMap.isColorRange ? this.segmentCollections.length : heatMap.legendColorCollection.length); i++) {\n            if (!heatMap.horizontalGradient) {\n                pathX1 = legendRect.x;\n                pathY1 = pathY2 = this.segmentCollections[i];\n                pathX2 = legendRect.x + legendRect.width;\n            }\n            else {\n                pathX1 = pathX2 = this.segmentCollections[i];\n                pathY1 = legendRect.y;\n                pathY2 = legendRect.y + legendRect.height;\n            }\n            var direction = new Line(pathX1, pathY1, pathX2, pathY2);\n            var line = new LineOption(this.heatMap.element.id + '_ColorAxis_Grid' + i, direction, '#EEEEEE', 1);\n            this.drawSvgCanvas.drawLine(line, legendElement);\n            if (!heatMap.enableCanvasRendering) {\n                this.legend.appendChild(legendElement);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendTitleTooltip = function (e, pageX, pageY) {\n        if (e.target.id.indexOf('_legendTitle') !== -1 && e.target.textContent.indexOf('...') > -1) {\n            showTooltip(this.heatMap.legendSettings.title.text, pageX, pageY, this.heatMap.element.offsetWidth, this.heatMap.element.id + '_legendTitle_Tooltip', getElement(this.heatMap.element.id + '_Secondary_Element'), null, this.heatMap);\n            document.getElementById(this.heatMap.element.id + '_legendTitle_Tooltip').style.visibility = 'visible';\n        }\n        else {\n            removeElement(this.heatMap.element.id + '_legendTitle_Tooltip');\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendLabelTooltip = function (e, pageX, pageY) {\n        if (e.target.id.indexOf('_Legend_Label') !== -1 && e.target.textContent.indexOf('...') > -1) {\n            var targetId = e.target.id.split(this.heatMap.element.id + '_Legend_Label');\n            if (targetId.length === 2) {\n                var index = void 0;\n                if (targetId[1].length === 1 || this.heatMap.legendSettings.textStyle.textOverflow === 'Trim') {\n                    index = parseInt(targetId[1], 10);\n                }\n                else {\n                    index = parseInt(targetId[1].substring(0, targetId[1].length - 1), 10);\n                }\n                showTooltip(this.labelCollections[index], pageX, pageY, this.heatMap.element.offsetWidth, this.heatMap.element.id + '_LegendLabel_Tooltip', getElement(this.heatMap.element.id + '_Secondary_Element'), null, this.heatMap);\n                document.getElementById(this.heatMap.element.id + '_LegendLabel_Tooltip').style.visibility = 'visible';\n            }\n        }\n        else {\n            removeElement(this.heatMap.element.id + '_LegendLabel_Tooltip');\n        }\n    };\n    Legend.prototype.calculateListPerPage = function (rect) {\n        var heatMap = this.heatMap;\n        if (heatMap.horizontalGradient) {\n            this.lastList = [];\n            var legendX = rect.x;\n            var legendY = rect.y;\n            var size = 0;\n            var division = 0;\n            var labelX = 0;\n            var labelY = 0;\n            var interval = 20;\n            var i = void 0;\n            var legendSize = 10;\n            var padding = 5;\n            this.labelXCollections = [];\n            this.labelYCollections = [];\n            this.legendXCollections = [];\n            this.legendYCollections = [];\n            for (i = 0; i < heatMap.colorCollection.length; i++) {\n                if (heatMap.legendSettings.showLabel) {\n                    var text = this.labelCollections[i];\n                    size = measureText(text, heatMap.legendSettings.textStyle).width;\n                }\n                labelX = legendX + legendSize + padding;\n                labelY = legendY + padding;\n                var maxWidth = heatMap.legendSettings.showLabel ? labelX + size : legendX + this.legendSize + this.listInterval;\n                if (i !== 0 && maxWidth > this.legendGroup.width + this.legendGroup.x - this.listInterval) {\n                    division += 1;\n                    legendX = rect.x;\n                    legendY = rect.y + (division * interval);\n                    labelX = legendX + legendSize + padding;\n                    labelY = legendY + padding;\n                    if (division % (this.listPerPage) === 0) {\n                        this.lastList.push(i);\n                        legendY = rect.y;\n                        labelY = legendY + padding;\n                        division = 0;\n                    }\n                }\n                this.labelXCollections.push(labelX);\n                this.labelYCollections.push(labelY);\n                this.legendXCollections.push(legendX);\n                this.legendYCollections.push(legendY);\n                legendX = legendX + this.legendSize + this.labelPadding + size + this.listInterval;\n            }\n            this.lastList.push(i);\n            this.numberOfPages = this.lastList.length;\n        }\n    };\n    Legend.prototype.renderListLegendMode = function (rect, translate) {\n        var heatMap = this.heatMap;\n        var legendSize = 10;\n        var tempBorder = {\n            color: 'transparent', width: 0\n        };\n        var padding = 5; // padding for legend label from top\n        this.legendLabelTooltip = [];\n        var listRect;\n        var size = new Size(0, 0);\n        var labelX = 0;\n        var labelY = 0;\n        var legendX = rect.x;\n        var legendY = rect.y;\n        if (translate) {\n            this.renderPagingElements();\n        }\n        var x;\n        var y;\n        var textWrapWidth = heatMap.legendSettings.title.text ? this.width - (2 * (this.legendSize + this.labelPadding)) :\n            this.legendGroup.width - (this.legendSize + this.legendRectPadding + this.labelPadding);\n        if (!heatMap.horizontalGradient) {\n            x = (this.currentPage * (this.listPerPage)) - (this.listPerPage);\n            y = x + this.listPerPage;\n            y = y < heatMap.colorCollection.length ? y : heatMap.colorCollection.length;\n        }\n        else {\n            x = this.currentPage === 1 ? 0 : this.lastList[this.currentPage - 2];\n            y = this.lastList[this.currentPage - 1];\n        }\n        for (var i = x; i < y; i++) {\n            if (heatMap.legendSettings.showLabel) {\n                var text = this.labelCollections[i];\n                size = measureText(text, heatMap.legendSettings.textStyle);\n            }\n            var legendEventArgs = {\n                cancel: false, text: this.labelCollection[i], name: 'legendRender'\n            };\n            if (heatMap.horizontalGradient) {\n                legendX = this.legendXCollections[i];\n                legendY = this.legendYCollections[i];\n                labelX = this.labelXCollections[i];\n                labelY = this.labelYCollections[i];\n            }\n            labelX = legendX + this.legendSize + this.labelPadding;\n            labelY = legendY + padding;\n            this.heatMap.trigger('legendRender', legendEventArgs);\n            if (translate && heatMap.rendering && this.legendRange.length <= heatMap.colorCollection.length) {\n                var rectPosition = new LegendRange(legendX, legendY, legendSize, legendSize, heatMap.colorCollection[i].value, true, this.currentPage);\n                rectPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                    this.visibilityCollections[i] : true;\n                if (!legendEventArgs.cancel) {\n                    this.legendRange.push(rectPosition);\n                }\n                else {\n                    var rectPosition_1 = new LegendRange(legendX, legendY, 0, 0, heatMap.colorCollection[i].value, true, this.currentPage);\n                    this.legendRange.push(rectPosition_1);\n                }\n                if (heatMap.legendSettings.showLabel) {\n                    var textPosition = new LegendRange(labelX, (labelY - size.height / 2), size.width, size.height, heatMap.colorCollection[i].value, true, this.currentPage);\n                    textPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                        this.visibilityCollections[i] : true;\n                    this.legendTextRange.push(textPosition);\n                }\n            }\n            if (!legendEventArgs.cancel) {\n                if (heatMap.legendSettings.showLabel) {\n                    var text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                    if (text[0].indexOf('...') !== -1 && heatMap.enableCanvasRendering) {\n                        this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(labelX, labelY, size.width, size.height)));\n                    }\n                    var textBasic = new TextBasic(labelX, labelY, 'start', text, 0, 'translate(0,0)', 'middle');\n                    var options = new TextOption(heatMap.element.id + '_Legend_Label' + i, textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n                    options.fill = heatMap.legendOnLoad ? options.fill : this.legendRange[i].visible ? options.fill : '#D3D3D3';\n                    this.drawSvgCanvas.createText(options, this.translategroup, text[0]);\n                    if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                        this.translategroup.lastChild.setAttribute('dy', '0.6ex');\n                    }\n                }\n                listRect = new Rect(legendX, legendY, legendSize, legendSize);\n                var listColor = heatMap.legendOnLoad ? this.heatMap.isColorRange ? heatMap.colorCollection[i].minColor :\n                    heatMap.colorCollection[i].color :\n                    this.legendRange[i].visible ? this.heatMap.isColorRange ? heatMap.colorCollection[i].minColor :\n                        heatMap.colorCollection[i].color : '#D3D3D3';\n                var rectItems = new RectOption(heatMap.element.id + '_legend_list' + i, listColor, tempBorder, 1, listRect);\n                this.drawSvgCanvas.drawRectangle(rectItems, this.translategroup);\n                if (heatMap.horizontalGradient) {\n                    legendX = legendX + this.legendSize + this.labelPadding + size.width + this.listInterval;\n                }\n                else {\n                    legendY += this.legendSize + this.listInterval;\n                }\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            this.legendGroup.height = this.legendGroup.height > 0 ? this.legendGroup.height : 0;\n            this.legendGroup.width = this.legendGroup.width > 0 ? this.legendGroup.width : 0;\n            var clippath = heatMap.renderer.createClipPath({ id: heatMap.element.id + '_LegendScale_ClipPath' });\n            var clipRect = heatMap.renderer.drawRectangle(this.legendGroup);\n            clippath.appendChild(clipRect);\n            this.translategroup.appendChild(clippath);\n            this.legend.style.cssText = 'clip-path:url(#' + clippath.id + ')';\n            this.legendScale.appendChild(this.translategroup);\n            heatMap.svgObject.appendChild(this.legend);\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.translatePage = function (heatMap, page, isNext) {\n        var padding = 5;\n        if ((isNext && page >= 1 && page < this.numberOfPages) || (!isNext && page > 1 && page <= this.numberOfPages)) {\n            if (isNext) {\n                this.currentPage += 1;\n                this.legendRect.y += this.legendRect.height;\n            }\n            else {\n                this.currentPage -= 1;\n                this.legendRect.y -= this.legendRect.height;\n            }\n            if (!heatMap.enableCanvasRendering) {\n                this.paginggroup.removeChild(this.paginggroup.firstChild);\n                while (this.translategroup.childNodes.length) {\n                    this.translategroup.removeChild(this.translategroup.firstChild);\n                }\n            }\n            else {\n                var ctx = heatMap.canvasRenderer.ctx;\n                ctx.fillRect(this.legendRectScale.x - padding, this.legendRectScale.y - padding, this.legendRectScale.width +\n                    padding, this.legendRectScale.height + (2 * padding));\n                ctx.fillRect(this.pagingRect.x, this.pagingRect.y, this.pagingRect.width, this.pagingRect.height);\n            }\n            this.renderListLegendMode(this.legendRectScale, true);\n        }\n        if (heatMap.enableCanvasRendering && heatMap.allowSelection && heatMap.rectSelected) {\n            var ctx = heatMap.secondaryCanvasRenderer.ctx;\n            var position = heatMap.legendSettings.position;\n            var initialRect = heatMap.initialClipRect;\n            var rectX = position === 'Right' ? initialRect.x + initialRect.width : 0;\n            var rectY = position === 'Bottom' ? initialRect.y + initialRect.height : 0;\n            var rectWidth = position === 'Right' ? heatMap.availableSize.width - (initialRect.x +\n                initialRect.width) : position === 'Left' ? initialRect.x : heatMap.availableSize.width;\n            var rectHeight = position === 'Top' ? initialRect.y : position === 'Bottom' ?\n                heatMap.availableSize.height - (initialRect.y + initialRect.height) : heatMap.availableSize.height;\n            ctx.save();\n            ctx.clearRect(rectX, rectY, rectWidth, rectHeight);\n            ctx.restore();\n            var oldCanvas = document.getElementById(heatMap.element.id + '_canvas');\n            var newCanvas = document.getElementById(heatMap.element.id + '_secondary_canvas');\n            var rectImage = oldCanvas.getContext('2d').getImageData(rectX, rectY, rectWidth, rectHeight);\n            newCanvas.getContext('2d').putImageData(rectImage, rectX, rectY);\n            oldCanvas.style.opacity = '0.3';\n        }\n    };\n    /**\n     * To create div container for tooltip which appears on hovering the smart legend.\n     *\n     * @param heatmap\n     * @private\n     */\n    Legend.prototype.createTooltipDiv = function () {\n        var element = createElement('div', {\n            id: this.heatMap.element.id + 'legendLabelTooltipContainer'\n        });\n        element.style.cssText = 'position: absolute; pointer-events: none;';\n        this.heatMap.element.appendChild(element);\n    };\n    /**\n     * To render tooltip for smart legend.\n     *\n     * @private\n     */\n    Legend.prototype.renderTooltip = function (currentLegendRect) {\n        var heatMap = this.heatMap;\n        var tempTooltipText = [currentLegendRect.label];\n        var offset = null;\n        offset = parseInt(heatMap.legendSettings.textStyle.size, 10) / 2;\n        this.tooltipObject = new tool({\n            offset: offset,\n            theme: heatMap.theme,\n            content: tempTooltipText,\n            location: {\n                x: currentLegendRect.x + (currentLegendRect.width / 2),\n                y: currentLegendRect.y + (currentLegendRect.height / 2)\n            },\n            inverted: heatMap.horizontalGradient ? false : true,\n            areaBounds: {\n                height: this.legendGroup.height + this.legendGroup.y,\n                width: this.legendGroup.width + this.legendGroup.x,\n                x: heatMap.legendSettings.position === 'Right' ? 0 : this.legendGroup.x,\n                y: heatMap.legendSettings.position === 'Top' ? heatMap.titleSettings.text === '' ? this.legendGroup.height -\n                    this.legendGroup.y : this.legendGroup.y : 0\n            }\n        }, '#' + this.heatMap.element.id + 'legendLabelTooltipContainer');\n        this.tooltipObject.element.style.visibility = 'visible';\n    };\n    /**\n     * To create tooltip for smart legend.\n     *\n     * @private\n     */\n    Legend.prototype.createTooltip = function (pageX, pageY) {\n        var currentLegendRect;\n        for (var i = 0; i < this.heatMap.colorCollection.length; i++) {\n            var position = this.legendRectPositionCollection[i];\n            if (position && pageX > position.x && pageX < position.width + position.x &&\n                pageY > position.y && pageY < position.height + position.y) {\n                currentLegendRect = this.legendRectPositionCollection[i];\n                break;\n            }\n        }\n        var ele = document.getElementById(this.heatMap.element.id + 'legendLabelTooltipContainer');\n        if (ele && ele.style.visibility === 'visible' && this.tooltipObject && !this.heatMap.isTouch) {\n            this.tooltipObject.fadeOut();\n            ele.style.visibility = 'hidden';\n        }\n        if (currentLegendRect) {\n            this.renderTooltip(currentLegendRect);\n        }\n    };\n    /**\n     * Toggle the visibility of cells based on legend selection\n     *\n     * @private\n     */\n    Legend.prototype.legendRangeSelection = function (index) {\n        var heatMap = this.heatMap;\n        var legendRange = this.legendRange;\n        var padding = 5;\n        var legendPadding = heatMap.horizontalGradient ? 10 : 0;\n        var legendBound = this.legendRectScale;\n        var ctx = heatMap.canvasRenderer.ctx;\n        heatMap.rangeSelection = true;\n        if (heatMap.enableCanvasRendering) {\n            var ctx_2 = heatMap.canvasRenderer.ctx;\n            if (heatMap.legendSettings.enableSmartLegend) {\n                ctx_2.fillRect(legendBound.x - padding, legendBound.y - padding, (legendBound.width + this.labelPadding +\n                    this.maxLegendLabelSize.width) + padding, legendBound.height + 2 * (padding + legendPadding));\n            }\n            else {\n                ctx_2.fillRect(legendBound.x - padding, legendBound.y - padding, legendBound.width +\n                    padding, legendBound.height + (2 * padding));\n            }\n        }\n        else {\n            if (heatMap.legendSettings.enableSmartLegend) {\n                while (this.legend && this.legend.childNodes.length) {\n                    this.legend.removeChild(this.legend.firstChild);\n                }\n            }\n            else {\n                while (this.translategroup && this.translategroup.childNodes.length) {\n                    this.translategroup.removeChild(this.translategroup.firstChild);\n                }\n            }\n            removeElement(heatMap.heatMapSeries.containerRectObject.id);\n            if (heatMap.cellSettings.showLabel) {\n                removeElement(heatMap.heatMapSeries.containerTextObject.id);\n            }\n        }\n        if (heatMap.legendSettings.enableSmartLegend) {\n            if (heatMap.colorCollection.length !== heatMap.legendColorCollection.length) {\n                if (index === heatMap.legendColorCollection.length - 1) {\n                    heatMap.toggleValue[index - 1].visible = this.visibilityCollections[index - 1] =\n                        legendRange[index - 1].visible = !legendRange[index].visible;\n                }\n                else {\n                    if (index === heatMap.colorCollection.length - 1) {\n                        heatMap.toggleValue[index + 1].visible = this.visibilityCollections[index + 1] =\n                            legendRange[index + 1].visible = !legendRange[index].visible;\n                    }\n                }\n            }\n        }\n        heatMap.toggleValue[index].visible = this.visibilityCollections[index] =\n            legendRange[index].visible = !legendRange[index].visible;\n        heatMap.legendOnLoad = false;\n        if (heatMap.legendSettings.enableSmartLegend) {\n            this.renderSmartLegend();\n            var rectItemsSvg = new Rect(legendBound.x, legendBound.y, legendBound.width, legendBound.height);\n            this.renderLegendLabel(rectItemsSvg);\n            if (heatMap.enableCanvasRendering) {\n                ctx.save();\n                ctx.clip();\n            }\n            if (heatMap.renderingMode === 'SVG') {\n                this.renderTitle(rectItemsSvg);\n            }\n        }\n        else {\n            this.renderListLegendMode(this.legendRectScale, false);\n        }\n        if (heatMap.enableCanvasRendering) {\n            ctx.restore();\n        }\n        heatMap.heatMapSeries.renderRectSeries();\n        heatMap.clearSelection();\n        if (heatMap.enableCanvasRendering && heatMap.allowSelection) {\n            // heatMap.createSvg();\n            // heatMap.refreshBound();\n            // heatMap.createMultiCellDiv(false);\n        }\n    };\n    /**\n     * update visibility collections of legend and series\n     *\n     * @private\n     */\n    Legend.prototype.updateLegendRangeCollections = function () {\n        var heatMap = this.heatMap;\n        heatMap.rangeSelection = !heatMap.legendOnLoad ? true : false;\n        this.visibilityCollections = !heatMap.legendOnLoad ? this.visibilityCollections : [];\n        heatMap.toggleValue = !heatMap.legendOnLoad ? heatMap.toggleValue : [];\n        this.legendRange = !heatMap.legendOnLoad ? this.legendRange : [];\n        this.legendTextRange = !heatMap.legendOnLoad ? this.legendTextRange : [];\n    };\n    return Legend;\n}());\nexport { Legend };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isNullOrUndefined, Complex } from '@syncfusion/ej2-base';\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { increaseDateTimeInterval } from '../utils/helper';\nimport { BubbleData } from '../model/base';\n/**\n * Configures the adaptor in the heatmap.\n */\nvar Data = /** @class */ (function (_super) {\n    __extends(Data, _super);\n    function Data() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], Data.prototype, \"isJsonData\", void 0);\n    __decorate([\n        Property('None')\n    ], Data.prototype, \"adaptorType\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"xDataMapping\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"yDataMapping\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"valueMapping\", void 0);\n    __decorate([\n        Complex({}, BubbleData)\n    ], Data.prototype, \"bubbleDataMapping\", void 0);\n    return Data;\n}(ChildProperty));\nexport { Data };\nvar AdaptiveMinMax = /** @class */ (function () {\n    function AdaptiveMinMax() {\n    }\n    return AdaptiveMinMax;\n}());\nexport { AdaptiveMinMax };\n/**\n *\n * The `Adaptor` module is used to handle JSON and Table data.\n */\nvar Adaptor = /** @class */ (function () {\n    function Adaptor(heatMap) {\n        this.reconstructedXAxis = [];\n        this.reconstructedYAxis = [];\n        this.adaptiveXMinMax = new AdaptiveMinMax();\n        this.adaptiveYMinMax = new AdaptiveMinMax();\n        this.heatMap = heatMap;\n    }\n    /**\n     * Method to construct Two Dimentional Datasource.\n     *\n     * @returns {void}\n     * @private\n     */\n    Adaptor.prototype.constructDatasource = function (dataSource, dataSourceSettings) {\n        if (dataSourceSettings.adaptorType === 'Cell') {\n            var xAxis = this.heatMap.xAxis;\n            var yAxis = this.heatMap.yAxis;\n            this.adaptiveXMinMax.min = xAxis.minimum;\n            this.adaptiveXMinMax.max = xAxis.maximum;\n            this.adaptiveYMinMax.min = yAxis.minimum;\n            this.adaptiveYMinMax.max = yAxis.maximum;\n            if (((xAxis.valueType === 'Numeric' || xAxis.valueType === 'DateTime') &&\n                (isNullOrUndefined(xAxis.minimum) || isNullOrUndefined(xAxis.maximum))) ||\n                ((yAxis.valueType === 'Numeric' || yAxis.valueType === 'DateTime') &&\n                    (isNullOrUndefined(yAxis.minimum) || isNullOrUndefined(yAxis.maximum)))) {\n                this.getMinMaxValue(dataSource, dataSourceSettings, xAxis, yAxis);\n            }\n            this.heatMap.isCellData = true;\n        }\n        if (dataSourceSettings.adaptorType === 'None') {\n            this.heatMap.completeAdaptDataSource = dataSource;\n        }\n        else if (!dataSourceSettings.isJsonData && dataSourceSettings.adaptorType === 'Table') {\n            this.heatMap.completeAdaptDataSource = dataSource;\n        }\n        else if (dataSourceSettings.isJsonData && dataSourceSettings.adaptorType === 'Table') {\n            this.heatMap.completeAdaptDataSource = this.processJsonTableData(dataSource, dataSourceSettings);\n        }\n        else if (dataSourceSettings.isJsonData && dataSourceSettings.adaptorType === 'Cell') {\n            this.heatMap.completeAdaptDataSource = this.processJsonCellData(dataSource, dataSourceSettings);\n        }\n        else if (!dataSourceSettings.isJsonData && dataSourceSettings.adaptorType === 'Cell') {\n            this.constructAdaptiveAxis();\n            this.heatMap.completeAdaptDataSource = this.processCellData(dataSource);\n            this.heatMap.isCellData = true;\n        }\n    };\n    /**\n     * Method to construct Axis Collection.\n     *\n     * @returns {void}\n     * @private\n     */\n    Adaptor.prototype.constructAdaptiveAxis = function () {\n        var xAxis = this.heatMap.xAxis;\n        var yAxis = this.heatMap.yAxis;\n        if (xAxis.valueType === 'Numeric') {\n            this.reconstructedXAxis = this.getNumericAxisCollection(this.adaptiveXMinMax.min, this.adaptiveXMinMax.max, xAxis.increment);\n        }\n        if (yAxis.valueType === 'Numeric') {\n            this.reconstructedYAxis = this.getNumericAxisCollection(this.adaptiveYMinMax.min, this.adaptiveYMinMax.max, yAxis.increment);\n        }\n        if (xAxis.valueType === 'DateTime') {\n            this.reconstructedXAxis = this.getDateAxisCollection(this.adaptiveXMinMax.min, this.adaptiveXMinMax.max, xAxis.intervalType, xAxis.increment);\n        }\n        if (yAxis.valueType === 'DateTime') {\n            this.reconstructedYAxis = this.getDateAxisCollection(this.adaptiveYMinMax.min, this.adaptiveYMinMax.max, yAxis.intervalType, yAxis.increment);\n        }\n    };\n    /**\n     * Method to calculate Numeric Axis Collection.\n     *\n     * @returns {string[]}\n     * @private\n     */\n    Adaptor.prototype.getNumericAxisCollection = function (min, max, increment) {\n        var loopIndex = min;\n        var tempAxisColl = [];\n        while (loopIndex <= max) {\n            tempAxisColl.push(loopIndex.toString());\n            loopIndex = loopIndex + increment;\n        }\n        return tempAxisColl;\n    };\n    /**\n     * Method to calculate DateTime Axis Collection.\n     *\n     * @returns {string[]}\n     * @private\n     */\n    Adaptor.prototype.getDateAxisCollection = function (min, max, intervalType, increment) {\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = this.heatMap.intl.getDateParser(option);\n        var dateFormatter = this.heatMap.intl.getDateFormat(option);\n        min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: min }).val))));\n        var tempInterval = min;\n        var tempAxisColl = [];\n        while (tempInterval <= max) {\n            tempAxisColl.push(new Date(tempInterval).toString());\n            tempInterval = increaseDateTimeInterval(tempInterval, 1, intervalType, increment).getTime();\n        }\n        return tempAxisColl;\n    };\n    /**\n     * Method to calculate Maximum and Minimum Value from datasource.\n     *\n     * @returns {void}\n     * @private\n     */\n    Adaptor.prototype.getMinMaxValue = function (dataSource, adapData, xAxis, yAxis) {\n        var data = dataSource;\n        var label = Object.keys(data[0]);\n        if (data.length > 0) {\n            this.adaptiveXMinMax.min = !isNullOrUndefined(xAxis.minimum) ? xAxis.minimum : adapData.isJsonData ?\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                data[0][label[0]] : data[0][0];\n            this.adaptiveYMinMax.min = !isNullOrUndefined(yAxis.minimum) ? yAxis.minimum : adapData.isJsonData ?\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                data[0][label[1]] : data[0][1];\n            this.adaptiveXMinMax.max = !isNullOrUndefined(xAxis.maximum) ? xAxis.maximum : adapData.isJsonData ?\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                data[0][label[0]] : data[0][0];\n            this.adaptiveYMinMax.max = !isNullOrUndefined(yAxis.maximum) ? yAxis.maximum : adapData.isJsonData ?\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                data[0][label[1]] : data[0][1];\n        }\n        for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var xDataIndex = adapData.isJsonData ? data[dataIndex][label[0]] : data[dataIndex][0];\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var yDataIndex = adapData.isJsonData ? data[dataIndex][label[1]] : data[dataIndex][1];\n            if (xDataIndex < this.adaptiveXMinMax.min && isNullOrUndefined(xAxis.minimum)) {\n                this.adaptiveXMinMax.min = xDataIndex;\n            }\n            if (xDataIndex > this.adaptiveXMinMax.max && isNullOrUndefined(xAxis.maximum)) {\n                this.adaptiveXMinMax.max = xDataIndex;\n            }\n            if (yDataIndex < this.adaptiveYMinMax.min && isNullOrUndefined(yAxis.minimum)) {\n                this.adaptiveYMinMax.min = yDataIndex;\n            }\n            if (yDataIndex > this.adaptiveYMinMax.max && isNullOrUndefined(yAxis.maximum)) {\n                this.adaptiveYMinMax.max = yDataIndex;\n            }\n        }\n    };\n    /**\n     * Method to process Cell datasource.\n     *\n     * @returns {Object}\n     * @private\n     */\n    Adaptor.prototype.processCellData = function (dataSource) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempDataCollection = dataSource;\n        var xLabels = this.reconstructedXAxis;\n        var yLabels = this.reconstructedYAxis;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        this.reconstructData = [];\n        if (tempDataCollection && tempDataCollection.length) {\n            for (var xindex = 0; xindex < tempDataCollection.length; xindex++) {\n                if (this.heatMap.xAxis.valueType === 'Category') {\n                    currentDataXIndex = tempDataCollection[xindex][0];\n                }\n                else {\n                    currentDataXIndex = xLabels.indexOf(tempDataCollection[xindex][0].toString());\n                }\n                if (currentDataXIndex > -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    if (this.heatMap.yAxis.valueType === 'Category') {\n                        currentDataYIndex = tempDataCollection[xindex][1];\n                    }\n                    else {\n                        currentDataYIndex = yLabels.indexOf(tempDataCollection[xindex][1].toString());\n                    }\n                    if (currentDataYIndex !== -1) {\n                        while (this.reconstructData[currentDataXIndex][currentDataYIndex] !== '') {\n                            this.reconstructData[currentDataXIndex].push('');\n                        }\n                        this.reconstructData[currentDataXIndex][currentDataYIndex] =\n                            isNullOrUndefined(tempDataCollection[xindex][2]) ?\n                                '' : tempDataCollection[xindex][2];\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * Method to process JSON Cell datasource.\n     *\n     * @returns {Object}\n     * @private\n     */\n    Adaptor.prototype.processJsonCellData = function (dataSource, adaptordata) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempDataCollection = dataSource;\n        var xAxisLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yAxisLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var axisCollections = this.heatMap.axisCollections;\n        if (xAxisLabels.length === 0 || yAxisLabels.length === 0) {\n            this.generateAxisLabels(dataSource, adaptordata);\n        }\n        var xLabels = (this.heatMap.xAxis.valueType === 'Category') ? (xAxisLabels.length > 0 ?\n            this.heatMap.xAxis.labels : axisCollections[0].jsonCellLabel) : axisCollections[0].labelValue;\n        var yLabels = (this.heatMap.yAxis.valueType === 'Category') ? (yAxisLabels.length > 0 ?\n            this.heatMap.yAxis.labels : axisCollections[1].jsonCellLabel) : axisCollections[1].labelValue;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var index = 0; index < tempDataCollection.length; index++) {\n                currentDataXIndex = this.getSplitDataValue(tempDataCollection[index], adaptordata, xLabels, adaptordata.xDataMapping.split('.'), this.heatMap.xAxis.valueType);\n                if (currentDataXIndex !== -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    currentDataYIndex = this.getSplitDataValue(tempDataCollection[index], adaptordata, yLabels, adaptordata.yDataMapping.split('.'), this.heatMap.yAxis.valueType);\n                    if (currentDataYIndex !== -1) {\n                        while (isNullOrUndefined(this.reconstructData[currentDataXIndex][currentDataYIndex])) {\n                            this.reconstructData[currentDataXIndex].push('');\n                        }\n                        if (this.heatMap.bubbleSizeWithColor) {\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] = [\n                                this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.bubbleDataMapping.size.split('.'), ''),\n                                this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.bubbleDataMapping.color.split('.'), '')\n                            ];\n                        }\n                        else {\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] = this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.valueMapping.split('.'), '');\n                        }\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * Method to generate axis labels when labels are not given.\n     *\n     * @returns {string}\n     * @private\n     */\n    Adaptor.prototype.generateAxisLabels = function (dataSource, adaptordata) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempDataCollection = dataSource;\n        var xLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var hasXLabels = xLabels.length > 0 ? true : false;\n        var hasYLabels = yLabels.length > 0 ? true : false;\n        var axisCollection = this.heatMap.axisCollections;\n        for (var index = 0; index < axisCollection.length; index++) {\n            var valueType = axisCollection[index].valueType;\n            var axis = axisCollection[index];\n            if (valueType === 'Category') {\n                var hasLabels = void 0;\n                var dataMapping = void 0;\n                var labels = void 0;\n                if (axis.orientation === 'Horizontal') {\n                    hasLabels = hasXLabels;\n                    dataMapping = adaptordata.xDataMapping;\n                    axis.jsonCellLabel = labels = [];\n                }\n                else {\n                    hasLabels = hasYLabels;\n                    dataMapping = adaptordata.yDataMapping;\n                    axis.jsonCellLabel = labels = [];\n                }\n                if (!hasLabels) {\n                    for (var i = 0; i < tempDataCollection.length; i++) {\n                        if (dataMapping in tempDataCollection[i]) {\n                            var xValue = tempDataCollection[i][dataMapping].toString();\n                            if (labels.indexOf(xValue.toString()) === -1) {\n                                labels.push(xValue);\n                            }\n                        }\n                    }\n                }\n            }\n            else if (valueType === 'DateTime') {\n                axis.clearAxisLabel();\n                axis.calculateDateTimeAxisLabel(this.heatMap);\n            }\n            else {\n                axis.clearAxisLabel();\n                axis.calculateNumericAxisLabels(this.heatMap);\n            }\n        }\n    };\n    /**\n     * Method to get data from complex mapping.\n     *\n     * @returns {number|string}\n     * @private\n     */\n    Adaptor.prototype.getSplitDataValue = function (\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    tempSplitDataCollection, adaptordata, labels, tempSplitData, valueType) {\n        var value = -1;\n        this.tempSplitDataCollection = tempSplitDataCollection;\n        for (var splitIndex = 0; splitIndex < tempSplitData.length; splitIndex++) {\n            value = !isNullOrUndefined(labels) ? (!(valueType === 'DateTime') ?\n                labels.indexOf(this.tempSplitDataCollection[tempSplitData[splitIndex]]) :\n                // eslint-disable-next-line max-len\n                labels.map(Number).indexOf(+new Date(this.tempSplitDataCollection[tempSplitData[splitIndex]]).setHours(0, 0, 0, 0))) : null;\n            if (!isNullOrUndefined(this.tempSplitDataCollection)) {\n                this.tempSplitDataCollection = value !== -1 && !isNullOrUndefined(labels) ?\n                    this.tempSplitDataCollection : this.tempSplitDataCollection[tempSplitData[splitIndex]];\n            }\n            if (isNullOrUndefined(this.tempSplitDataCollection)) {\n                break;\n            }\n        }\n        value = !isNullOrUndefined(labels) ? value : isNullOrUndefined(this.tempSplitDataCollection) ||\n            this.tempSplitDataCollection.toString() === '' ? '' : parseFloat(this.tempSplitDataCollection.toString());\n        return value;\n    };\n    /**\n     * Method to process JSON Table datasource.\n     *\n     * @returns {Object}\n     * @private\n     */\n    Adaptor.prototype.processJsonTableData = function (dataSource, adaptordata) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempDataCollection = dataSource;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        var xLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var key;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var xindex = 0; xindex < tempDataCollection.length; xindex++) {\n                currentDataXIndex = this.getSplitDataValue(tempDataCollection[xindex], adaptordata, xLabels, adaptordata.xDataMapping.split('.'), this.heatMap.xAxis.valueType);\n                if (currentDataXIndex !== -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    for (var index = 0; index < Object.keys(this.tempSplitDataCollection).length; index++) {\n                        key = Object.keys(this.tempSplitDataCollection)[index];\n                        currentDataYIndex = key !== adaptordata.xDataMapping ? yLabels.indexOf(key) : -1;\n                        if (currentDataYIndex !== -1) {\n                            while (isNullOrUndefined(this.reconstructData[currentDataXIndex][currentDataYIndex])) {\n                                this.reconstructData[currentDataXIndex].push('');\n                            }\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] =\n                                isNullOrUndefined(this.tempSplitDataCollection[key]) ?\n                                    '' : this.tempSplitDataCollection[key];\n                        }\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * To destroy the Adaptor.\n     *\n     * @returns {void}\n     * @private\n     */\n    Adaptor.prototype.destroy = function () {\n        /**\n         * No Lines\n         */\n    };\n    /**\n     * To get Module name\n     */\n    Adaptor.prototype.getModuleName = function () {\n        return 'Adaptor';\n    };\n    return Adaptor;\n}());\nexport { Adaptor };\n","import { createElement, isNullOrUndefined, Browser, print as printWindow } from '@syncfusion/ej2-base';\nimport { PdfPageOrientation, PdfDocument, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { removeElement } from '../utils/helper';\nimport { SizeF } from '@syncfusion/ej2-pdf-export';\nvar ExportUtils = /** @class */ (function () {\n    /**\n     * Constructor for Heatmap\n     *\n     * @param  {HeatMap} control - specifies the control\n     *\n     */\n    function ExportUtils(control) {\n        this.control = control;\n    }\n    /**\n     * To export the file as image/svg format\n     *\n     * @param type\n     * @param fileName\n     * @private\n     */\n    ExportUtils.prototype.export = function (type, fileName, orientation) {\n        var _this = this;\n        var controlValue = this.getControlsValue();\n        var width = controlValue.width;\n        var height = controlValue.height;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var element = this.control.svgObject;\n        var url;\n        var isCanvas = this.control.enableCanvasRendering;\n        var image;\n        if (!isCanvas) {\n            element = createElement('canvas', {\n                id: 'ej2-canvas',\n                attrs: {\n                    'width': width.toString(),\n                    'height': height.toString()\n                }\n            });\n        }\n        var isDownload = !(Browser.userAgent.toString().indexOf('HeadlessChrome') > -1);\n        orientation = isNullOrUndefined(orientation) ? PdfPageOrientation.Landscape : orientation;\n        var svgData = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">' +\n            controlValue.svg.outerHTML +\n            '</svg>';\n        if (!isCanvas) {\n            var exportElement = this.control.svgObject.cloneNode(true);\n            var backgroundElement = exportElement.childNodes[0];\n            var backgroundColor = backgroundElement.getAttribute('fill');\n            if ((this.control.theme === 'Tailwind' || this.control.theme === 'Bootstrap5' || this.control.theme === 'Fluent' || this.control.theme === 'Material3') && (backgroundColor === 'rgba(255,255,255, 0.0)' || backgroundColor === 'transparent')) {\n                backgroundElement.setAttribute('fill', 'rgba(255,255,255, 1)');\n            }\n            else if ((this.control.theme === 'TailwindDark' || this.control.theme === 'Bootstrap5Dark' || this.control.theme === 'FluentDark' || this.control.theme === 'Material3Dark') && (backgroundColor === 'rgba(255,255,255, 0.0)' || backgroundColor === 'transparent')) {\n                backgroundElement.setAttribute('fill', 'rgba(0, 0, 0, 1)');\n            }\n            url = window.URL.createObjectURL(new Blob(type === 'SVG' ? [svgData] :\n                [(new XMLSerializer()).serializeToString(exportElement)], { type: 'image/svg+xml' }));\n        }\n        else {\n            url = element.toDataURL('image/png');\n        }\n        if (type === 'SVG') {\n            if (Browser.info.name === 'msie') {\n                var svg = new Blob([(new XMLSerializer()).serializeToString(controlValue.svg)], { type: 'application/octet-stream' });\n                window.navigator.msSaveOrOpenBlob(svg, fileName + '.' + type.toLocaleLowerCase());\n            }\n            else {\n                this.triggerDownload(fileName, type, url, isDownload);\n            }\n        }\n        else if (Browser.info.name === 'msie') {\n            var canvas = element;\n            if (!isCanvas) {\n                canvas = this.createCanvas();\n            }\n            image = canvas.toDataURL(type);\n            if (type === 'PDF') {\n                this.exportPdf(canvas, orientation, width, height, isDownload, fileName);\n            }\n            else {\n                this.doExport(type, image, fileName);\n            }\n        }\n        else {\n            var image_1 = new Image();\n            var ctx_1 = element.getContext('2d');\n            var backgroundColor_1 = ctx_1.shadowColor;\n            image_1.onload = (function () {\n                if ((_this.control.theme === 'Tailwind' || _this.control.theme === 'Bootstrap5' || _this.control.theme === 'Fluent' || _this.control.theme === 'Material3') && (backgroundColor_1 === 'rgba(0, 0, 0, 0)' || backgroundColor_1 === 'transparent')) {\n                    ctx_1.fillStyle = 'rgba(255,255,255, 1)';\n                }\n                else if ((_this.control.theme === 'TailwindDark' || _this.control.theme === 'Bootstrap5Dark' || _this.control.theme === 'FluentDark' || _this.control.theme === 'Material3Dark') && (backgroundColor_1 === 'rgba(0, 0, 0, 0)' || backgroundColor_1 === 'transparent')) {\n                    ctx_1.fillStyle = 'rgba(0, 0, 0, 1)';\n                }\n                ctx_1.fillRect(0, 0, element.width, element.height);\n                ctx_1.drawImage(image_1, 0, 0);\n                window.URL.revokeObjectURL(url);\n                if (type === 'PDF') {\n                    _this.exportPdf(element, orientation, width, height, isDownload, fileName);\n                }\n                else {\n                    if (window.navigator.msSaveOrOpenBlob) {\n                        window.navigator.msSaveOrOpenBlob(element.msToBlob(), fileName + '.' + type.toLocaleLowerCase());\n                    }\n                    else {\n                        _this.triggerDownload(fileName, type, element.toDataURL('image/png').replace('image/png', 'image/octet-stream'), isDownload);\n                    }\n                }\n            });\n            image_1.src = url;\n        }\n        if (!isCanvas) {\n            var id = document.getElementById(this.control.element.id);\n            removeElement(id + '_canvas');\n        }\n    };\n    /**\n     * To trigger the download element\n     *\n     * @param fileName\n     * @param type\n     * @param url\n     * @private\n     */\n    ExportUtils.prototype.triggerDownload = function (fileName, type, url, isDownload) {\n        createElement('a', {\n            attrs: {\n                'download': fileName + '.' + type.toLocaleLowerCase(),\n                'href': url\n            }\n        }).dispatchEvent(new MouseEvent(isDownload ? 'click' : 'move', {\n            view: window,\n            bubbles: false,\n            cancelable: true\n        }));\n    };\n    /**\n     * To get the maximum size value\n     *\n     * @param controls\n     * @param name\n     */\n    ExportUtils.prototype.getControlsValue = function () {\n        var width = 0;\n        var height = 0;\n        var isCanvas = this.control.enableCanvasRendering;\n        var svgObject = new SvgRenderer('').createSvg({\n            id: 'Svg_Export_Element',\n            width: 200, height: 200\n        });\n        var svg = this.control.svgObject.cloneNode(true);\n        var groupEle = this.control.renderer.createGroup({});\n        groupEle.style.cssText = 'transform: translateY(' + height + 'px)';\n        if (!isCanvas) {\n            groupEle.appendChild(svg);\n        }\n        width = Math.max(this.control.availableSize.width, width);\n        height = height + this.control.availableSize.height;\n        if (!isCanvas) {\n            svgObject.appendChild(groupEle);\n        }\n        if (!isCanvas) {\n            svgObject.setAttribute('width', width + '');\n            svgObject.setAttribute('height', height + '');\n        }\n        return {\n            'width': width,\n            'height': height,\n            'svg': svgObject\n        };\n    };\n    ExportUtils.prototype.createCanvas = function () {\n        var heatmap = this.control;\n        var renderMode = heatmap.renderingMode;\n        heatmap.renderingMode = 'Canvas';\n        heatmap.refresh();\n        var canvas = heatmap.svgObject;\n        heatmap.renderingMode = renderMode;\n        heatmap.refresh();\n        return canvas;\n    };\n    ExportUtils.prototype.exportPdf = function (element, orientation, width, height, isDownload, fileName) {\n        var document = new PdfDocument();\n        var margin = document.pageSettings.margins;\n        var pdfDefaultWidth = document.pageSettings.width;\n        var pdfDefaultHeight = document.pageSettings.height;\n        var imageString = element.toDataURL('image/jpeg').replace('image/jpeg', 'image/octet-stream');\n        document.pageSettings.orientation = orientation;\n        var exactWidth = (pdfDefaultWidth < width) ? (width + margin.left + margin.right) : pdfDefaultWidth;\n        var exactHeight = (pdfDefaultHeight < height) ? (height + margin.top + margin.bottom) : pdfDefaultHeight;\n        document.pageSettings.size = new SizeF(exactWidth, exactHeight);\n        imageString = imageString.slice(imageString.indexOf(',') + 1);\n        document.pages.add().graphics.drawImage(new PdfBitmap(imageString), 0, 0, width, height);\n        if (isDownload) {\n            document.save(fileName + '.pdf');\n            document.destroy();\n        }\n    };\n    ExportUtils.prototype.doExport = function (type, image, fileName) {\n        var images = [];\n        var fileType = type || 'JPG';\n        images = [image];\n        this.exportImage(images, fileName, fileType, image);\n    };\n    ExportUtils.prototype.exportImage = function (images, fileName, fileType, image) {\n        var buffers = [];\n        var length = (!(images instanceof HTMLElement)) ? images.length : 0;\n        for (var g = 0; g < length; g++) {\n            image = images[g];\n            image = image.replace(/^data:[a-z]*;,/, '');\n            var image1 = image.split(',');\n            var byteString = atob(image1[1]);\n            var buffer = new ArrayBuffer(byteString.length);\n            var intArray = new Uint8Array(buffer);\n            for (var i = 0; i < byteString.length; i++) {\n                intArray[i] = byteString.charCodeAt(i);\n            }\n            buffers.push(buffer);\n        }\n        for (var j = 0; j < buffers.length; j++) {\n            var b = new Blob([buffers[j]], { type: 'application/octet-stream' });\n            if (Browser.info.name === 'msie') {\n                window.navigator.msSaveOrOpenBlob(b, fileName + '.' + fileType.toLocaleLowerCase());\n            }\n        }\n    };\n    /**\n     * To print the heatmap elements.\n     *\n     * @param elements\n     * @private\n     */\n    ExportUtils.prototype.print = function () {\n        this.printWindow = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n        this.printWindow.moveTo(0, 0);\n        this.printWindow.resizeTo(screen.availWidth, screen.availHeight);\n        if (this.control.renderingMode === 'SVG') {\n            printWindow(this.getHTMLContent(), this.printWindow);\n        }\n        else {\n            var element = this.control.svgObject;\n            var dataUrl = element.toDataURL();\n            var image_2 = new Image();\n            var ctx_2 = element.getContext('2d');\n            image_2.onload = (function () {\n                ctx_2.drawImage(image_2, 0, 0);\n            });\n            image_2.src = dataUrl;\n            printWindow(image_2, this.printWindow);\n        }\n    };\n    /**\n     * To get the html string of the heatmap.\n     *\n     * @param elements\n     * @private\n     */\n    ExportUtils.prototype.getHTMLContent = function () {\n        var div = createElement('div');\n        div.appendChild(this.control.element.cloneNode(true));\n        return div;\n    };\n    return ExportUtils;\n}());\nexport { ExportUtils };\n","/**\n * Heat Map Component\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, NotifyPropertyChanges, Internationalization, Complex, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { remove, Event, EventHandler, Touch } from '@syncfusion/ej2-base';\n// eslint-disable-next-line\nimport { Browser } from '@syncfusion/ej2-base';\nimport { SvgRenderer, CanvasRenderer } from '@syncfusion/ej2-svg-base';\nimport { Size, stringToNumber, RectOption, Rect, TextBasic, measureText, removeMeasureElement } from './utils/helper';\nimport { DrawSvgCanvas, TextOption, titlePositionX, getTitle, showTooltip, getElement, SelectedCellDetails } from './utils/helper';\nimport { removeElement, CanvasTooltip, getTooltipText } from './utils/helper';\nimport { Margin, Title } from './model/base';\nimport { Theme, getThemeColor } from './model/theme';\nimport { Axis } from './axis/axis';\nimport { AxisHelper } from './axis/axis-helpers';\nimport { Series, CellSettings } from './series/series';\nimport { PaletteSettings, CellColor } from './utils/colorMapping';\nimport { TooltipSettings } from './utils/tooltip';\nimport { TwoDimensional } from './datasource/twodimensional';\nimport { LegendSettings } from '../heatmap/legend/legend';\nimport { Data } from './datasource/adaptor';\nimport { ExportUtils } from '../heatmap/utils/export';\n/**\n * Represents the heatmap control. This is used to customize the properties of the heatmap in order to visualize two-dimensional data, with values represented by gradient or solid color variations.\n * ```html\n * <div id=\"container\"/>\n * <script>\n *   var heatmapObj = new HeatMap();\n *   heatmapObj.appendTo(\"#container\");\n * </script>\n * ```\n */\nvar HeatMap = /** @class */ (function (_super) {\n    __extends(HeatMap, _super);\n    function HeatMap() {\n        /**\n         * Sets and gets the width of the heatmap. The width of the heatmap accepts pixel or percentage values given in string format.\n         *\n         * If specified as '100%, heatmap renders to the full width of its parent element.\n         *\n         * @default null\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.enableCanvasRendering = false;\n        /** @private */\n        _this.isColorRange = false;\n        /** @private */\n        _this.isCellTapHold = false;\n        /** @private */\n        _this.selectedCellCount = 0;\n        /** @private */\n        _this.toggleValue = [];\n        /** @private */\n        _this.legendOnLoad = true;\n        /** @private */\n        _this.resizing = false;\n        /** @private */\n        _this.rendering = true;\n        /** @private */\n        _this.multiSelection = false;\n        /** @private */\n        _this.rectSelected = false;\n        /** @private */\n        _this.previousSelectedCellsRect = [];\n        /** @private */\n        _this.multiCellCollection = [];\n        /** @private */\n        _this.selectedMultiCellCollection = [];\n        /** @private */\n        _this.tempMultiCellCollection = [];\n        /**\n         * @private\n         */\n        _this.tooltipCollection = [];\n        /**\n         * @private\n         */\n        _this.isCellData = false;\n        return _this;\n    }\n    HeatMap.prototype.preRender = function () {\n        this.initPrivateVariable();\n        this.unWireEvents();\n        this.wireEvents();\n    };\n    /**\n     * This method is used to perform the export functionality for the heatmap.\n     *\n     * @param {ExportType} type - Specifies the type of the exported file.\n     * @param {string} fileName - Specifies the file name for the exported file.\n     * @param {PdfPageOrientation} orientation - Specifies the orientation for the exported PDF document.\n     */\n    HeatMap.prototype.export = function (type, fileName, orientation) {\n        var exportMap = new ExportUtils(this);\n        exportMap.export(type, fileName, orientation);\n    };\n    HeatMap.prototype.initPrivateVariable = function () {\n        this.renderer = new SvgRenderer(this.element.id);\n        this.canvasRenderer = new CanvasRenderer(this.element.id);\n        this.secondaryCanvasRenderer = new CanvasRenderer(this.element.id + '_secondary');\n        this.heatMapAxis = new AxisHelper(this);\n        this.heatMapSeries = new Series(this);\n        this.drawSvgCanvas = new DrawSvgCanvas(this);\n        this.twoDimensional = new TwoDimensional(this);\n        this.cellColor = new CellColor(this);\n        this.tempRectHoverClass = '';\n        this.tempTooltipRectId = '';\n        this.setCulture();\n    };\n    /**\n     * Method to set culture for heatmap\n     */\n    HeatMap.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n    };\n    HeatMap.prototype.render = function () {\n        this.horizontalGradient = this.legendSettings.position === 'Bottom' || this.legendSettings.position === 'Top';\n        this.updateBubbleHelperProperty();\n        this.trigger('load', { heatmap: this });\n        if (this.theme === 'TailwindDark' || this.theme === 'Tailwind') {\n            var textSettings = { title: { textStyle: { size: '12px', fontFamily: 'Inter', fontWeight: '500' } }, textStyle: { size: '12px', fontFamily: 'Inter' } };\n            this.setProperties({ titleSettings: { textStyle: { size: '14px', fontFamily: 'Inter' } } }, true);\n            this.setProperties({ legendSettings: textSettings }, true);\n            this.setProperties({ xAxis: textSettings }, true);\n            this.setProperties({ yAxis: textSettings }, true);\n            this.setProperties({ cellSettings: { textStyle: { fontFamily: 'Inter' } } }, true);\n        }\n        if (this.theme === 'Material3' || this.theme === 'Material3Dark') {\n            var textSettings = { title: { textStyle: { size: '14px', fontFamily: 'Roboto', fontWeight: '500' } }, textStyle: { size: '12px', fontFamily: 'Roboto', fontWeight: '400' } };\n            this.setProperties({ titleSettings: { textStyle: { size: '16px', fontFamily: 'Roboto' } } }, true);\n            this.setProperties({ legendSettings: textSettings }, true);\n            this.setProperties({ xAxis: textSettings }, true);\n            this.setProperties({ yAxis: textSettings }, true);\n            this.setProperties({ cellSettings: { textStyle: { fontFamily: 'Roboto', fontWeight: '400' } } }, true);\n        }\n        if (this.theme === 'Bootstrap5' || this.theme === 'Bootstrap5Dark') {\n            var textSettings = { title: { textStyle: { size: '12px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"', fontWeight: '500' } }, textStyle: { size: '12px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } };\n            this.setProperties({ titleSettings: { textStyle: { size: '16px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } } }, true);\n            this.setProperties({ legendSettings: textSettings }, true);\n            this.setProperties({ xAxis: textSettings }, true);\n            this.setProperties({ yAxis: textSettings }, true);\n            this.setProperties({ cellSettings: { textStyle: { fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } } }, true);\n        }\n        if (this.theme === 'Fluent' || this.theme === 'FluentDark') {\n            var textSettings = { title: { textStyle: { size: '12px', fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif', fontWeight: '500' } }, textStyle: { size: '12px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } };\n            this.setProperties({ titleSettings: { textStyle: { size: '16px', fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif' } } }, true);\n            this.setProperties({ legendSettings: textSettings }, true);\n            this.setProperties({ xAxis: textSettings }, true);\n            this.setProperties({ yAxis: textSettings }, true);\n            this.setProperties({ cellSettings: { textStyle: { fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif' } } }, true);\n        }\n        this.initAxis();\n        this.processInitData();\n        this.setTheme();\n        this.calculateMaxLength();\n        this.heatMapAxis.calculateVisibleLabels();\n        this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n        this.createSvg();\n        this.cellColor.getColorCollection();\n        this.calculateBounds();\n        this.renderElements();\n        this.appendSvgObject();\n        if (this.tooltipModule) {\n            this.tooltipModule.showHideTooltip(false);\n        }\n        this.renderComplete();\n    };\n    /**\n     * To re-calculate the datasource while changing datasource property dynamically.\n     *\n     * @private\n     */\n    HeatMap.prototype.reRenderDatasource = function () {\n        this.dataSourceMinValue = null;\n        this.dataSourceMaxValue = null;\n        this.processInitData();\n        this.calculateMaxLength();\n        this.heatMapAxis.calculateVisibleLabels();\n        this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n        this.cellColor.getColorCollection();\n        this.calculateBounds();\n    };\n    /**\n     * To process datasource property.\n     *\n     * @private\n     */\n    HeatMap.prototype.processInitData = function () {\n        if (this.adaptorModule) {\n            this.adaptorModule.constructDatasource(this.dataSource, this.dataSourceSettings);\n        }\n        else {\n            this.completeAdaptDataSource = this.dataSource;\n        }\n    };\n    /**\n     * To set render mode of heatmap as SVG or Canvas.\n     *\n     * @private\n     */\n    HeatMap.prototype.setRenderMode = function () {\n        if (this.renderingMode === 'Canvas') {\n            this.enableCanvasRendering = true;\n        }\n        else if (this.renderingMode === 'Auto' &&\n            (this.axisCollections[0].axisLabelSize * this.axisCollections[1].axisLabelSize) >= 10000) {\n            this.enableCanvasRendering = true;\n        }\n        else {\n            this.enableCanvasRendering = false;\n        }\n    };\n    /**\n     * To set bubble helper private property.\n     *\n     * @private\n     */\n    HeatMap.prototype.updateBubbleHelperProperty = function () {\n        if (this.cellSettings.tileType === 'Bubble' &&\n            (this.cellSettings.bubbleType === 'Size' || this.cellSettings.bubbleType === 'Sector')) {\n            this.legendVisibilityByCellType = false;\n        }\n        else if (this.legendModule && this.legendSettings.visible) {\n            this.legendVisibilityByCellType = true;\n        }\n        if (this.cellSettings.tileType === 'Bubble' && this.cellSettings.bubbleType === 'SizeAndColor') {\n            this.bubbleSizeWithColor = true;\n        }\n        else {\n            this.bubbleSizeWithColor = false;\n        }\n    };\n    HeatMap.prototype.renderElements = function () {\n        this.tooltipCollection = [];\n        this.renderSecondaryElement();\n        this.renderBorder();\n        this.renderTitle();\n        this.heatMapAxis.renderAxes();\n        if (this.tooltipModule && this.showTooltip) {\n            this.tooltipModule.tooltipObject = null;\n            this.tooltipModule.createTooltipDiv(this);\n        }\n        this.heatMapSeries.renderRectSeries();\n        if (this.legendModule && this.legendSettings.visible\n            && this.legendVisibilityByCellType) {\n            this.legendModule.renderLegendItems();\n            if (this.paletteSettings.type === 'Fixed' && this.legendSettings.enableSmartLegend &&\n                this.legendSettings.labelDisplayType === 'None') {\n                this.legendModule.createTooltipDiv();\n            }\n        }\n        removeMeasureElement();\n    };\n    /**\n     * Get component name\n     * @private\n     */\n    HeatMap.prototype.getModuleName = function () {\n        return 'heatmap';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @private\n     */\n    HeatMap.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    HeatMap.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var renderer = false;\n        var refreshBounds = false;\n        var isUpdateSelection = true;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'renderingMode':\n                    this.rendering = false;\n                    isUpdateSelection = false;\n                    renderer = true;\n                    break;\n                case 'cellSettings':\n                    this.updateBubbleHelperProperty();\n                    if (this.legendModule && ((newProp.cellSettings.tileType !== (oldProp.cellSettings\n                        !== undefined && oldProp.cellSettings.tileType))\n                        || (newProp.cellSettings.bubbleType !== oldProp.cellSettings.bubbleType))) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections();\n                    }\n                    if (this.cellSettings.tileType === 'Bubble') {\n                        isUpdateSelection = false;\n                    }\n                    this.reRenderDatasource();\n                    refreshBounds = true;\n                    break;\n                case 'showTooltip':\n                    refreshBounds = true;\n                    break;\n                case 'dataSource':\n                case 'dataSourceSettings':\n                    this.isCellData = false;\n                    this.paletteCellSelectionUpdation();\n                    this.reRenderDatasource();\n                    isUpdateSelection = false;\n                    renderer = true;\n                    break;\n                case 'titleSettings':\n                case 'width':\n                case 'height':\n                case 'margin':\n                    refreshBounds = true;\n                    break;\n                case 'legendSettings':\n                    this.updateBubbleHelperProperty();\n                    if (this.legendVisibilityByCellType && (((newProp.legendSettings.visible !==\n                        (oldProp.legendSettings !== undefined && oldProp.legendSettings.visible)) ||\n                        (newProp.legendSettings.enableSmartLegend !== oldProp.legendSettings.enableSmartLegend)))) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections();\n                    }\n                    else {\n                        this.legendOnLoad = false;\n                    }\n                    refreshBounds = true;\n                    break;\n                case 'yAxis':\n                case 'xAxis':\n                    this.paletteCellSelectionUpdation();\n                    this.reRenderDatasource();\n                    isUpdateSelection = false;\n                    refreshBounds = true;\n                    break;\n                case 'paletteSettings':\n                    this.paletteCellSelectionUpdation();\n                    this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n                    this.cellColor.getColorCollection();\n                    this.calculateBounds();\n                    renderer = true;\n                    break;\n                case 'theme':\n                    this.setTheme();\n                    renderer = true;\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule) {\n                        this.tooltipModule.tooltipObject.fill = this.tooltipSettings.fill;\n                        this.tooltipModule.tooltipObject.border = this.tooltipSettings.border;\n                        this.tooltipModule.tooltipObject.textStyle = this.tooltipSettings.textStyle;\n                        this.tooltipModule.tooltipObject.template = this.tooltipSettings.template;\n                        this.tooltipModule.tooltipObject.refresh();\n                    }\n                    break;\n            }\n        }\n        if (!refreshBounds && renderer) {\n            this.createSvg();\n            this.renderElements();\n            this.appendSvgObject();\n            this.trigger('created');\n            if (!isUpdateSelection) {\n                this.clearSelection();\n            }\n        }\n        else if (refreshBounds) {\n            this.createSvg();\n            this.refreshBound();\n            this.appendSvgObject();\n            this.trigger('created');\n        }\n        if (this.allowSelection && this.rectSelected) {\n            if (isUpdateSelection) {\n                this.updateCellSelection();\n            }\n            else {\n                this.clearSelection();\n            }\n        }\n        this.rendering = true;\n    };\n    HeatMap.prototype.paletteCellSelectionUpdation = function () {\n        this.updateBubbleHelperProperty();\n        if (this.legendVisibilityByCellType) {\n            this.legendOnLoad = true;\n            this.legendModule.updateLegendRangeCollections();\n        }\n    };\n    /**\n     * create svg or canvas element\n     *\n     * @private\n     */\n    HeatMap.prototype.createSvg = function () {\n        this.removeSvg();\n        this.setRenderMode();\n        this.calculateSize();\n        if (!this.enableCanvasRendering) {\n            this.svgObject = this.renderer.createSvg({\n                id: this.element.id + '_svg',\n                width: this.availableSize.width,\n                height: this.availableSize.height\n            });\n            if (this.cellSettings.border.width.toString() === '0' && this.cellSettings.tileType === 'Rect') {\n                this.svgObject.setAttribute('shape-rendering', 'crispEdges');\n            }\n        }\n        else {\n            this.svgObject = this.canvasRenderer.createCanvas({\n                id: this.element.id + '_canvas',\n                width: this.availableSize.width,\n                height: this.availableSize.height\n            });\n            if (this.allowSelection) {\n                this.createMultiCellDiv(true);\n            }\n        }\n    };\n    /**\n     *  To Remove the SVG.\n     *\n     * @private\n     */\n    HeatMap.prototype.removeSvg = function () {\n        if (document.getElementById(this.element.id + '_Secondary_Element')) {\n            remove(document.getElementById(this.element.id + '_Secondary_Element'));\n        }\n        if (document.getElementById(this.element.id + 'Celltooltipcontainer')) {\n            remove(document.getElementById(this.element.id + 'Celltooltipcontainer'));\n        }\n        if (document.getElementById(this.element.id + 'legendLabelTooltipContainer')) {\n            remove(document.getElementById(this.element.id + 'legendLabelTooltipContainer'));\n        }\n        if (document.getElementById(this.element.id + '_Multi_CellSelection_Canvas')) {\n            remove(document.getElementById(this.element.id + '_Multi_CellSelection_Canvas'));\n        }\n        if (document.getElementById(this.element.id + '_CellSelection_Container')) {\n            remove(document.getElementById(this.element.id + '_CellSelection_Container'));\n        }\n        if (this.svgObject) {\n            var svgElement = document.getElementById(this.svgObject.id);\n            if (svgElement) {\n                while (this.svgObject.childNodes.length) {\n                    this.svgObject.removeChild(this.svgObject.firstChild);\n                }\n                remove(this.svgObject);\n            }\n        }\n    };\n    HeatMap.prototype.renderSecondaryElement = function () {\n        var tooltipDiv = this.createElement('div');\n        tooltipDiv.id = this.element.id + '_Secondary_Element';\n        this.element.appendChild(tooltipDiv);\n        var divElement = this.createElement('div', {\n            id: this.element.id + '_CellSelection_Container'\n        });\n        divElement.style.cssText = 'position:absolute; z-index: 2 ; top:' + this.initialClipRect.y + 'px' + '; left:' + this.initialClipRect.x + 'px';\n        this.element.appendChild(divElement);\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     *\n     * @returns {ModuleDeclaration[]}\n     * @private\n     */\n    HeatMap.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.showTooltip) {\n            modules.push({\n                member: 'Tooltip',\n                args: [this]\n            });\n        }\n        if (this.legendSettings) {\n            modules.push({\n                member: 'Legend',\n                args: [this]\n            });\n        }\n        if (this.dataSource) {\n            modules.push({\n                member: 'Adaptor',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * This method destroys the heatmap. This method removes the events associated with the heatmap and disposes the objects created for rendering and updating the heatmap.\n     * {% codeBlock src='heatmap/destroy/index.md' %}{% endcodeBlock %}\n     *\n     * @function destroy\n     * @returns {void}.\n     * @member of Heatmap\n     */\n    HeatMap.prototype.destroy = function () {\n        this.unWireEvents();\n        this.touchInstance.destroy();\n        this.touchInstance = null;\n        _super.prototype.destroy.call(this);\n        removeMeasureElement();\n        this.element.innerHTML = '';\n        this.element.classList.remove('e-heatmap');\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     *\n     * @function destroy\n     * @returns {void}.\n     */\n    HeatMap.prototype.refresh = function () {\n        _super.prototype.refresh.call(this);\n        this.element.classList.add('e-heatmap');\n    };\n    /**\n     * Appending svg object to the element\n     *\n     * @private\n     */\n    HeatMap.prototype.appendSvgObject = function () {\n        if (this.enableCanvasRendering && this.allowSelection) {\n            this.createMultiCellDiv(false);\n        }\n        else {\n            this.element.appendChild(this.svgObject);\n        }\n    };\n    HeatMap.prototype.renderBorder = function () {\n        this.border = {\n            width: 0\n        };\n        var background = !isNullOrUndefined(this.backgroundColor) ? this.backgroundColor : this.themeStyle.background;\n        var width = 0;\n        var rect = new RectOption(this.element.id + '_HeatmapBorder', background, this.border, 1, new Rect(width / 2, width / 2, this.availableSize.width - width, this.availableSize.height - width));\n        this.drawSvgCanvas.drawRectangle(rect, this.svgObject);\n    };\n    HeatMap.prototype.calculateSize = function () {\n        var width = stringToNumber(this.width, this.element.offsetWidth) || this.element.offsetWidth || 600;\n        var height = stringToNumber(this.height, this.element.offsetHeight) || this.element.offsetHeight || 450;\n        this.availableSize = new Size(width, height);\n        var alignElement = this.element;\n        while (alignElement.parentNode) {\n            if (alignElement.tagName === 'BODY') {\n                break;\n            }\n            var align = alignElement.align;\n            if (align === 'center') {\n                var containerWidth = this.availableSize.width.toString();\n                this.element.style.width = containerWidth + 'px';\n                this.element.style.margin = '0 auto';\n                break;\n            }\n            alignElement = alignElement.parentElement;\n        }\n    };\n    HeatMap.prototype.renderTitle = function () {\n        if (this.titleSettings.text) {\n            var titleStyle = this.titleSettings.textStyle;\n            var anchor = titleStyle.textAlignment === 'Near' ? 'start' :\n                titleStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            this.elementSize = measureText(this.titleCollection[0], titleStyle);\n            var options = new TextOption(this.element.id + '_HeatmapTitle', new TextBasic(titlePositionX(this.availableSize.width - this.margin.left - this.margin.right, this.margin.left, this.margin.right, titleStyle), this.margin.top + ((this.elementSize.height) * 3 / 4), anchor, this.titleCollection), titleStyle, titleStyle.color || this.themeStyle.heatMapTitle);\n            if (this.titleCollection.length > 1) {\n                this.drawSvgCanvas.createWrapText(options, titleStyle, this.svgObject);\n            }\n            else {\n                this.drawSvgCanvas.createText(options, this.svgObject, this.titleCollection[0]);\n                if (this.titleCollection[0].indexOf('...') !== -1 && this.enableCanvasRendering) {\n                    this.tooltipCollection.push(new CanvasTooltip(this.titleSettings.text, new Rect(this.margin.left, this.margin.top, this.elementSize.width, this.elementSize.height)));\n                }\n            }\n        }\n    };\n    HeatMap.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId === (this.element.id + '_HeatmapTitle')) && (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.titleSettings.text, x, y, this.element.offsetWidth, this.element.id + '_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch, this);\n        }\n        else {\n            removeElement(this.element.id + '_Title_Tooltip');\n        }\n    };\n    // eslint-disable-next-line\n    HeatMap.prototype.axisTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId.indexOf(this.element.id + '_XAxis_Label') !== -1) ||\n            (targetId.indexOf(this.element.id + '_YAxis_Label') !== -1) ||\n            (targetId.indexOf(this.element.id + '_XAxis_MultiLevel') !== -1) ||\n            (targetId.indexOf(this.element.id + '_YAxis_MultiLevel') !== -1)) {\n            var tooltipText = getTooltipText(this.tooltipCollection, x, y);\n            if (tooltipText) {\n                showTooltip(tooltipText, x, y, this.element.offsetWidth, this.element.id + '_axis_Tooltip', getElement(this.element.id + '_Secondary_Element'), this.isTouch, this);\n            }\n            else {\n                removeElement(this.element.id + '_axis_Tooltip');\n            }\n        }\n        else {\n            removeElement(this.element.id + '_axis_Tooltip');\n        }\n    };\n    HeatMap.prototype.isHeatmapRect = function (x, y) {\n        var firstRectDetails = [];\n        var lastRectDetails = [];\n        var isRect;\n        var borderBoundary = 5;\n        firstRectDetails.push(this.heatMapSeries.rectPositionCollection[0][0]);\n        lastRectDetails.push(this.heatMapSeries.rectPositionCollection[this.yLength - 1][this.xLength - 1]);\n        if (this.cellSettings.border.width > borderBoundary && (x >= firstRectDetails[0].x && y >= firstRectDetails[0].y &&\n            x <= (lastRectDetails[0].x + lastRectDetails[0].width) &&\n            y <= (lastRectDetails[0].y + lastRectDetails[0].height)) && this.cellSettings.tileType === 'Rect') {\n            var currentRect = this.heatMapSeries.getCurrentRect(x, y);\n            var rectHeight = lastRectDetails[0].height;\n            var rectWidth = lastRectDetails[0].width;\n            var cellBorder = this.cellSettings.border.width / 2;\n            if ((x >= (currentRect.x + cellBorder) && (y >= (currentRect.y + cellBorder)) &&\n                (x <= (currentRect.x + (rectWidth - cellBorder)) &&\n                    (y <= (currentRect.y + (rectHeight - cellBorder)))))) {\n                isRect = true;\n                this.isRectBoundary = true;\n            }\n            else {\n                isRect = false;\n                this.isRectBoundary = false;\n            }\n        }\n        else {\n            isRect = (x >= firstRectDetails[0].x && y >= firstRectDetails[0].y &&\n                x <= (lastRectDetails[0].x + lastRectDetails[0].width) &&\n                y <= (lastRectDetails[0].y + lastRectDetails[0].height));\n            this.isRectBoundary = isRect;\n        }\n        return isRect;\n    };\n    HeatMap.prototype.setTheme = function () {\n        /*! Set theme */\n        this.themeStyle = getThemeColor(this.theme);\n    };\n    HeatMap.prototype.calculateBounds = function () {\n        var margin = this.margin;\n        // Title Height;\n        var titleHeight = 0;\n        var padding = (this.legendModule && this.legendSettings.position === 'Top'\n            && this.legendVisibilityByCellType) || this.titleSettings.textStyle.size === '0px' ? 0 : 16; // title padding\n        var left = margin.left;\n        var width = this.availableSize.width - left - margin.right;\n        if ((this.paletteSettings.colorGradientMode === 'Column' || this.paletteSettings.colorGradientMode === 'Row') &&\n            this.paletteSettings.type === 'Gradient') {\n            if (this.paletteSettings.palette.length === 0) {\n                this.legendVisibilityByCellType = false;\n            }\n            else {\n                for (var i = 0; i < this.paletteSettings.palette.length; i++) {\n                    if (this.paletteSettings.palette[i].value !== null || '') {\n                        this.legendVisibilityByCellType = true;\n                    }\n                    else if (this.paletteSettings.palette[i].value === null || '') {\n                        this.legendVisibilityByCellType = false;\n                        break;\n                    }\n                }\n            }\n        }\n        if (this.titleSettings.text) {\n            this.titleCollection = getTitle(this.titleSettings.text, this.titleSettings.textStyle, width);\n            titleHeight = (measureText(this.titleSettings.text, this.titleSettings.textStyle).height * this.titleCollection.length) +\n                padding;\n        }\n        var top = margin.top + titleHeight;\n        this.titleRect = new Rect(margin.left, margin.top, this.availableSize.width - margin.left - margin.right, titleHeight);\n        var height = this.availableSize.height - top - margin.bottom;\n        this.initialClipRect = new Rect(left, top, width, height);\n        var legendTop = this.initialClipRect.y;\n        if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            this.legendModule.calculateLegendBounds(this.initialClipRect);\n        }\n        this.heatMapAxis.measureAxis(this.initialClipRect);\n        if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            this.legendModule.calculateLegendSize(this.initialClipRect, legendTop);\n        }\n        this.heatMapAxis.calculateAxisSize(this.initialClipRect);\n    };\n    HeatMap.prototype.refreshBound = function () {\n        this.updateBubbleHelperProperty();\n        this.calculateBounds();\n        this.renderElements();\n    };\n    HeatMap.prototype.initAxis = function () {\n        var axis;\n        var axes = [this.xAxis, this.yAxis];\n        this.axisCollections = [];\n        for (var i = 0, len = axes.length; i < len; i++) {\n            axis = axes[i];\n            axis.orientation = (i === 0) ? 'Horizontal' : 'Vertical';\n            axis.jsonCellLabel = [];\n            this.axisCollections.push(axis);\n        }\n    };\n    /**\n     * Method to bind events for HeatMap\n     */\n    HeatMap.prototype.wireEvents = function () {\n        var _this = this;\n        /*! Find the Events type */\n        // eslint-disable-next-line\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.element, Browser.isDevice ? start : 'click', this.heatMapMouseClick, this);\n        EventHandler.add(this.element, 'dblclick', this.heatMapMouseDoubleClick, this);\n        EventHandler.add(this.element, start, this.heatMapMouseMove, this);\n        EventHandler.add(this.element, stop, this.heatMapMouseLeave, this);\n        EventHandler.add(this.element, move, this.heatMapMouseMove, this);\n        EventHandler.add(this.element, cancel, this.heatMapMouseLeave, this);\n        this.resizeEvent = this.heatMapResize.bind(this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.resizeEvent);\n        // eslint-disable-next-line\n        var heatmap = this;\n        /**\n         * Support for touch tapHold and tap for HeatMap\n         */\n        // eslint-disable-next-line\n        this.touchInstance = new Touch(this.element, {\n            tapHold: function (e) {\n                var targetId = e.originalEvent.target.id;\n                if ((targetId.indexOf(_this.element.id + '_HeatMapRect_') !== -1 || targetId.indexOf(_this.element.id + '_HeatMapRectLabels_') !== -1) && _this.allowSelection) {\n                    heatmap.isCellTapHold = true;\n                    var selectedCellCollection = [];\n                    for (var i = 0; i < _this.multiCellCollection.length; i++) {\n                        selectedCellCollection.push(_this.multiCellCollection[i]);\n                    }\n                    if (!e.originalEvent.ctrlKey || !_this.enableMultiSelect) {\n                        _this.multiCellCollection = [];\n                    }\n                    heatmap.getDataCollection();\n                    var argData = {\n                        heatmap: heatmap,\n                        cancel: false,\n                        name: 'cellSelected',\n                        data: heatmap.multiCellCollection\n                    };\n                    heatmap.trigger('cellSelected', argData);\n                    if (!argData.cancel) {\n                        if (e.ctrlKey === false || !_this.enableMultiSelect) {\n                            _this.removeSelectedCellsBorder(false);\n                        }\n                        heatmap.currentRect.allowCollection = false;\n                    }\n                    else {\n                        _this.multiCellCollection = selectedCellCollection;\n                        if (_this.multiCellCollection.length > 0 || e.ctrlKey === false || !_this.enableMultiSelect) {\n                            _this.removeSelectedCellsBorder(true);\n                        }\n                    }\n                    heatmap.setCellOpacity();\n                    window.clearTimeout(_this.tooltipTimer);\n                    heatmap.tooltipOnMouseMove(null, heatmap.currentRect, heatmap.isCellTapHold);\n                }\n            },\n            tap: function (e) {\n                var targetId = e.originalEvent.target.id;\n                if ((targetId.indexOf(_this.element.id + '_HeatMapRect_') !== -1 || targetId.indexOf(_this.element.id + '_HeatMapRectLabels_') !== -1 || targetId.indexOf(_this.element.id + '_CellSelection_Container_') !== -1)) {\n                    var isCellTap = false;\n                    if (!heatmap.isCellTapHold) {\n                        isCellTap = true;\n                    }\n                    var pageX = void 0;\n                    var pageY = void 0;\n                    var touchArg = void 0;\n                    var elementRect = _this.element.getBoundingClientRect();\n                    if (e.originalEvent.type === 'touchend' || e.originalEvent.type === 'touchstart') {\n                        _this.isTouch = true;\n                        touchArg = e.originalEvent;\n                        pageX = touchArg.changedTouches[0].clientX;\n                        pageY = touchArg.changedTouches[0].clientY;\n                    }\n                    else {\n                        _this.isTouch = false;\n                        pageX = e.originalEvent.clientX;\n                        pageY = e.originalEvent.clientY;\n                    }\n                    pageX -= elementRect.left;\n                    pageY -= elementRect.top;\n                    var currentRect = _this.heatMapSeries.getCurrentRect(pageX, pageY);\n                    window.clearTimeout(_this.tooltipTimer);\n                    heatmap.tooltipOnMouseMove(null, currentRect, isCellTap);\n                }\n            }\n        });\n        this.setStyle(this.element);\n    };\n    /**\n     * Applying styles for heatmap element\n     */\n    HeatMap.prototype.setStyle = function (element) {\n        element.style.touchAction = 'element';\n        element.style.touchAction = 'element';\n        element.style.zoom = 'none';\n        element.style.userSelect = 'none';\n        element.style.webkitUserSelect = 'none';\n        element.style.position = 'relative';\n        element.style.display = 'block';\n    };\n    /**\n     * This method is used to print the rendered heatmap.\n     */\n    HeatMap.prototype.print = function () {\n        var exportChart = new ExportUtils(this);\n        exportChart.print();\n    };\n    /**\n     * Method to unbind events for HeatMap\n     */\n    HeatMap.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        // eslint-disable-next-line\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        // eslint-disable-next-line\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.remove(this.element, Browser.isDevice ? start : 'click', this.heatMapMouseClick);\n        EventHandler.remove(this.element, 'dblclick', this.heatMapMouseDoubleClick);\n        EventHandler.remove(this.element, start, this.heatMapMouseMove);\n        EventHandler.remove(this.element, stop, this.heatMapMouseLeave);\n        EventHandler.remove(this.element, move, this.heatMapMouseMove);\n        EventHandler.remove(this.element, cancel, this.heatMapMouseLeave);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.resizeEvent);\n    };\n    /**\n     * Handles the heatmap resize.\n     *\n     * @returns {boolean}\n     * @private\n     */\n    // eslint-disable-next-line\n    HeatMap.prototype.heatMapResize = function (e) {\n        var _this = this;\n        this.resizing = true;\n        var argData = {\n            heatmap: this,\n            cancel: false,\n            name: 'resized',\n            currentSize: new Size(0, 0),\n            previousSize: new Size(this.availableSize.width, this.availableSize.height)\n        };\n        if (this.resizeTimer) {\n            clearTimeout(this.resizeTimer);\n        }\n        this.resizeTimer = setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTimer);\n                return;\n            }\n            _this.createSvg();\n            argData.currentSize = _this.availableSize;\n            _this.trigger('resized', argData);\n            _this.refreshBound();\n            _this.appendSvgObject();\n            if (_this.allowSelection) {\n                _this.updateCellSelection();\n            }\n            _this.trigger('loaded', ({ heatmap: _this }));\n            _this.resizing = false;\n        }, 500);\n        return false;\n    };\n    /**\n     * Method to bind selection after window resize for HeatMap\n     */\n    HeatMap.prototype.updateCellSelection = function () {\n        var wSize = this.initialClipRect.width / this.axisCollections[0].axisLabelSize;\n        var hSize = this.initialClipRect.height / this.axisCollections[1].axisLabelSize;\n        var x = this.initialClipRect.x;\n        var y = this.initialClipRect.y;\n        if (!this.enableCanvasRendering) {\n            if (this.multiCellCollection.length !== 0) {\n                var containersRect = document.getElementById(this.element.id + '_Container_RectGroup');\n                var containerText = document.getElementById(this.element.id + '_Container_TextGroup');\n                for (var i = 0; i < containersRect.childNodes.length; i++) {\n                    containersRect.childNodes[i].setAttribute('opacity', '0.3');\n                    if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                        containerText.childNodes[i].setAttribute('opacity', '0.3');\n                    }\n                }\n                for (var i = 0; i < this.multiCellCollection.length; i++) {\n                    var collectionClass = this.multiCellCollection[i].cellElement;\n                    var cellIndex = collectionClass.id.replace(this.element.id + '_HeatMapRect_', '');\n                    var index = parseInt(cellIndex, 10);\n                    containersRect.childNodes[index].setAttribute('opacity', '1');\n                    if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                        var getText = document.getElementById(this.element.id + '_HeatMapRectLabels_' + index);\n                        if (getText) {\n                            getText.setAttribute('opacity', '1');\n                        }\n                        this.addSvgClass(containersRect.childNodes[index]);\n                    }\n                }\n            }\n        }\n        else if (this.enableCanvasRendering) {\n            var rect = this.multiCellCollection;\n            var oldCanvas = document.getElementById(this.element.id + '_canvas');\n            var newCanvas = document.getElementById(this.element.id + '_secondary_canvas');\n            var initialRect = this.initialClipRect;\n            var rectHeight = initialRect.y + initialRect.height;\n            var rectWidth = initialRect.x + initialRect.width;\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                this.multiCellCollection[i].width = rect[i].width = wSize;\n                this.multiCellCollection[i].height = rect[i].height = hSize;\n                this.multiCellCollection[i].x = rect[i].x = x + wSize * this.multiCellCollection[i].xPosition;\n                this.multiCellCollection[i].y = rect[i].y = y + hSize * this.multiCellCollection[i].yPosition;\n                var rectImage = oldCanvas.getContext('2d').getImageData(rect[i].x, rect[i].y, rect[i].width, rect[i].height);\n                newCanvas.getContext('2d').putImageData(rectImage, rect[i].x, rect[i].y);\n                oldCanvas.style.opacity = '0.3';\n            }\n            var topPositions = oldCanvas.getContext('2d').getImageData(0, 0, this.availableSize.width, initialRect.y);\n            newCanvas.getContext('2d').putImageData(topPositions, 0, 0);\n            var bottomPositions = oldCanvas.getContext('2d').getImageData(0, rectHeight, this.availableSize.width, this.availableSize.height - rectHeight);\n            newCanvas.getContext('2d').putImageData(bottomPositions, 0, initialRect.y + initialRect.height);\n            var rightPosition = oldCanvas.getContext('2d').\n                getImageData(rectWidth, 0, this.availableSize.width - rectWidth, this.availableSize.height);\n            newCanvas.getContext('2d').putImageData(rightPosition, rectWidth, 0);\n            var leftPosition = oldCanvas.getContext('2d').getImageData(0, 0, initialRect.x, this.availableSize.height);\n            newCanvas.getContext('2d').putImageData(leftPosition, 0, 0);\n            removeElement(this.element.id + '_selectedCells');\n        }\n    };\n    HeatMap.prototype.clearSVGSelection = function () {\n        var rect = document.getElementById(this.element.id + '_Container_RectGroup');\n        var text = document.getElementById(this.element.id + '_Container_TextGroup');\n        for (var i = 0; i < rect.childNodes.length; i++) {\n            var elementClassName = rect.childNodes[i].getAttribute('class');\n            if (elementClassName === this.element.id + '_selected') {\n                this.removeSvgClass(rect.childNodes[i], elementClassName);\n            }\n            rect.childNodes[i].setAttribute('opacity', '1');\n            if (this.cellSettings.showLabel && text.childNodes[i]) {\n                text.childNodes[i].setAttribute('opacity', '1');\n            }\n        }\n    };\n    /**\n     * Get the maximum length of data source for both horizontal and vertical\n     *\n     * @private\n     */\n    HeatMap.prototype.calculateMaxLength = function () {\n        var dataSource = this.completeAdaptDataSource;\n        if (dataSource && dataSource.length > 0) {\n            var xAxisMax = dataSource.length - 1;\n            var yAxisMax = 0;\n            for (var i = 0; i <= xAxisMax; i++) {\n                var length_1 = dataSource[i].length;\n                yAxisMax = yAxisMax > length_1 ? yAxisMax : length_1;\n            }\n            this.axisCollections[0].maxLength = xAxisMax;\n            this.axisCollections[1].maxLength = yAxisMax - 1;\n        }\n        else {\n            this.axisCollections[0].maxLength = 0;\n            this.axisCollections[1].maxLength = 0;\n        }\n    };\n    /**\n     * To find mouse x, y for aligned heatmap element svg position\n     */\n    HeatMap.prototype.setMouseXY = function (pageX, pageY) {\n        var rect = this.element.getBoundingClientRect();\n        var svgCanvasRect;\n        if (this.enableCanvasRendering) {\n            svgCanvasRect = document.getElementById(this.element.id + '_canvas').getBoundingClientRect();\n        }\n        else {\n            svgCanvasRect = document.getElementById(this.element.id + '_svg').getBoundingClientRect();\n        }\n        this.mouseX = (pageX - rect.left) - Math.max(svgCanvasRect.left - rect.left, 0);\n        this.mouseY = (pageY - rect.top) - Math.max(svgCanvasRect.top - rect.top, 0);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    HeatMap.prototype.triggerClickEvent = function (e, isDoubleClick) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        var elementRect = this.element.getBoundingClientRect();\n        if (e.type === 'touchstart') {\n            if (!isDoubleClick) {\n                this.isTouch = true;\n            }\n            touchArg = e;\n            pageY = touchArg.changedTouches[0].clientY;\n            pageX = touchArg.changedTouches[0].clientX;\n        }\n        else {\n            if (!isDoubleClick) {\n                this.isTouch = false;\n            }\n            pageY = e.clientY;\n            pageX = e.clientX;\n        }\n        pageX -= elementRect.left;\n        pageY -= elementRect.top;\n        var isheatmapRect = this.isHeatmapRect(pageX, pageY);\n        if (isheatmapRect) {\n            var currentRect = this.heatMapSeries.getCurrentRect(pageX, pageY);\n            this.trigger(isDoubleClick ? 'cellDoubleClick' : 'cellClick', {\n                heatmap: this,\n                value: currentRect.value,\n                x: currentRect.x,\n                y: currentRect.y,\n                xLabel: this.heatMapSeries.hoverXAxisLabel,\n                yLabel: this.heatMapSeries.hoverYAxisLabel,\n                xValue: this.heatMapSeries.hoverXAxisValue,\n                yValue: this.heatMapSeries.hoverYAxisValue,\n                cellElement: this.enableCanvasRendering ? null : document.getElementById(currentRect.id),\n                event: e\n            });\n        }\n        return { x: pageX, y: pageY };\n    };\n    HeatMap.prototype.heatMapMouseDoubleClick = function (e) {\n        this.triggerClickEvent(e, true);\n    };\n    // eslint-disable-next-line valid-jsdoc\n    /**\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseClick = function (e) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var position = this.triggerClickEvent(e, false);\n        var pageX = position.x;\n        var pageY = position.y;\n        this.notify('click', e);\n        if (this.paletteSettings.type !== 'Gradient' && this.legendModule\n            && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            var page = this.legendModule.navigationCollections;\n            if (page.length && pageX > page[0].x && pageX < page[0].x + page[0].width &&\n                pageY > page[0].y && pageY < page[0].y + page[0].height) {\n                this.legendModule.translatePage(this, this.legendModule.currentPage, true);\n            }\n            else if (page.length && pageX > page[1].x && pageX < page[1].x + page[1].width &&\n                pageY > page[1].y && pageY < page[1].y + page[1].height) {\n                this.legendModule.translatePage(this, this.legendModule.currentPage, false);\n            }\n            var legendRange = this.legendModule.legendRange;\n            var legendTextRange = this.legendModule.legendTextRange;\n            var loop = true;\n            for (var i = 0; i < legendRange.length; i++) {\n                if (this.legendModule && this.legendSettings.toggleVisibility &&\n                    this.legendModule.currentPage === legendRange[i].currentPage) {\n                    if ((loop && (pageX >= legendRange[i].x\n                        && pageX <= legendRange[i].width + legendRange[i].x) &&\n                        (pageY >= legendRange[i].y && pageY <= legendRange[i].y + legendRange[i].height) ||\n                        ((this.legendSettings.showLabel && this.legendSettings.labelDisplayType !== 'None' &&\n                            pageX >= legendTextRange[i].x\n                            && pageX <= legendTextRange[i].width + legendTextRange[i].x) &&\n                            (pageY >= legendTextRange[i].y\n                                && pageY <= legendTextRange[i].y + legendTextRange[i].height)))) {\n                        this.legendModule.legendRangeSelection(i);\n                        loop = false;\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * Handles the mouse Move.\n     *\n     * @returns {boolean}\n     *\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseMove = function (e) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        var elementRect = this.element.getBoundingClientRect();\n        if (e.type === 'touchmove' || e.type === 'touchstart') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            this.isTouch = false;\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        pageX -= elementRect.left;\n        pageY -= elementRect.top;\n        this.setMouseXY(pageX, pageY);\n        this.mouseAction(e, pageX, pageY, touchArg, elementRect);\n        return true;\n    };\n    /**\n     * Handles the mouse Move.\n     *\n     * @returns {boolean}\n     */\n    HeatMap.prototype.mouseAction = function (e, pageX, pageY, touchArg, elementRect) {\n        var tooltipText;\n        if (e.target && e.target.id) {\n            var isheatmapRect = this.isHeatmapRect(pageX, pageY);\n            if (this.legendModule) {\n                if (isheatmapRect) {\n                    if (this.paletteSettings.type === 'Gradient' &&\n                        this.legendSettings.showGradientPointer && this.legendSettings.visible && this.legendVisibilityByCellType) {\n                        this.legendModule.renderGradientPointer(e, pageX, pageY);\n                    }\n                }\n                else {\n                    this.legendModule.removeGradientPointer();\n                }\n                this.renderMousePointer(pageX, pageY);\n            }\n            var isshowTooltip = void 0;\n            var currentRect = void 0;\n            isshowTooltip = this.showTooltip && this.tooltipModule ? isheatmapRect : false;\n            if (isheatmapRect) {\n                currentRect = this.heatMapSeries.getCurrentRect(pageX, pageY);\n                if (e.which !== 2 && e.which !== 3) {\n                    isshowTooltip = this.cellSelectionOnMouseMove(e, currentRect, pageX, pageY, isshowTooltip);\n                }\n            }\n            this.tooltipOnMouseMove(e, currentRect, isshowTooltip, isheatmapRect);\n            if (this.legendModule && this.legendSettings.visible && this.paletteSettings.type === 'Fixed' &&\n                this.legendSettings.enableSmartLegend && this.legendSettings.labelDisplayType === 'None') {\n                this.legendModule.createTooltip(pageX, pageY);\n            }\n            if (!this.enableCanvasRendering) {\n                if (this.titleSettings.text && this.titleSettings.textStyle.textOverflow === 'Trim') {\n                    this.titleTooltip(e, pageX, pageY, this.isTouch);\n                }\n                this.axisTooltip(e, pageX, pageY, this.isTouch);\n                if (this.legendModule && this.legendSettings.visible && this.legendSettings.showLabel && this.legendVisibilityByCellType) {\n                    this.legendModule.renderLegendLabelTooltip(e, pageX, pageY);\n                }\n                if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n                    this.legendModule.renderLegendTitleTooltip(e, pageX, pageY);\n                }\n            }\n            else {\n                // eslint-disable-next-line\n                elementRect = this.element.getBoundingClientRect();\n                var tooltipRect = (this.paletteSettings.type === 'Fixed' && this.legendSettings.enableSmartLegend &&\n                    this.legendSettings.labelDisplayType === 'None') ? false : true;\n                tooltipText = getTooltipText(this.tooltipCollection, pageX, pageY) ||\n                    (this.legendModule && tooltipRect && (getTooltipText(this.legendModule.legendLabelTooltip, pageX, pageY)\n                        || getTooltipText(this.legendModule.legendTitleTooltip, pageX, pageY)));\n                if (tooltipText) {\n                    showTooltip(tooltipText, pageX, pageY, this.element.offsetWidth, this.element.id + '_canvas_Tooltip', getElement(this.element.id + '_Secondary_Element'), this.isTouch, this);\n                }\n                else {\n                    removeElement(this.element.id + '_canvas_Tooltip');\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * Triggering cell selection\n     */\n    HeatMap.prototype.cellSelectionOnMouseMove = function (e, currentRect, pageX, pageY, isshowTooltip) {\n        if ((this.cellSettings.tileType === 'Rect' && e.type === 'mousedown' || e.type === 'touchstart'\n            || e.type === 'pointerdown') && this.allowSelection) {\n            this.previousRect = currentRect;\n            this.multiSelection = true;\n            this.rectSelected = true;\n            this.initialCellX = pageX;\n            this.initialCellY = pageY;\n            e.preventDefault();\n        }\n        if (this.cellSettings.tileType === 'Rect' && this.multiSelection && currentRect) {\n            isshowTooltip = false;\n            this.highlightSelectedCells(this.previousRect, currentRect, pageX, pageY, e);\n        }\n        return isshowTooltip;\n    };\n    /**\n     * Rendering tooltip on mouse move\n     */\n    HeatMap.prototype.tooltipOnMouseMove = function (e, currentRect, isshowTooltip, isheatmapRect) {\n        var _this = this;\n        if (isshowTooltip && currentRect) {\n            if (this.tempTooltipRectId !== currentRect.id) {\n                if (this.showTooltip) {\n                    if ((this.cellSettings.enableCellHighlighting || (this.tooltipModule && this.showTooltip))\n                        && !this.enableCanvasRendering) {\n                        this.heatMapSeries.highlightSvgRect(currentRect.id);\n                    }\n                    if (this.tooltipTimer && !isNullOrUndefined(e) && (e.type === 'touchstart' || e.type === 'touchmove')) {\n                        window.clearTimeout(this.tooltipTimer);\n                        this.tooltipTimer = null;\n                    }\n                    this.tooltipModule.renderTooltip(currentRect);\n                    if (this.isTouch) {\n                        this.tooltipTimer = setTimeout(function () {\n                            if (!isNullOrUndefined(_this.tooltipModule.tooltipObject)) {\n                                _this.tooltipModule.tooltipObject.fadeOut();\n                            }\n                            _this.tooltipModule.isFadeout = true;\n                            window.clearTimeout(_this.tooltipTimer);\n                            _this.tooltipTimer = null;\n                        }, 1500);\n                        if (e) {\n                            if (e.type === 'touchmove') {\n                                e.preventDefault();\n                            }\n                        }\n                    }\n                }\n                this.tempTooltipRectId = currentRect.id;\n            }\n        }\n        else {\n            if (e !== null) {\n                var borderBoundary = 5;\n                if (!isheatmapRect) {\n                    if ((this.cellSettings.enableCellHighlighting || this.showTooltip) && !this.enableCanvasRendering &&\n                        this.cellSettings.border.width < borderBoundary) {\n                        this.heatMapSeries.highlightSvgRect(e.target.id);\n                    }\n                    if (this.tooltipModule && this.showTooltip) {\n                        this.tooltipModule.showHideTooltip(false, true);\n                    }\n                }\n                else if (!this.showTooltip && this.cellSettings.border.width > borderBoundary) {\n                    this.heatMapSeries.highlightSvgRect(e.target.id);\n                }\n            }\n            this.tempTooltipRectId = '';\n        }\n    };\n    /**\n     * To select the multiple cells on mouse move action\n     */\n    HeatMap.prototype.highlightSelectedCells = function (previousRect, currentRect, pageX, pageY, e) {\n        var pXIndex = previousRect.xIndex;\n        var pYIndex = previousRect.yIndex;\n        var cXIndex = currentRect.xIndex;\n        var cYIndex = currentRect.yIndex;\n        this.currentRect = currentRect;\n        this.selectedCellsRect = new Rect(0, 0, 0, 0);\n        this.selectedCellsRect.x = previousRect.x > currentRect.x ? currentRect.x : previousRect.x;\n        this.selectedCellsRect.y = previousRect.y > currentRect.y ? currentRect.y : previousRect.y;\n        this.selectedCellsRect.width = ((previousRect.x > currentRect.x ? (pXIndex - cXIndex) :\n            (cXIndex - pXIndex)) + 1) * currentRect.width;\n        this.selectedCellsRect.height = ((previousRect.y > currentRect.y ? (pYIndex - cYIndex) :\n            (cYIndex - pYIndex)) + 1) * currentRect.height;\n        if (e.type === 'touchstart' && this.multiCellCollection.length === 0 && !this.isCellTapHold) {\n            this.isCellTapHold = true;\n        }\n        else {\n            this.isCellTapHold = false;\n        }\n        e.preventDefault();\n        var x = this.initialCellX > pageX ? pageX : this.initialCellX;\n        var y = this.initialCellY > pageY ? pageY : this.initialCellY;\n        var rect = new Rect(x - this.initialClipRect.x, y - this.initialClipRect.y, Math.abs(pageX - this.initialCellX), Math.abs(pageY - this.initialCellY));\n        if (((rect.width > 0) && this.enableMultiSelect && e.ctrlKey === false)) {\n            this.removeSelectedCellsBorder(false);\n            var tooltipElement = document.getElementById(this.element.id + 'Celltooltipcontainer_svg');\n            if (tooltipElement) {\n                this.tooltipModule.tooltipObject = null;\n                tooltipElement.setAttribute('opacity', '0');\n            }\n        }\n        var parentDiv = document.getElementById(this.element.id + '_CellSelection_Container');\n        var svgObject = this.renderer.createSvg({\n            id: this.element.id + '_CellSelection_Container_svg',\n            width: this.initialClipRect.width,\n            height: this.initialClipRect.height\n        });\n        parentDiv.appendChild(svgObject);\n        var parent = document.getElementById(this.element.id + '_CellSelection_Container_svg');\n        if (this.enableMultiSelect) {\n            var rectItems = new RectOption(this.element.id + '_selectedCells', '#87ceeb', { color: 'transparent', width: 1 }, 1, rect, '#0000ff');\n            parent.appendChild(this.renderer.drawRectangle(rectItems));\n            document.getElementById(this.element.id + '_selectedCells').style.opacity = '0.5';\n        }\n    };\n    /**\n     * Method to get selected cell data collection for HeatMap\n     */\n    HeatMap.prototype.getDataCollection = function () {\n        var pXIndex = this.previousRect.xIndex;\n        var pYIndex = this.previousRect.yIndex;\n        var cXIndex = this.currentRect.xIndex;\n        var cYIndex = this.currentRect.yIndex;\n        var minX = cXIndex > pXIndex ? pXIndex : cXIndex;\n        var maxX = cXIndex > pXIndex ? cXIndex : pXIndex;\n        var minY = cYIndex > pYIndex ? pYIndex : cYIndex;\n        var maxY = cYIndex > pYIndex ? cYIndex : pYIndex;\n        var tempX = minX;\n        var tempY = minY;\n        var cellX = this.previousRect.x;\n        var cellY = this.previousRect.y;\n        this.getCellCollection(this.currentRect, this.previousRect, true, tempX, tempY, maxX, maxY, minX, cellX, cellY);\n        tempX = minX;\n        tempY = minY;\n        cellX = this.previousRect.x;\n        cellY = this.previousRect.y;\n        this.checkSelectedCells();\n        this.getCellCollection(this.currentRect, this.previousRect, false, tempX, tempY, maxX, maxY, minX, cellX, cellY);\n        this.selectedMultiCellCollection = [];\n        this.canvasSelectedCells = new Rect(0, 0, 0, 0);\n        this.selectedCellCount = 0;\n    };\n    /**\n     * To get the selected datas.\n     */\n    HeatMap.prototype.getCellCollection = function (currentRect, previousRect, singleCellData, tempX, tempY, maxX, maxY, minX, cellX, cellY) {\n        var xIndex = Math.abs((currentRect.xIndex === previousRect.xIndex ?\n            0 : currentRect.xIndex - previousRect.xIndex)) + 1;\n        var yIndex = Math.abs((currentRect.yIndex === previousRect.yIndex ?\n            0 : currentRect.yIndex - previousRect.yIndex)) + 1;\n        for (var i = 0; i < (xIndex * yIndex); i++) {\n            if (singleCellData) {\n                this.getSelectedCellData(cellX, cellY, true);\n            }\n            else {\n                this.getSelectedCellData(cellX, cellY, false);\n            }\n            if (tempX < maxX) {\n                cellX += currentRect.xIndex > previousRect.xIndex ? currentRect.width : -currentRect.width;\n                tempX++;\n            }\n            else if (tempY < maxY) {\n                cellY += currentRect.yIndex > previousRect.yIndex ? currentRect.height : -currentRect.height;\n                cellX = previousRect.x;\n                tempX = minX;\n            }\n        }\n    };\n    /**\n     * To remove the selection on mouse click without ctrl key.\n     */\n    HeatMap.prototype.removeSelectedCellsBorder = function (isSelectionCancel) {\n        if (!this.enableCanvasRendering) {\n            var containerRect = document.getElementById(this.element.id + '_Container_RectGroup');\n            var containerText = document.getElementById(this.element.id + '_Container_TextGroup');\n            for (var i = 0; i < containerRect.childNodes.length; i++) {\n                var elementClassName = containerRect.childNodes[i].getAttribute('class');\n                if (isSelectionCancel) {\n                    containerRect.childNodes[i].setAttribute('opacity', '1');\n                    if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                        containerText.childNodes[i].setAttribute('opacity', '1');\n                        this.removeSvgClass(containerRect.childNodes[i], elementClassName);\n                    }\n                }\n                else {\n                    containerRect.childNodes[i].setAttribute('opacity', '0.3');\n                    if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                        containerText.childNodes[i].setAttribute('opacity', '0.3');\n                        this.removeSvgClass(containerRect.childNodes[i], elementClassName);\n                    }\n                }\n            }\n        }\n        else {\n            var ctx = this.secondaryCanvasRenderer.ctx;\n            for (var i = 0; i < this.previousSelectedCellsRect.length; i++) {\n                var rect = this.previousSelectedCellsRect[i];\n                ctx.save();\n                ctx.clearRect(rect.x - 1, rect.y - 1, rect.width + 2, rect.height + 2);\n                ctx.restore();\n            }\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                var rects = this.multiCellCollection[i];\n                if (this.multiCellCollection.length > 0) {\n                    ctx.save();\n                    ctx.clearRect(rects.x - 1, rects.y - 1, rects.width + 2, rects.height + 2);\n                }\n            }\n        }\n    };\n    /**\n     * To highlight the selected multiple cells on mouse move action in canvas mode.\n     */\n    HeatMap.prototype.highlightSelectedAreaInCanvas = function (rect) {\n        if (rect.x) {\n            var oldCanvas = document.getElementById(this.element.id + '_canvas');\n            var newCanvas = document.getElementById(this.element.id + '_secondary_canvas');\n            var initialRect = this.initialClipRect;\n            var rectImage = oldCanvas.getContext('2d').getImageData(rect.x, rect.y, rect.width, rect.height);\n            newCanvas.getContext('2d').putImageData(rectImage, rect.x, rect.y);\n            oldCanvas.style.opacity = '0.3';\n            var topPosition = oldCanvas.getContext('2d').getImageData(0, 0, this.availableSize.width, initialRect.y);\n            newCanvas.getContext('2d').putImageData(topPosition, 0, 0);\n            var bottomPosition = oldCanvas.getContext('2d').getImageData(0, initialRect.y + initialRect.height, this.availableSize.width, this.availableSize.height - (initialRect.y + initialRect.height));\n            newCanvas.getContext('2d').putImageData(bottomPosition, 0, initialRect.y + initialRect.height);\n            var rightPosition = oldCanvas.getContext('2d').getImageData(initialRect.x + initialRect.width, 0, this.availableSize.width - (initialRect.x + initialRect.width), this.availableSize.height);\n            newCanvas.getContext('2d').putImageData(rightPosition, initialRect.x + initialRect.width, 0);\n            var leftPosition = oldCanvas.getContext('2d').getImageData(0, 0, initialRect.x, this.availableSize.height);\n            newCanvas.getContext('2d').putImageData(leftPosition, 0, 0);\n        }\n    };\n    /**\n     * To get the collection of selected cells.\n     */\n    HeatMap.prototype.getSelectedCellData = function (cellX, cellY, cellCollection) {\n        var xAxis = this.axisCollections[0];\n        var yAxis = this.axisCollections[1];\n        var xLabels = xAxis.tooltipLabels;\n        var yLabels = yAxis.tooltipLabels.slice().reverse();\n        var rectPosition = this.heatMapSeries.getCurrentRect(cellX + 1, cellY + 1);\n        var currentRect = document.getElementById(rectPosition.id);\n        var cellDetails = new SelectedCellDetails(null, '', '', 0, 0, null, 0, 0, 0, 0, 0, 0);\n        cellDetails.value = rectPosition.value;\n        cellDetails.xLabel = xLabels[rectPosition.xIndex].toString();\n        cellDetails.yLabel = yLabels[rectPosition.yIndex].toString();\n        cellDetails.xValue = xAxis.labelValue[rectPosition.xIndex];\n        cellDetails.yValue = yAxis.labelValue.slice().reverse()[rectPosition.yIndex];\n        cellDetails.cellElement = this.enableCanvasRendering ? null : currentRect;\n        cellDetails.xPosition = rectPosition.xIndex;\n        cellDetails.yPosition = rectPosition.yIndex;\n        cellDetails.width = this.currentRect.width;\n        cellDetails.height = this.currentRect.height;\n        cellDetails.x = this.currentRect.x;\n        cellDetails.y = this.currentRect.y;\n        this.currentRect.allowCollection = true;\n        this.addSvgClass(currentRect);\n        if (cellCollection) {\n            this.selectedMultiCellCollection.push(cellDetails);\n            this.currentRect.allowCollection = false;\n        }\n        else {\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                if (this.multiCellCollection[i].xPosition === cellDetails.xPosition &&\n                    this.multiCellCollection[i].yPosition === cellDetails.yPosition) {\n                    this.currentRect.allowCollection = false;\n                    if (this.selectedCellCount === this.selectedMultiCellCollection.length) {\n                        this.currentRect.allowCollection = false;\n                        if (!this.enableCanvasRendering) {\n                            for (var j = 0; j < this.selectedMultiCellCollection.length; j++) {\n                                var rectElement = this.selectedMultiCellCollection[j].cellElement;\n                                if (rectElement) {\n                                    var index = rectElement.id.replace(this.element.id + '_HeatMapRect_', '');\n                                    // eslint-disable-next-line\n                                    var containerText = document.getElementById(this.element.id + '_Container_TextGroup');\n                                    var elementClassName = rectElement.getAttribute('class');\n                                    rectElement.setAttribute('opacity', '0.3');\n                                    var getText = document.getElementById(this.element.id + '_HeatMapRectLabels_' + index);\n                                    if (getText) {\n                                        getText.setAttribute('opacity', '0.3');\n                                    }\n                                    this.removeSvgClass(rectElement, elementClassName);\n                                }\n                            }\n                        }\n                        else {\n                            var ctx = this.secondaryCanvasRenderer.ctx;\n                            var rect = this.canvasSelectedCells;\n                            ctx.save();\n                            ctx.clearRect(rect.x - 1, rect.y - 1, rect.width + 2, rect.height + 2);\n                            ctx.restore();\n                            this.selectedCellsRect = new Rect(0, 0, 0, 0);\n                        }\n                        this.multiCellCollection.splice(i, 1);\n                    }\n                }\n            }\n        }\n        if (rectPosition.visible && !isNullOrUndefined(rectPosition.value) && this.currentRect.allowCollection === true) {\n            this.multiCellCollection.push(cellDetails);\n        }\n    };\n    /**\n     * To add class for selected cells\n     *\n     * @private\n     */\n    HeatMap.prototype.addSvgClass = function (element) {\n        if (!this.enableCanvasRendering) {\n            var className = this.element.id + '_selected';\n            element.setAttribute('class', className);\n        }\n    };\n    /**\n     * To remove class for unselected cells\n     *\n     * @private\n     */\n    HeatMap.prototype.removeSvgClass = function (rectElement, className) {\n        if (className) {\n            rectElement.setAttribute('class', className.replace(className, ''));\n        }\n    };\n    /**\n     * This method is used to clear the cell selection in the heatmap.\n     * {% codeBlock src='heatmap/clearSelection/index.md' %}{% endcodeBlock %}\n     */\n    HeatMap.prototype.clearSelection = function () {\n        if (!this.enableCanvasRendering && this.allowSelection) {\n            this.clearSVGSelection();\n        }\n        if (this.enableCanvasRendering) {\n            var ctx = this.secondaryCanvasRenderer.ctx;\n            for (var i = 0; i < this.previousSelectedCellsRect.length; i++) {\n                ctx.save();\n                ctx.clearRect(this.previousSelectedCellsRect[i].x - 1, this.previousSelectedCellsRect[i].y - 1, this.previousSelectedCellsRect[i].width + 2, this.previousSelectedCellsRect[i].height + 2);\n                ctx.restore();\n            }\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                var rects = this.multiCellCollection[i];\n                if (this.multiCellCollection.length > 0) {\n                    ctx.save();\n                    ctx.clearRect(rects.x - 1, rects.y - 1, rects.width + 2, rects.height + 2);\n                }\n            }\n            var canvas = document.getElementById(this.element.id + '_canvas');\n            canvas.style.opacity = '1';\n        }\n        this.tempMultiCellCollection = [];\n        this.multiCellCollection = [];\n        this.rectSelected = false;\n    };\n    HeatMap.prototype.renderMousePointer = function (pageX, pageY) {\n        var legendRange = this.legendModule.legendRange;\n        var legendTextRange = this.legendModule.legendTextRange;\n        var loop = true;\n        for (var i = 0; i < legendRange.length; i++) {\n            if (this.legendSettings.toggleVisibility && this.legendModule.currentPage === legendRange[i].currentPage) {\n                if ((loop && (pageX >= legendRange[i].x\n                    && pageX <= legendRange[i].width + legendRange[i].x) &&\n                    (pageY >= legendRange[i].y && pageY <= legendRange[i].y + legendRange[i].height) ||\n                    ((this.legendSettings.showLabel && this.legendSettings.labelDisplayType !== 'None' &&\n                        pageX >= legendTextRange[i].x\n                        && pageX <= legendTextRange[i].width + legendTextRange[i].x) &&\n                        (pageY >= legendTextRange[i].y\n                            && pageY <= legendTextRange[i].y + legendTextRange[i].height)))) {\n                    if (this.enableCanvasRendering) {\n                        document.getElementById(this.element.id + '_canvas').style.cursor = 'Pointer';\n                    }\n                    else {\n                        document.getElementById(this.element.id + '_svg').style.cursor = 'Pointer';\n                        var legendLabelTooltipContainer = document.getElementById(this.element.id + 'legendLabelTooltipContainer');\n                        if (!isNullOrUndefined(legendLabelTooltipContainer)) {\n                            legendLabelTooltipContainer.style.cursor = 'Pointer';\n                        }\n                    }\n                    loop = false;\n                }\n                else if (loop) {\n                    if (this.enableCanvasRendering) {\n                        document.getElementById(this.element.id + '_canvas').style.cursor = '';\n                    }\n                    else {\n                        document.getElementById(this.element.id + '_svg').style.cursor = '';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Handles the mouse end.\n     *\n     * @returns {boolean}\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseLeave = function (e) {\n        var _this = this;\n        if (e.target && e.target.id &&\n            (this.cellSettings.enableCellHighlighting || (this.tooltipModule && this.showTooltip))\n            && !this.enableCanvasRendering) {\n            this.heatMapSeries.highlightSvgRect(this.tempTooltipRectId);\n        }\n        if (this.allowSelection && this.multiSelection) {\n            this.multiSelection = false;\n            if (e.type === 'mouseup' || e.type === 'mouseleave' || e.type === 'touchend' || e.type === 'pointerup') {\n                if (e.which !== 2 && e.which !== 3) {\n                    if (this.isCellTapHold === false) {\n                        var rect = void 0;\n                        var selectionRect = document.getElementById(this.element.id + '_selectedCells');\n                        if (!isNullOrUndefined(selectionRect)) {\n                            var rectBound = selectionRect.getClientRects()[0];\n                            rect = new Rect(rectBound.left, rectBound.top, rectBound.width, rectBound.height);\n                        }\n                        else {\n                            var pageX = void 0;\n                            var pageY = void 0;\n                            var touchArg = void 0;\n                            var elementRect = this.element.getBoundingClientRect();\n                            if (e.type === 'touchend') {\n                                this.isTouch = true;\n                                touchArg = e;\n                                pageY = touchArg.changedTouches[0].clientY;\n                                pageX = touchArg.changedTouches[0].clientX;\n                            }\n                            else {\n                                this.isTouch = false;\n                                pageY = e.clientY;\n                                pageX = e.clientX;\n                            }\n                            pageX -= elementRect.left;\n                            pageY -= elementRect.top;\n                            var x = this.initialCellX > pageX ? pageX : this.initialCellX;\n                            var y = this.initialCellY > pageY ? pageY : this.initialCellY;\n                            rect = new Rect(x - this.initialClipRect.x, y - this.initialClipRect.y, Math.abs(pageX - this.initialCellX) !== 0 ? Math.abs(pageX - this.initialCellX) :\n                                Math.abs(pageY - this.initialCellY), Math.abs(pageY - this.initialCellY));\n                        }\n                        if (!(rect.width > 0 && !this.enableMultiSelect)) {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            var selectedCellCollection = [];\n                            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                                selectedCellCollection.push(this.multiCellCollection[i]);\n                            }\n                            if (e.ctrlKey === false || !this.enableMultiSelect) {\n                                this.multiCellCollection = [];\n                            }\n                            this.getDataCollection();\n                            var argData = {\n                                heatmap: this,\n                                cancel: false,\n                                name: 'cellSelected',\n                                data: this.multiCellCollection\n                            };\n                            this.trigger('cellSelected', argData);\n                            if (!argData.cancel) {\n                                if (e.ctrlKey === false || !this.enableMultiSelect) {\n                                    this.removeSelectedCellsBorder(false);\n                                }\n                                this.currentRect.allowCollection = false;\n                            }\n                            else {\n                                this.multiCellCollection = selectedCellCollection;\n                                if (this.multiCellCollection.length > 0 || e.ctrlKey === false || !this.enableMultiSelect) {\n                                    this.removeSelectedCellsBorder(true);\n                                }\n                            }\n                            this.setCellOpacity();\n                            if (e.type === 'touchend') {\n                                window.clearTimeout(this.tooltipTimer);\n                                this.tooltipOnMouseMove(null, this.currentRect, true);\n                            }\n                        }\n                    }\n                    else {\n                        this.isCellTapHold = false;\n                    }\n                }\n            }\n        }\n        if (this.tooltipModule && this.showTooltip && e.type === 'mouseleave') {\n            this.tooltipModule.showHideTooltip(false);\n        }\n        this.tempTooltipRectId = '';\n        if (this.legendModule && this.legendSettings.visible && this.legendModule.tooltipObject &&\n            this.legendModule.tooltipObject.element) {\n            var tooltipElement_1 = this.legendModule.tooltipObject.element.firstChild;\n            if (e.type === 'mouseleave') {\n                tooltipElement_1.setAttribute('opacity', '0');\n            }\n            else {\n                if (this.legendTooltipTimer) {\n                    window.clearTimeout(this.legendTooltipTimer);\n                }\n                this.legendTooltipTimer = setTimeout(function () {\n                    tooltipElement_1.setAttribute('opacity', '0');\n                }, 1500);\n            }\n        }\n        if (this.paletteSettings.type === 'Gradient' && this.legendModule && this.legendSettings.showGradientPointer &&\n            this.legendSettings.visible && this.legendVisibilityByCellType) {\n            if (e.type === 'mouseleave') {\n                this.legendModule.removeGradientPointer();\n            }\n            else {\n                if (this.gradientTimer) {\n                    window.clearTimeout(this.gradientTimer);\n                }\n                this.gradientTimer = setTimeout(function () { _this.legendModule.removeGradientPointer(); }, 1500);\n            }\n        }\n        if (this.enableCanvasRendering) {\n            var main = document.getElementById(this.element.id + '_hoverRect_canvas');\n            if (main) {\n                main.style.visibility = 'hidden';\n                this.tempRectHoverClass = '';\n            }\n        }\n        if (this.titleSettings.text && this.titleCollection[0].indexOf('...') !== -1) {\n            e.preventDefault();\n            if (!this.isTouch) {\n                if (!this.enableCanvasRendering) {\n                    removeElement(this.element.id + '_Title_Tooltip');\n                }\n                else {\n                    removeElement(this.element.id + '_canvas_Tooltip');\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * Method to Check for deselection of cell.\n     */\n    HeatMap.prototype.checkSelectedCells = function () {\n        if (!this.enableCanvasRendering) {\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                for (var j = 0; j < this.selectedMultiCellCollection.length; j++) {\n                    if (this.selectedMultiCellCollection[j].cellElement.getAttribute('id')\n                        === this.multiCellCollection[i].cellElement.getAttribute('id')) {\n                        this.selectedCellCount++;\n                    }\n                }\n            }\n        }\n        else {\n            this.canvasSelectedCells = new Rect(0, 0, 0, 0);\n            this.canvasSelectedCells.x = this.selectedCellsRect.x;\n            this.canvasSelectedCells.y = this.selectedCellsRect.y;\n            this.canvasSelectedCells.width = this.selectedCellsRect.width;\n            this.canvasSelectedCells.height = this.selectedCellsRect.height;\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                for (var j = 0; j < this.selectedMultiCellCollection.length; j++) {\n                    if (this.selectedMultiCellCollection[j].xPosition === this.multiCellCollection[i].xPosition &&\n                        this.selectedMultiCellCollection[j].yPosition === this.multiCellCollection[i].yPosition) {\n                        this.selectedCellCount++;\n                    }\n                }\n            }\n            if (this.rectSelected && this.paletteSettings.type === 'Gradient') {\n                this.legendModule.removeGradientPointer();\n            }\n        }\n    };\n    /**\n     * Method to remove opacity for text of selected cell for HeatMap\n     */\n    HeatMap.prototype.removeOpacity = function (containersRect, containerText) {\n        for (var i = 0; i < containersRect.childNodes.length; i++) {\n            containersRect.childNodes[i].setAttribute('opacity', '0.3');\n            if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                containerText.childNodes[i].setAttribute('opacity', '0.3');\n            }\n        }\n    };\n    /**\n     * Method to set opacity for selected cell for HeatMap\n     */\n    HeatMap.prototype.setCellOpacity = function () {\n        if (!this.enableCanvasRendering) {\n            if (this.multiCellCollection.length !== 0) {\n                this.tempMultiCellCollection.push(this.multiCellCollection);\n                var containersRect = document.getElementById(this.element.id + '_Container_RectGroup');\n                var containerText = document.getElementById(this.element.id + '_Container_TextGroup');\n                this.removeOpacity(containersRect, containerText);\n                for (var i = 0; i < this.multiCellCollection.length; i++) {\n                    var collectionClasss = this.multiCellCollection[i].cellElement;\n                    var index = parseInt(collectionClasss.id.replace(this.element.id + '_HeatMapRect_', ''), 10);\n                    containersRect.childNodes[index].setAttribute('opacity', '1');\n                    if (this.cellSettings.showLabel) {\n                        var getText = document.getElementById(this.element.id + '_HeatMapRectLabels_' + index);\n                        if (getText) {\n                            getText.setAttribute('opacity', '1');\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            this.previousSelectedCellsRect.push(this.selectedCellsRect);\n            this.highlightSelectedAreaInCanvas(this.selectedCellsRect);\n        }\n        removeElement(this.element.id + '_selectedCells');\n    };\n    /**\n     * To create div container for rendering two layers of canvas.\n     *\n     * @returns {void}\n     * @private\n     */\n    HeatMap.prototype.createMultiCellDiv = function (onLoad) {\n        if (onLoad) {\n            var divElement = this.createElement('div', {\n                id: this.element.id + '_Multi_CellSelection_Canvas'\n            });\n            divElement.style.position = 'relative';\n            this.element.appendChild(divElement);\n            divElement.appendChild(this.svgObject);\n            this.svgObject.style.position = 'absolute';\n            this.svgObject.style.left = '0px';\n            this.svgObject.style.top = '0px';\n            this.svgObject.style.zIndex = '0';\n        }\n        else {\n            var element = document.getElementById(this.element.id + '_Multi_CellSelection_Canvas');\n            var secondaryCanvas = this.secondaryCanvasRenderer.createCanvas({\n                width: this.availableSize.width,\n                height: this.availableSize.height, x: 0, y: 0\n            });\n            secondaryCanvas.style.cssText = 'position: absolute; z-index: 1';\n            element.appendChild(secondaryCanvas);\n        }\n    };\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"height\", void 0);\n    __decorate([\n        Property(true)\n    ], HeatMap.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"resized\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellRender\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Property('SVG')\n    ], HeatMap.prototype, \"renderingMode\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"dataSource\", void 0);\n    __decorate([\n        Complex({}, Data)\n    ], HeatMap.prototype, \"dataSourceSettings\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"backgroundColor\", void 0);\n    __decorate([\n        Property('Material')\n    ], HeatMap.prototype, \"theme\", void 0);\n    __decorate([\n        Property(false)\n    ], HeatMap.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], HeatMap.prototype, \"enableMultiSelect\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], HeatMap.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ text: '', textStyle: Theme.heatMapTitleFont }, Title)\n    ], HeatMap.prototype, \"titleSettings\", void 0);\n    __decorate([\n        Complex({}, Axis)\n    ], HeatMap.prototype, \"xAxis\", void 0);\n    __decorate([\n        Complex({ position: 'Right' }, LegendSettings)\n    ], HeatMap.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Complex({}, PaletteSettings)\n    ], HeatMap.prototype, \"paletteSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], HeatMap.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, Axis)\n    ], HeatMap.prototype, \"yAxis\", void 0);\n    __decorate([\n        Complex({}, CellSettings)\n    ], HeatMap.prototype, \"cellSettings\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellClick\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"legendRender\", void 0);\n    HeatMap = __decorate([\n        NotifyPropertyChanges\n    ], HeatMap);\n    return HeatMap;\n}(Component));\nexport { HeatMap };\n"],"names":["stringToNumber","value","containerSize","undefined","indexOf","parseInt","measureText","text","font","breakText","htmlObject","document","getElementById","createElement","id","body","appendChild","textArray","split","i","length","replace","join","innerText","style","position","visibility","fontSize","size","fontWeight","fontStyle","fontFamily","top","left","whiteSpace","lineHeight","Size","clientWidth","clientHeight","titlePositionX","width","leftPadding","rightPadding","titleStyle","textAlignment","createLabelTemplate","template","heatMap","labelTemplate","rectPosition","xLabels","yLabels","index","templateFunction","getTemplateFunction","rectData","dataSource","dataSourceSettings","isJsonData","adaptorType","xLabel","xIndex","yLabel","yIndex","yLabelData_1","yAxis","valueType","labels","xLabelData_1","xAxis","forEach","item","yDataMapping","Object","keys","some","key","prototype","hasOwnProperty","call","isNullOrUndefined","templateElement","convertElement","element","cssText","y","x","height","children","pointerEvents","templateFn","querySelectorAll","templateComplier","querySelector","innerHTML","trim","isVue","isVue3","e","elementId","childElement","elementLength","sum","values","_i","values_1","titlePositionY","heatmapSize","topPadding","bottomPadding","rotateTextSize","angle","dy","label","tspanElement","renderer","SvgRenderer","svgObject","createSvg","options","font-size","font-style","toLowerCase","font-family","font-weight","transform","text-anchor","createText","len","createTSpan","box","getBoundingClientRect","remove","right","bottom","getTitle","title","titleCollection","textOverflow","textWrap","push","textTrim","textNone","getIsLineBreakLabel","isLineBreak","currentLabel","maximumWidth","textCollection","labelCollection","concat","maxWidth","substring","showTooltip","areaWidth","isTouch","heatmap","tooltip","toString","titleSettings","availableSize","this","tooltipTimer","window","clearTimeout","setTimeout","removeElement","getElement","removeMeasureElement","increaseDateTimeInterval","interval","intervalType","increment","result","Date","Math","ceil","setFullYear","getFullYear","setMonth","getMonth","setDate","getDate","setHours","getHours","setMinutes","getMinutes","getTooltipText","tooltipCollection","xPosition","yPosition","region","colorNameToHex","color","isRGBValue","getComputedStyle","convertToHexCode","RgbColor","componentToHex","R","G","B","hex","convertHexToColor","exec","formatValue","isCustom","format","tempInterval","formatFun","Theme","heatMapTitleFont","titleFont","axisTitleFont","axisLabelFont","legendLabelFont","rectLabelFont","tooltipFont","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","__","constructor","create","__decorate","decorators","target","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Font","_super","apply","Property","ChildProperty","Margin","Border","TooltipBorder","BubbleData","Title","Complex","FillColor","PaletteCollection","AxisLabelBorder","BubbleSize","MultiLevelCategories","MultiLevelLabels","type","Collection","ColorCollection","startValue","endValue","minColor","maxColor","BubbleTooltipData","mappingName","bubbleData","LegendColorCollection","isHidden","MultipleRow","start","end","row","PaletteSettings","g","CellColor","convertToRGB","colorMapping","previousColor","nextColor","previousOffset","isColorRange","nextOffset","paletteSettings","offset","Number","colorCollection","dataSourceMinValue","fillColor","dataSourceMaxValue","getEqualColor","percent","isNaN","getPercentageColor","rgbToHex","list","convertToHex","itemColor","substr","colorSplit","previous","next","prevColor","getPercentage","full","round","getColorCollection","legendColorCollection","range","j","palette","minValue","bubbleSizeWithColor","minColorValue","maxValue","maxColorValue","emptyPointColor","themeStyle","emptyCellColor","tempcolorMapping","orderbyOffset","isCompact","offsets","extend","updateLegendColorCollection","isLabel","unshift","returnCollection","PaletterColor","sort","a","getColorByValue","rbg","compareValue","cellSettings","tileType","bubbleType","singleValue","legendRange","legendVisibilityByCellType","legendModule","visible","toggledColor","colorGradientMode","TextElement","fontModel","fontColor","fill","CustomizeOption","PathOption","opacity","dashArray","_this","stroke","parseFloat","CurrentRect","xValue","yValue","displayText","textId","allowCollection","SelectedCellDetails","cellElement","RectOption","border","rect","borderColor","rx","ry","CircleOption","cx","cy","Rect","TextOption","basic","labelRotation","baseline","TextBasic","anchor","baseLine","Line","x1","y1","x2","y2","LineOption","line","strokewidth","dasharray","PathAttributes","path","borderWidth","Path","innerR","radius","counterClockWise","DrawSvgCanvas","drawRectangle","properties","parentElement","isFromSeries","enableCanvasRendering","drawCanvasRectangle","canvasRenderer","drawCircle","drawCanvasCircle","drawPath","drawCanvasPath","canvasDrawText","createWrapText","renderOptions","dominant-baseline","drawLine","translateX","translateY","wrappedLabels","elementHeight","isAxisLabel","ctx","getOptionValue","save","fillStyle","textAlign","textBaseline","translate","rotate","PI","fillText","restore","setAttributes","canvas","lineWidth","dashArrayString","setLineDash","strokeStyle","canvasCtx","beginPath","globalAlpha","drawCornerRadius","cornerRadius","moveTo","arcTo","closePath","arc","dataSplit","lineTo","Gradient","GradientColor","colorStop","CanvasTooltip","GradientPointer","pathX1","pathY1","pathX2","pathY2","pathX3","pathY3","CurrentLegendRect","LegendRange","currentPage","ToggleVisibility","MultiLevelPosition","Axis","multipleRow","nearSizes","farSizes","maxLabelSize","titleSize","multilevel","axisLabels","tooltipLabels","labelValue","axisLabelSize","axisLabelInterval","dateTimeAxisLabelInterval","maxLength","min","max","isIntersect","jsonCellLabel","multiLevelSize","xAxisMultiLabelHeight","yAxisMultiLabelHeight","multiLevelPosition","computeSize","axis","getTitleSize","getMaxLabelSize","getMultilevelLabelsHeight","multiLevelLabels","multiLevelLabelSize","multiPosition","innerPadding","orientation","level0","level1","isInversed","opposedPosition","labelSize","multiLevel","categoryLabel","categories","size_1","textStyle","gap","startPosition","endPosition","multiLevelLabelsHeight","isVertical","padding","map","heatMapAxis","calculateLeftPosition","calculateWidth","maximumTextWidth","abs","overflow","count","showLabelOn","initialClipRect","labelIntersectAction","enableTrim","startX","previousEnd","previousStart","clearMultipleRow","elementSize","axisInterval","startPoint","endPoint","reverse","labelLength","maxLabelLength","wrappedlabels","trimmedLabel","labelInterval","i_1","labelWidth","wrappedlabelSize","tempintervel","pop","k","calculateNumericAxisLabels","adaptorMin","adaptorMax","adaptorModule","isCellData","adaptiveXMinMax","adaptiveYMinMax","minimum","maximum","temp","labelFormat","match","intl","getNumberFormat","floor","calculateCategoryAxisLabels","calculateDateTimeAxisLabel","option","skeleton","dateParser","getDateParser","dateFormatter","getDateFormat","parse","DataUtil","parseJson","val","getTime","getSkeleton","calculateLabelInterval","getTotalLabelLength","numberOfDays","year","month","day","minutes","difference","days","years","months","hours","clearAxisLabel","AxisHelper","drawSvgCanvas","renderAxes","axisElement","createGroup","axes","axisCollections","drawXAxisLine","drawXAxisTitle","drawXAxisLabels","drawYAxisLine","drawYAxisTitle","drawYAxisLabels","drawMultiLevels","parent","titlepadding","axisTitle","calculateVisibleLabels","axisCollection","data","processLabels","measureAxis","calculateAxisSize","compactInterval","labelPadding","lableStrtX","labelElement","borderElement","lableRect","wrappedLabel","rotateSize","getLabels","getMaxLabel","drawXAxisBorder","axisLabel","getWrappedLabels","lableStartY","labelRect","axisWidth","indexValue","labelIndex","Browser","isIE","drawYAxisBorder","lableX","endX","endY","startY","endY1","endY2","createAxisBorderElement","lableY","labelBorder","pathOptions","canvasTranslate","renderXAxisMultiLevelLabels","renderYAxisMultiLevelLabels","textLength","pathRect","level","theme","setProperties","alignment","textBasic","i_2","renderXAxisLabelBorder","createBorderElement","renderYAxisLabelBorder","borderIndex","calculateNumberOfDays","date","firstDate","secondDate","givenDate","CellSettings","Series","cellColor","renderRectSeries","createSeriesGroup","isValueInRange","xLength","yLength","tempX","tempY","dataXIndex","dataYIndex","cellSetting","tempWidth","tempHeight","tempVal","tempRectPosition","tempBorder","rectPositionCollection","bubbleColorValue","circleRadius","getBubbleRadius","dataMin","dataMax","setTextAndColor","updateRectDetails","showLabel","getFormatedText","rectValue","bubbleDataMapping","slice","cellRender","cellRendering","renderingMode","renderTileCell","updateLabelVisibleStatus","renderBubbleCell","renderSectorCell","checkLabelXDisplay","checkLabelYDisplay","isFinite","tempCircleRadius","getRadiusBypercentage","rangeSelection","isCellValueInRange","themeCellTextStyle","getSaturatedColor","containerTextObject","containerRectObject","toggleValue","clonedDataSource","bubbleText","yLabelValue","argData","cancel","name","trigger","adaptData","isColorValueExist","tempBubbleCollection","cellBorder","bubblePosition","curve","startAngle","endAngle","cX","cY","X1","Y1","tempcX","tempcY","pathBorderWidth","centerX","centerY","tempColor","sectorContibution","cos","sin","sector","calculateShapes","pathString","merge","circle","bubbleSize","valueInPrecentage","isInversedBubbleSize","saturatedColor","rgbValue","backgroundColor","highlightSvgRect","tempID","tempIndex","tempRectHoverClass","enableCellHighlighting","oldElement","rectSelected","setAttribute","getFormat","getCurrentRect","currentRect","firstRectDetails","heatMapSeries","rectX","rectY","hoverXAxisLabel","hoverXAxisValue","hoverYAxisLabel","hoverYAxisValue","TooltipSettings","Tooltip","isFirst","isFadeout","getModuleName","showHideTooltip","isShow","ele","tooltipObject","isRectBoundary","fadeOut","firstChild","destroy","createTooltip","tempTooltipText","select","tooltipSettings","tool","enableAnimation","location","content","areaBounds","createTooltipDiv","allowSelection","element2","tooltipElement","getTooltipContent","hetmapSeries","value1","value2","renderTooltip","tooltipRender","tooltipCallback","observedArgs","TwoDimensional","processDataSource","tempCloneData","completeDataSource","minVal","maxVal","tempVariable","dataLength","cloneDataIndex","minMaxDatasource","tempSizeArray","tempColorArray","z","processDataArray","minMaxVal","getMinMaxValue","internalArray","tempx","minMaxValue","getMinValue","getMaxValue","performSort","filter","checkmin","LegendSettings","Legend","maxLegendLabelSize","gradientScaleSize","segmentCollections","segmentCollectionsLabels","textWrapCollections","labelCollections","legendSize","previousOptions","listPerPage","numberOfPages","listWidth","fillRect","legendRect","lastList","navigationCollections","pagingRect","listInterval","legendLabelTooltip","legendTitleTooltip","labelXCollections","labelYCollections","legendXCollections","legendYCollections","legendRectPositionCollection","legendTextRange","visibilityCollections","renderLegendItems","legend","rectItems","legendGroup","legendBound","legendRectScale","rectItemsSvg","legendSettings","enableSmartLegend","resizing","legendOnLoad","rendering","clip","grd","ctx_1","horizontalGradient","createLinearGradient","legendMinValue","legendMaxValue","calculateCanvasColorRange","addColorStop","gradientOptions","gradientColor","cgradientColors","calculateColorRange","gradientPercentage","linearGradient","drawGradient","rectItem","renderElements","renderSmartLegend","renderTitle","renderLegendLabel","legendScale","listRect","translategroup","calculateListPerPage","paginggroup","renderListLegendMode","renderColorAxisGrid","gradientColor2","gradientColor3","gradientColor1","heatMapTitle","smartLegendRect","legendX","legendY","legendWidth","legendHeight","labelDisplayType","colorRangeLegendPosition","labelX","labelPosition","dominantBaseline","legendLabel","textWrapWidth","labelY","legendRectPadding","textPosition","lastChild","clippath","createClipPath","clipRect","renderGradientPointer","pageX","pageY","direction","legendPath","cellValue","removeGradientPointer","gradientPointer","background","clearRect","calculateLegendBounds","legendEventArg","legendRender","calculateTitleBounds","calculateListLegendBounds","listHeight","perListWidth","numberOfRows","calculateLegendSize","legendTop","axisTitlePadding","axisHeight","margin","calculateGradientScale","measureListLegendBound","maxHeight","renderPagingElements","rightArrowX","rightArrowY","textSize","textX","pagingTextRect","rightArrowRect","iconSize","rightArrow","leftX","leftArrow","leftArrowRect","leftOption","rightOption","arrow","rightarrow","scale","titleHeight","calculateColorAxisGrid","legendPart","maxTextWrapLength","segmentWidth","previousSegmentWidth","nextSegmentWidth","legendElement","renderLegendTitleTooltip","textContent","offsetWidth","renderLegendLabelTooltip","targetId","division","legendEventArgs","rectPosition_1","listColor","translatePage","page","isNext","removeChild","childNodes","secondaryCanvasRenderer","initialRect","rectWidth","rectHeight","oldCanvas","newCanvas","rectImage","getContext","getImageData","putImageData","currentLegendRect","inverted","legendRangeSelection","legendPadding","ctx_2","clearSelection","updateLegendRangeCollections","Data","AdaptiveMinMax","Adaptor","reconstructedXAxis","reconstructedYAxis","constructDatasource","completeAdaptDataSource","processJsonTableData","processJsonCellData","constructAdaptiveAxis","processCellData","getNumericAxisCollection","getDateAxisCollection","loopIndex","tempAxisColl","adapData","dataIndex","xDataIndex","yDataIndex","tempDataCollection","currentDataXIndex","currentDataYIndex","reconstructData","xindex","adaptordata","xAxisLabels","yAxisLabels","generateAxisLabels","getSplitDataValue","xDataMapping","valueMapping","hasXLabels","hasYLabels","hasLabels","dataMapping","tempSplitDataCollection","tempSplitData","splitIndex","ExportUtils","control","export","fileName","url","image","controlValue","getControlsValue","isCanvas","attrs","isDownload","userAgent","PdfPageOrientation","Landscape","svgData","svg","outerHTML","toDataURL","exportElement","cloneNode","backgroundElement","getAttribute","URL","createObjectURL","Blob","XMLSerializer","serializeToString","info","navigator","msSaveOrOpenBlob","toLocaleLowerCase","triggerDownload","createCanvas","exportPdf","doExport","image_1","Image","backgroundColor_1","shadowColor","onload","drawImage","revokeObjectURL","msToBlob","src","download","href","dispatchEvent","MouseEvent","view","bubbles","cancelable","groupEle","renderMode","refresh","PdfDocument","pageSettings","margins","pdfDefaultWidth","pdfDefaultHeight","imageString","exactWidth","exactHeight","SizeF","pages","add","graphics","PdfBitmap","images","fileType","exportImage","buffers","HTMLElement","image1","byteString","atob","buffer","ArrayBuffer","intArray","Uint8Array","charCodeAt","print","printWindow","open","outerHeight","outerWidth","resizeTo","screen","availWidth","availHeight","getHTMLContent","dataUrl","image_2","div","HeatMap","isCellTapHold","selectedCellCount","multiSelection","previousSelectedCellsRect","multiCellCollection","selectedMultiCellCollection","tempMultiCellCollection","preRender","initPrivateVariable","unWireEvents","wireEvents","CanvasRenderer","twoDimensional","tempTooltipRectId","setCulture","Internationalization","render","updateBubbleHelperProperty","textSettings","initAxis","processInitData","setTheme","calculateMaxLength","calculateBounds","appendSvgObject","tooltipModule","renderComplete","reRenderDatasource","setRenderMode","renderSecondaryElement","renderBorder","getPersistData","onPropertyChanged","newProp","oldProp","refreshBounds","isUpdateSelection","_a","paletteCellSelectionUpdation","refreshBound","updateCellSelection","removeSvg","calculateSize","createMultiCellDiv","tooltipDiv","divElement","requiredModules","modules","member","args","touchInstance","classList","offsetHeight","alignElement","parentNode","tagName","align","containerWidth","titleTooltip","event","axisTooltip","tooltipText","isHeatmapRect","isRect","lastRectDetails","cellTextColor","getThemeColor","titleRect","isIE11Pointer","isPointer","touchStartEvent","stop","touchEndEvent","move","touchMoveEvent","EventHandler","isDevice","heatMapMouseClick","heatMapMouseDoubleClick","heatMapMouseMove","heatMapMouseLeave","resizeEvent","heatMapResize","bind","addEventListener","Touch","tapHold","originalEvent","selectedCellCollection","ctrlKey","enableMultiSelect","getDataCollection","removeSelectedCellsBorder","setCellOpacity","tooltipOnMouseMove","tap","isCellTap","touchArg","elementRect","changedTouches","clientX","clientY","setStyle","touchAction","zoom","userSelect","webkitUserSelect","display","removeEventListener","currentSize","previousSize","resizeTimer","isDestroyed","wSize","hSize","topPositions","bottomPositions","rightPosition","leftPosition","containersRect","containerText","cellIndex","getText","addSvgClass","clearSVGSelection","elementClassName","removeSvgClass","xAxisMax","yAxisMax","length_1","setMouseXY","svgCanvasRect","mouseX","mouseY","triggerClickEvent","isDoubleClick","notify","loop","toggleVisibility","mouseAction","isheatmapRect","showGradientPointer","renderMousePointer","isshowTooltip","which","cellSelectionOnMouseMove","tooltipRect","previousRect","initialCellX","initialCellY","preventDefault","highlightSelectedCells","pXIndex","pYIndex","cXIndex","cYIndex","selectedCellsRect","parentDiv","minX","maxX","minY","maxY","cellX","cellY","getCellCollection","checkSelectedCells","canvasSelectedCells","singleCellData","getSelectedCellData","isSelectionCancel","rects","containerRect","highlightSelectedAreaInCanvas","topPosition","bottomPosition","cellCollection","cellDetails","rectElement","splice","className","cursor","legendLabelTooltipContainer","selectionRect","rectBound","getClientRects","tooltipElement_1","legendTooltipTimer","gradientTimer","main","removeOpacity","collectionClasss","onLoad","zIndex","secondaryCanvas","Event","NotifyPropertyChanges","Component"],"mappings":"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"}